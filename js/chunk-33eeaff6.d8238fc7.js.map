{"version":3,"sources":["webpack:///./node_modules/core-js/internals/native-url.js","webpack:///./node_modules/wangeditor/release/wangEditor.js","webpack:///./node_modules/core-js/modules/web.url.js","webpack:///./node_modules/core-js/modules/es.map.js","webpack:///./node_modules/core-js/modules/es.array.of.js","webpack:///./node_modules/core-js/internals/string-punycode-to-ascii.js","webpack:///./node_modules/core-js/internals/collection-strong.js","webpack:///./node_modules/core-js/internals/collection.js","webpack:///./src/views/Resource.vue?f085","webpack:///./node_modules/core-js/modules/web.url-search-params.js","webpack:///./node_modules/core-js/internals/get-iterator.js","webpack:///./node_modules/core-js/modules/es.array.splice.js","webpack:///./node_modules/core-js/internals/freezing.js","webpack:///./src/views/Resource.vue?24e5","webpack:///./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///./src/components/apidata/api.js","webpack:///src/views/Resource.vue","webpack:///./src/views/Resource.vue?8bde","webpack:///./src/views/Resource.vue","webpack:///./node_modules/core-js/internals/internal-metadata.js"],"names":["fails","wellKnownSymbol","IS_PURE","ITERATOR","module","exports","url","URL","searchParams","result","pathname","forEach","value","key","toJSON","sort","href","get","String","URLSearchParams","username","host","hash","undefined","global","factory","this","polyfill","Object","assign","target","varArgs","TypeError","to","index","arguments","length","nextSource","nextKey","prototype","hasOwnProperty","call","Element","matches","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","s","document","ownerDocument","querySelectorAll","i","item","createElemByHTML","html","div","createElement","innerHTML","children","isDOMList","selector","HTMLCollection","NodeList","eventList","DomElement","nodeType","selectorResult","Array","replace","trim","indexOf","$","constructor","fn","elem","clone","deep","cloneList","push","cloneNode","first","last","on","type","types","split","addEventListener","e","off","removeEventListener","attr","val","getAttribute","setAttribute","addClass","className","arr","filter","join","removeClass","css","currentStyle","style","styleArr","resultArr","map","show","hide","childNodes","append","$children","child","appendChild","remove","parent","parentElement","removeChild","isContain","$child","contains","getSizeData","getBoundingClientRect","getNodeName","nodeName","find","text","focus","parentUntil","_currentElem","results","equal","$elem","insertBefore","$referenceNode","referenceNode","parentNode","insertAfter","lastChild","nextSibling","offAll","config","menus","fontNames","colors","emotions","title","content","alt","src","zIndex","debug","linkCheck","link","linkImgCheck","pasteFilterStyle","pasteIgnoreImg","pasteTextHandle","showLinkImg","linkImgCallback","uploadImgMaxSize","uploadImgShowBase64","uploadFileName","uploadImgParams","uploadImgHeaders","withCredentials","uploadImgTimeout","uploadImgHooks","before","xhr","editor","files","success","fail","error","timeout","qiniu","UA","_ua","navigator","userAgent","isWebkit","reg","test","isIE","window","objForEach","obj","arrForEach","fakeArr","getRandom","prefix","Math","random","toString","slice","replaceHtmlSymbol","isFunction","Bold","_active","onClick","isSeleEmpty","selection","isSelectionEmpty","createEmptyRange","cmd","do","collapseRange","restoreSelection","tryChangeActive","queryCommandState","replaceLang","str","langArgs","_emptyFn","DropList","menu","opt","_this","$container","$title","titleHtml","list","$list","elemHtml","$li","hideTimeoutId","setTimeout","_rendered","_show","Head","droplist","width","_command","FontSize","FontName","fontName","clearTimeout","$menuELem","menuHeight","height","showTimeoutId","$selectionElem","getSelectionContainerElem","$textElem","cmdValue","queryCommandValue","emptyFn","_isCreatedPanelMenus","Panel","Link","Italic","Redo","StrikeThrough","Underline","Undo","List","Justify","ForeColor","color","BackColor","Quote","Code","Emoticon","Table","Video","Image","imgMenuId","$body","$textContainerElem","$closeBtn","$tabTitleContainer","$tabContentContainer","tabs","tabTitleArr","tabContentArr","tab","tabIndex","tpl","$content","_index","stopPropagation","events","event","needToHide","$inputs","_hideOtherPanels","panel","$linkelem","createRangeByElem","_createPanel","getSelectionText","inputLinkId","inputTextId","btnOkId","btnDelId","delBtnDisplay","$link","$text","_insertLink","_delLink","$selectionELem","selectionText","checkResult","alert","$parent","$targetELem","$startElem","getSelectionStartElem","$endElem","getSelectionEndElem","$code","textId","btnId","_insertCode","_updateCode","$parentElem","tabConfig","emotData","emotType","faceHtml","$target","insertHtml","_insert","emotHtml","_createEditPanel","_createInsertPanel","btnInsertId","textRowNum","textColNum","rowNum","parseInt","colNum","r","c","_this2","addRowBtnId","addColBtnId","delRowBtnId","delColBtnId","delTableBtnId","_addRow","_addCol","_delRow","_delCol","_delTable","_getLocationData","$tr","$tds","tdLength","td","$tbody","$trs","trLength","tr","locationData","trData","$currentTr","tdData","newTr","tdIndex","$trParent","$currentTd","name","toLowerCase","newTd","$table","textValId","width30","width50","width100","delBtn","tabsConfig","$img","_selectedImg","uploadImg","upTriggerId","upFileId","linkUrlId","linkBtnId","$file","fileElem","click","fileList","$linkUrl","insertLinkImg","tabsConfigResult","uploadImgServer","customUploadImg","FileReader","MenuConstructors","Menus","getPasteText","clipboardData","originalEvent","pasteText","getData","getPasteHtml","filterStyle","ignoreImg","pasteHtml","docSplitHtml","getPasteImgs","txt","items","getAsFile","getChildrenJSON","curElem","elemResult","textContent","tag","attrData","attrList","attributes","attrListLength","attrs","Text","Command","API","_currentRange","Progress","_time","_isShow","_isRender","_timeoutId","$textContainer","$bar","bold","head","fontSize","italic","redo","strikeThrough","underline","undo","justify","foreColor","backColor","quote","code","emoticon","table","video","image","init","configMenus","menuKey","MenuConstructor","_addToToolbar","_bindEvent","$toolbarElem","getRange","changeActive","clear","initSelection","getJSON","_saveRangeRealTime","_enterKeyHandle","_clearHandle","_pasteHandle","_tabHandle","_imgHandle","_dragHandle","saveRange","insertEmptyP","$p","pHandle","codeHandle","selectionNodeName","parentNodeName","queryCommandSupported","_willBreakCode","preventDefault","_startOffset","startOffset","codeLength","keyCode","txtHtml","pasteTime","canDo","now","Date","flag","resetTime","ex","pasteFiles","img","$document","dataTransfer","_useStyleWithCSS","execCommand","_name","_execCommand","change","_insertHTML","range","insertNode","deleteContents","pasteHTML","_insertElem","_range","getSelection","rangeCount","getRangeAt","$containerElem","toStart","collapse","commonAncestorContainer","startContainer","endContainer","endOffset","removeAllRanges","addRange","setEnd","isContent","createRange","selectNodeContents","selectNode","progress","timeoutId","_hide","_typeof","Symbol","iterator","UploadImg","_alert","alertInfo","debugInfo","customAlert","Error","onload","callback","onerror","onabort","_this3","maxSize","maxSizeM","maxLength","uploadImgMaxLength","uploadImgParamsWithUrl","hooks","resultFiles","errInfo","file","size","bind","formdata","FormData","uploadImgServerArr","uploadImgServerHash","XMLHttpRequest","open","ontimeout","upload","onprogress","percent","progressBar","lengthComputable","loaded","total","onreadystatechange","readyState","status","responseText","JSON","parse","customInsert","errno","data","beforeResult","prevent","msg","setRequestHeader","send","reader","readAsDataURL","editorId","Editor","toolbarSelector","textSelector","id","customConfig","_initConfig","langConfig","lang","RegExp","_initDom","$toolbarSelector","config$$1","toolbarElemId","textElemId","compositionEnd","onfocus","onblur","isFocus","isChild","isToolbar","isMenu","_initCommand","_initSelectionAPI","_initUploadImg","_initMenus","_initText","newLine","$last","onChangeTimeoutId","beforeChangeHtml","onchangeTimeout","onchange","currentHtml","create","_offAllEvent","inlinecss","getElementsByTagName","wangEditor","EOF","DESCRIPTORS","USE_NATIVE_URL","defineProperties","redefine","anInstance","has","arrayFrom","codeAt","toASCII","setToStringTag","URLSearchParamsModule","InternalStateModule","NativeURL","getInternalSearchParamsState","getState","setInternalState","set","getInternalURLState","getterFor","floor","pow","INVALID_AUTHORITY","INVALID_SCHEME","INVALID_HOST","INVALID_PORT","ALPHA","ALPHANUMERIC","DIGIT","HEX_START","OCT","DEC","HEX","FORBIDDEN_HOST_CODE_POINT","FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT","LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE","TAB_AND_NEW_LINE","parseHost","input","codePoints","charAt","parseIPv6","isSpecial","parseIPv4","percentEncode","C0ControlPercentEncodeSet","partsLength","numbers","part","radix","number","ipv4","parts","pop","numbersSeen","ipv4Piece","swaps","swap","address","pieceIndex","compress","pointer","char","findLongestZeroSequence","ipv6","maxIndex","currStart","currLength","serializeHost","ignore0","unshift","fragmentPercentEncodeSet","pathPercentEncodeSet","userinfoPercentEncodeSet","encodeURIComponent","specialSchemes","ftp","http","https","ws","wss","scheme","includesCredentials","password","cannotHaveUsernamePasswordPort","cannotBeABaseURL","isWindowsDriveLetter","string","normalized","second","startsWithWindowsDriveLetter","third","shortenURLsPath","path","pathSize","isSingleDot","segment","isDoubleDot","SCHEME_START","SCHEME","NO_SCHEME","SPECIAL_RELATIVE_OR_AUTHORITY","PATH_OR_AUTHORITY","RELATIVE","RELATIVE_SLASH","SPECIAL_AUTHORITY_SLASHES","SPECIAL_AUTHORITY_IGNORE_SLASHES","AUTHORITY","HOST","HOSTNAME","PORT","FILE","FILE_SLASH","FILE_HOST","PATH_START","PATH","CANNOT_BE_A_BASE_URL_PATH","QUERY","FRAGMENT","parseURL","stateOverride","base","bufferCodePoints","failure","state","buffer","seenAt","seenBracket","seenPasswordToken","port","query","fragment","codePoint","encodedCodePoints","shift","URLConstructor","baseState","that","urlString","searchParamsState","updateSearchParams","updateURL","serializeURL","origin","getOrigin","protocol","getProtocol","getUsername","getPassword","getHost","hostname","getHostname","getPort","getPathname","search","getSearch","getSearchParams","getHash","URLPrototype","output","accessorDescriptor","getter","setter","configurable","enumerable","nativeCreateObjectURL","createObjectURL","nativeRevokeObjectURL","revokeObjectURL","blob","apply","forced","sham","collection","collectionStrong","createProperty","ISNT_GENERIC","F","of","stat","argumentsLength","maxInt","tMin","tMax","skew","damp","initialBias","initialN","delimiter","regexNonASCII","regexSeparators","OVERFLOW_ERROR","baseMinusTMin","stringFromCharCode","fromCharCode","ucs2decode","counter","charCodeAt","extra","digitToBasic","digit","adapt","delta","numPoints","firstTime","k","encode","currentValue","inputLength","n","bias","basicLength","handledCPCount","m","handledCPCountPlusOne","RangeError","q","t","qMinusT","baseMinusT","label","encoded","labels","defineProperty","f","redefineAll","iterate","defineIterator","setSpecies","fastKey","internalStateGetterFor","getConstructor","wrapper","CONSTRUCTOR_NAME","IS_MAP","ADDER","C","iterable","getInternalState","define","previous","entry","getEntry","next","removed","prev","callbackfn","boundFunction","add","setStrong","ITERATOR_NAME","getInternalCollectionState","getInternalIteratorState","iterated","kind","done","isForced","InternalMetadataModule","isObject","checkCorrectnessOfIteration","inheritIfRequired","common","IS_WEAK","NativeConstructor","NativePrototype","Constructor","exported","fixMethod","KEY","nativeMethod","entries","REQUIRED","instance","HASNT_CHAINING","THROWS_ON_PRIMITIVES","ACCEPT_ITERABLES","BUGGY_ZERO","$instance","dummy","getBuiltIn","createIteratorConstructor","hasOwn","classof","anObject","createPropertyDescriptor","getIterator","getIteratorMethod","$fetch","Headers","URL_SEARCH_PARAMS","URL_SEARCH_PARAMS_ITERATOR","getInternalParamsState","plus","sequences","percentSequence","bytes","percentDecode","sequence","decodeURIComponent","deserialize","it","replacer","match","serialize","parseSearchParams","attribute","validateArgumentsLength","passed","required","URLSearchParamsIterator","params","step","URLSearchParamsConstructor","iteratorMethod","entryIterator","entryNext","URLSearchParamsPrototype","splice","getAll","found","entriesIndex","sliceIndex","keys","values","fetch","body","headers","args","toAbsoluteIndex","toInteger","toLength","toObject","arraySpeciesCreate","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","ACCESSORS","0","1","max","min","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","proto","start","deleteCount","insertCount","actualDeleteCount","A","from","O","len","actualStart","isExtensible","preventExtensions","render","_vm","_h","$createElement","_c","_self","staticClass","_m","_v","directives","rawName","submit","expression","domProps","$event","composing","$set","_l","edidordata","_q","classly","_s","confirmtags","deteleFun","_k","onkeytags","imgsrcFun","imgcanvas","imginput","downloadFun","reselectFun","imgsrc","ref","confirmFun","cancleFun","subData","staticRenderFns","_classCallCheck","_defineProperties","props","descriptor","writable","_createClass","protoProps","staticProps","Apidata","tgas","subeditor","brief","imgurl","time","methods","picture","_drag","son","onmousedown","setCapture","father","onmousemove","disX","clientWidth","offsetWidth","disY","clientHeight","offsetHeight","res","top","left","chooseresult","onmouseup","releaseCapture","_canvas","canvas","naturalWidth","images","ctx","drawImage","toDataURL","querySelector","a","download","editorFun","jsondata","console","log","api","editorApi","then","y","timer","chacheDecotator","cache","x","ChaceData","setget","localStorage","setItem","stringify","watch","mounted","component","hiddenKeys","uid","FREEZING","METADATA","setMetadata","objectID","weakData","getWeakData","onFreeze","meta"],"mappings":"qGAAA,IAAIA,EAAQ,EAAQ,QAChBC,EAAkB,EAAQ,QAC1BC,EAAU,EAAQ,QAElBC,EAAWF,EAAgB,YAE/BG,EAAOC,SAAWL,GAAM,WACtB,IAAIM,EAAM,IAAIC,IAAI,gBAAiB,YAC/BC,EAAeF,EAAIE,aACnBC,EAAS,GAMb,OALAH,EAAII,SAAW,QACfF,EAAaG,SAAQ,SAAUC,EAAOC,GACpCL,EAAa,UAAU,KACvBC,GAAUI,EAAMD,KAEVV,IAAYI,EAAIQ,SAClBN,EAAaO,MACD,2BAAbT,EAAIU,MACsB,MAA1BR,EAAaS,IAAI,MACuB,QAAxCC,OAAO,IAAIC,gBAAgB,WAC1BX,EAAaL,IAEsB,MAApC,IAAII,IAAI,eAAea,UACsC,MAA7D,IAAID,gBAAgB,IAAIA,gBAAgB,QAAQF,IAAI,MAEpB,eAAhC,IAAIV,IAAI,eAAec,MAEQ,YAA/B,IAAId,IAAI,cAAce,MAEX,SAAXb,GAEwC,MAAxC,IAAIF,IAAI,gBAAYgB,GAAWF,S,wBC/BrC,SAAUG,EAAQC,GAC6CrB,EAAOC,QAAUoB,KADjF,CAIEC,GAAM,WAAe,aAMvB,IAAIC,EAAW,WAGiB,mBAAjBC,OAAOC,SACdD,OAAOC,OAAS,SAAUC,EAAQC,GAE9B,GAAc,MAAVD,EAEA,MAAM,IAAIE,UAAU,8CAKxB,IAFA,IAAIC,EAAKL,OAAOE,GAEPI,EAAQ,EAAGA,EAAQC,UAAUC,OAAQF,IAAS,CACnD,IAAIG,EAAaF,UAAUD,GAE3B,GAAkB,MAAdG,EAEA,IAAK,IAAIC,KAAWD,EAEZT,OAAOW,UAAUC,eAAeC,KAAKJ,EAAYC,KACjDL,EAAGK,GAAWD,EAAWC,IAKzC,OAAOL,IAKVS,QAAQH,UAAUI,UACnBD,QAAQH,UAAUI,QAAUD,QAAQH,UAAUK,iBAAmBF,QAAQH,UAAUM,oBAAsBH,QAAQH,UAAUO,mBAAqBJ,QAAQH,UAAUQ,kBAAoBL,QAAQH,UAAUS,uBAAyB,SAAUC,GACvO,IAAIN,GAAWjB,KAAKwB,UAAYxB,KAAKyB,eAAeC,iBAAiBH,GACjEI,EAAIV,EAAQP,OAChB,QAASiB,GAAK,GAAKV,EAAQW,KAAKD,KAAO3B,MACvC,OAAO2B,GAAK,KAUxB,SAASE,EAAiBC,GACtB,IAAIC,OAAM,EAGV,OAFAA,EAAMP,SAASQ,cAAc,OAC7BD,EAAIE,UAAYH,EACTC,EAAIG,SAIf,SAASC,EAAUC,GACf,QAAKA,IAGDA,aAAoBC,gBAAkBD,aAAoBE,UAOlE,SAASZ,EAAiBU,GACtB,IAAIrD,EAASyC,SAASE,iBAAiBU,GACvC,OAAID,EAAUpD,GACHA,EAEA,CAACA,GAKhB,IAAIwD,EAAY,GAGhB,SAASC,EAAWJ,GAChB,GAAKA,EAAL,CAKA,GAAIA,aAAoBI,EACpB,OAAOJ,EAGXpC,KAAKoC,SAAWA,EAChB,IAAIK,EAAWL,EAASK,SAGpBC,EAAiB,GACJ,IAAbD,GAGoB,IAAbA,EADPC,EAAiB,CAACN,GAIXD,EAAUC,IAAaA,aAAoBO,MAElDD,EAAiBN,EACU,kBAAbA,IAEdA,EAAWA,EAASQ,QAAQ,SAAU,IAAIC,OAGtCH,EAF0B,IAA1BN,EAASU,QAAQ,KAEAjB,EAAiBO,GAGjBV,EAAiBU,IAI1C,IAAI1B,EAASgC,EAAehC,OAC5B,IAAKA,EAED,OAAOV,KAIX,IAAI2B,OAAI,EACR,IAAKA,EAAI,EAAGA,EAAIjB,EAAQiB,IACpB3B,KAAK2B,GAAKe,EAAef,GAE7B3B,KAAKU,OAASA,GAuYlB,SAASqC,EAAEX,GACP,OAAO,IAAII,EAAWJ,GApY1BI,EAAW3B,UAAY,CACnBmC,YAAaR,EAGbvD,QAAS,SAAiBgE,GACtB,IAAItB,OAAI,EACR,IAAKA,EAAI,EAAGA,EAAI3B,KAAKU,OAAQiB,IAAK,CAC9B,IAAIuB,EAAOlD,KAAK2B,GACZ5C,EAASkE,EAAGlC,KAAKmC,EAAMA,EAAMvB,GACjC,IAAe,IAAX5C,EACA,MAGR,OAAOiB,MAIXmD,MAAO,SAAeC,GAClB,IAAIC,EAAY,GAIhB,OAHArD,KAAKf,SAAQ,SAAUiE,GACnBG,EAAUC,KAAKJ,EAAKK,YAAYH,OAE7BL,EAAEM,IAIb9D,IAAK,SAAaiB,GACd,IAAIE,EAASV,KAAKU,OAIlB,OAHIF,GAASE,IACTF,GAAgBE,GAEbqC,EAAE/C,KAAKQ,KAIlBgD,MAAO,WACH,OAAOxD,KAAKT,IAAI,IAIpBkE,KAAM,WACF,IAAI/C,EAASV,KAAKU,OAClB,OAAOV,KAAKT,IAAImB,EAAS,IAI7BgD,GAAI,SAAYC,EAAMvB,EAAUa,GAEvBA,IACDA,EAAKb,EACLA,EAAW,MAIf,IAAIwB,EAAQ,GAGZ,OAFAA,EAAQD,EAAKE,MAAM,OAEZ7D,KAAKf,SAAQ,SAAUiE,GAC1BU,EAAM3E,SAAQ,SAAU0E,GACfA,IAKLpB,EAAUe,KAAK,CACXJ,KAAMA,EACNS,KAAMA,EACNV,GAAIA,IAGHb,EAOLc,EAAKY,iBAAiBH,GAAM,SAAUI,GAClC,IAAI3D,EAAS2D,EAAE3D,OACXA,EAAOa,QAAQmB,IACfa,EAAGlC,KAAKX,EAAQ2D,MARpBb,EAAKY,iBAAiBH,EAAMV,WAgB5Ce,IAAK,SAAaL,EAAMV,GACpB,OAAOjD,KAAKf,SAAQ,SAAUiE,GAC1BA,EAAKe,oBAAoBN,EAAMV,OAKvCiB,KAAM,SAAc/E,EAAKgF,GACrB,OAAW,MAAPA,EAEOnE,KAAK,GAAGoE,aAAajF,GAGrBa,KAAKf,SAAQ,SAAUiE,GAC1BA,EAAKmB,aAAalF,EAAKgF,OAMnCG,SAAU,SAAkBC,GACxB,OAAKA,EAGEvE,KAAKf,SAAQ,SAAUiE,GAC1B,IAAIsB,OAAM,EACNtB,EAAKqB,WAELC,EAAMtB,EAAKqB,UAAUV,MAAM,MAC3BW,EAAMA,EAAIC,QAAO,SAAU7C,GACvB,QAASA,EAAKiB,UAGd2B,EAAI1B,QAAQyB,GAAa,GACzBC,EAAIlB,KAAKiB,GAGbrB,EAAKqB,UAAYC,EAAIE,KAAK,MAE1BxB,EAAKqB,UAAYA,KAjBdvE,MAuBf2E,YAAa,SAAqBJ,GAC9B,OAAKA,EAGEvE,KAAKf,SAAQ,SAAUiE,GAC1B,IAAIsB,OAAM,EACNtB,EAAKqB,YAELC,EAAMtB,EAAKqB,UAAUV,MAAM,MAC3BW,EAAMA,EAAIC,QAAO,SAAU7C,GAGvB,OAFAA,EAAOA,EAAKiB,UAEPjB,GAAQA,IAAS2C,MAM1BrB,EAAKqB,UAAYC,EAAIE,KAAK,SAhBvB1E,MAsBf4E,IAAK,SAAazF,EAAKgF,GACnB,IAAIU,EAAe1F,EAAM,IAAMgF,EAAM,IACrC,OAAOnE,KAAKf,SAAQ,SAAUiE,GAC1B,IAAI4B,GAAS5B,EAAKkB,aAAa,UAAY,IAAIvB,OAC3CkC,OAAW,EACXC,EAAY,GACZF,GAEAC,EAAWD,EAAMjB,MAAM,KACvBkB,EAAS9F,SAAQ,SAAU2C,GAEvB,IAAI4C,EAAM5C,EAAKiC,MAAM,KAAKoB,KAAI,SAAUtD,GACpC,OAAOA,EAAEkB,UAEM,IAAf2B,EAAI9D,QACJsE,EAAU1B,KAAKkB,EAAI,GAAK,IAAMA,EAAI,OAI1CQ,EAAYA,EAAUC,KAAI,SAAUrD,GAChC,OAA0B,IAAtBA,EAAKkB,QAAQ3D,GACN0F,EAEAjD,KAGXoD,EAAUlC,QAAQ+B,GAAgB,GAClCG,EAAU1B,KAAKuB,GAGnB3B,EAAKmB,aAAa,QAASW,EAAUN,KAAK,QAG1CxB,EAAKmB,aAAa,QAASQ,OAMvCK,KAAM,WACF,OAAOlF,KAAK4E,IAAI,UAAW,UAI/BO,KAAM,WACF,OAAOnF,KAAK4E,IAAI,UAAW,SAI/B1C,SAAU,WACN,IAAIgB,EAAOlD,KAAK,GAChB,OAAKkD,EAIEH,EAAEG,EAAKhB,UAHH,MAOfkD,WAAY,WACR,IAAIlC,EAAOlD,KAAK,GAChB,OAAKkD,EAIEH,EAAEG,EAAKkC,YAHH,MAOfC,OAAQ,SAAgBC,GACpB,OAAOtF,KAAKf,SAAQ,SAAUiE,GAC1BoC,EAAUrG,SAAQ,SAAUsG,GACxBrC,EAAKsC,YAAYD,UAM7BE,OAAQ,WACJ,OAAOzF,KAAKf,SAAQ,SAAUiE,GAC1B,GAAIA,EAAKuC,OACLvC,EAAKuC,aACF,CACH,IAAIC,EAASxC,EAAKyC,cAClBD,GAAUA,EAAOE,YAAY1C,QAMzC2C,UAAW,SAAmBC,GAC1B,IAAI5C,EAAOlD,KAAK,GACZuF,EAAQO,EAAO,GACnB,OAAO5C,EAAK6C,SAASR,IAIzBS,YAAa,WACT,IAAI9C,EAAOlD,KAAK,GAChB,OAAOkD,EAAK+C,yBAIhBC,YAAa,WACT,IAAIhD,EAAOlD,KAAK,GAChB,OAAOkD,EAAKiD,UAIhBC,KAAM,SAAchE,GAChB,IAAIc,EAAOlD,KAAK,GAChB,OAAO+C,EAAEG,EAAKxB,iBAAiBU,KAInCiE,KAAM,SAAclC,GAChB,GAAKA,EAQD,OAAOnE,KAAKf,SAAQ,SAAUiE,GAC1BA,EAAKjB,UAAYkC,KAPrB,IAAIjB,EAAOlD,KAAK,GAChB,OAAOkD,EAAKjB,UAAUW,QAAQ,UAAU,WACpC,MAAO,OAWnBd,KAAM,SAAc5C,GAChB,IAAIgE,EAAOlD,KAAK,GAChB,OAAa,MAATd,EACOgE,EAAKjB,WAEZiB,EAAKjB,UAAY/C,EACVc,OAKfmE,IAAK,WACD,IAAIjB,EAAOlD,KAAK,GAChB,OAAOkD,EAAKhE,MAAM2D,QAItByD,MAAO,WACH,OAAOtG,KAAKf,SAAQ,SAAUiE,GAC1BA,EAAKoD,YAKbZ,OAAQ,WACJ,IAAIxC,EAAOlD,KAAK,GAChB,OAAO+C,EAAEG,EAAKyC,gBAIlBY,YAAa,SAAqBnE,EAAUoE,GACxC,IAAIC,EAAUjF,SAASE,iBAAiBU,GACpC1B,EAAS+F,EAAQ/F,OACrB,IAAKA,EAED,OAAO,KAGX,IAAIwC,EAAOsD,GAAgBxG,KAAK,GAChC,GAAsB,SAAlBkD,EAAKiD,SACL,OAAO,KAGX,IAAIT,EAASxC,EAAKyC,cACdhE,OAAI,EACR,IAAKA,EAAI,EAAGA,EAAIjB,EAAQiB,IACpB,GAAI+D,IAAWe,EAAQ9E,GAEnB,OAAOoB,EAAE2C,GAKjB,OAAO1F,KAAKuG,YAAYnE,EAAUsD,IAItCgB,MAAO,SAAeC,GAClB,OAAuB,IAAnBA,EAAMlE,SACCzC,KAAK,KAAO2G,EAEZ3G,KAAK,KAAO2G,EAAM,IAKjCC,aAAc,SAAsBxE,GAChC,IAAIyE,EAAiB9D,EAAEX,GACnB0E,EAAgBD,EAAe,GACnC,OAAKC,EAGE9G,KAAKf,SAAQ,SAAUiE,GAC1B,IAAIwC,EAASoB,EAAcC,WAC3BrB,EAAOkB,aAAa1D,EAAM4D,MAJnB9G,MASfgH,YAAa,SAAqB5E,GAC9B,IAAIyE,EAAiB9D,EAAEX,GACnB0E,EAAgBD,EAAe,GACnC,OAAKC,EAGE9G,KAAKf,SAAQ,SAAUiE,GAC1B,IAAIwC,EAASoB,EAAcC,WACvBrB,EAAOuB,YAAcH,EAErBpB,EAAOF,YAAYtC,GAGnBwC,EAAOkB,aAAa1D,EAAM4D,EAAcI,gBATrClH,OAqBnB+C,EAAEoE,OAAS,WACP5E,EAAUtD,SAAQ,SAAU2C,GACxB,IAAIsB,EAAOtB,EAAKsB,KACZS,EAAO/B,EAAK+B,KACZV,EAAKrB,EAAKqB,GAEdC,EAAKe,oBAAoBN,EAAMV,OAQvC,IAAImE,EAAS,CAGTC,MAAO,CAAC,OAAQ,OAAQ,WAAY,WAAY,SAAU,YAAa,gBAAiB,YAAa,YAAa,OAAQ,OAAQ,UAAW,QAAS,WAAY,QAAS,QAAS,QAAS,OAAQ,OAAQ,QAE7MC,UAAW,CAAC,KAAM,OAAQ,QAAS,SAAU,WAE7CC,OAAQ,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAa5GC,SAAU,CAAC,CAEPC,MAAO,KAEP9D,KAAM,QAEN+D,QAAS,CAAC,CACNC,IAAK,OACLC,IAAK,wFACN,CACCD,IAAK,OACLC,IAAK,oFACN,CACCD,IAAK,MACLC,IAAK,oFAEV,CAECH,MAAO,KAEP9D,KAAM,QAEN+D,QAAS,CAAC,CACNE,IAAK,uFACLD,IAAK,SACN,CACCC,IAAK,qFACLD,IAAK,QACN,CACCC,IAAK,oFACLD,IAAK,UAEV,CAECF,MAAO,QAEP9D,KAAM,QAEN+D,QAAS,2DAA2D7D,MAAM,QAI9EgE,OAAQ,IAGRC,OAAO,EAGPC,UAAW,SAAmB1B,EAAM2B,GAGhC,OAAO,GAKXC,aAAc,SAAsBL,GAEhC,OAAO,GAKXM,kBAAkB,EAGlBC,gBAAgB,EAIhBC,gBAAiB,SAAyBV,GAEtC,OAAOA,GAUXW,aAAa,EAGbC,gBAAiB,SAAyB1J,KAK1C2J,iBAAkB,QAMlBC,qBAAqB,EAMrBC,eAAgB,GAGhBC,gBAAiB,GAKjBC,iBAAkB,GAKlBC,iBAAiB,EAGjBC,iBAAkB,IAGlBC,eAAgB,CASZC,OAAQ,SAAgBC,EAAKC,EAAQC,KASrCC,QAAS,SAAiBH,EAAKC,EAAQlK,KAGvCqK,KAAM,SAAcJ,EAAKC,EAAQlK,KAGjCsK,MAAO,SAAeL,EAAKC,KAG3BK,QAAS,SAAiBN,EAAKC,MAMnCM,OAAO,GASPC,EAAK,CACLC,IAAKC,UAAUC,UAGfC,SAAU,WACN,IAAIC,EAAM,UACV,OAAOA,EAAIC,KAAK9J,KAAKyJ,MAIzBM,KAAM,WACF,MAAO,kBAAmBC,SAKlC,SAASC,EAAWC,EAAKjH,GACrB,IAAI9D,OAAM,EACNJ,OAAS,EACb,IAAKI,KAAO+K,EACR,GAAIA,EAAIpJ,eAAe3B,KACnBJ,EAASkE,EAAGlC,KAAKmJ,EAAK/K,EAAK+K,EAAI/K,KAChB,IAAXJ,GACA,MAOhB,SAASoL,EAAWC,EAASnH,GACzB,IAAItB,OAAI,EACJC,OAAO,EACP7C,OAAS,EACT2B,EAAS0J,EAAQ1J,QAAU,EAC/B,IAAKiB,EAAI,EAAGA,EAAIjB,EAAQiB,IAGpB,GAFAC,EAAOwI,EAAQzI,GACf5C,EAASkE,EAAGlC,KAAKqJ,EAASxI,EAAMD,IACjB,IAAX5C,EACA,MAMZ,SAASsL,EAAUC,GACf,OAAOA,EAASC,KAAKC,SAASC,WAAWC,MAAM,GAInD,SAASC,EAAkB7I,GACvB,OAAY,MAARA,EACO,GAEJA,EAAKc,QAAQ,MAAO,QAAQA,QAAQ,MAAO,QAAQA,QAAQ,MAAO,UAAUA,QAAQ,gBAAiB,SAOhH,SAASgI,EAAW3H,GAChB,MAAqB,oBAAPA,EAOlB,SAAS4H,EAAK5B,GACVjJ,KAAKiJ,OAASA,EACdjJ,KAAK2G,MAAQ5D,EAAE,qFACf/C,KAAK2D,KAAO,QAGZ3D,KAAK8K,SAAU,EAInBD,EAAKhK,UAAY,CACbmC,YAAa6H,EAGbE,QAAS,SAAiBhH,GAGtB,IAAIkF,EAASjJ,KAAKiJ,OACd+B,EAAc/B,EAAOgC,UAAUC,mBAE/BF,GAEA/B,EAAOgC,UAAUE,mBAIrBlC,EAAOmC,IAAIC,GAAG,QAEVL,IAEA/B,EAAOgC,UAAUK,gBACjBrC,EAAOgC,UAAUM,qBAKzBC,gBAAiB,SAAyBzH,GACtC,IAAIkF,EAASjJ,KAAKiJ,OACdtC,EAAQ3G,KAAK2G,MACbsC,EAAOmC,IAAIK,kBAAkB,SAC7BzL,KAAK8K,SAAU,EACfnE,EAAMrC,SAAS,gBAEftE,KAAK8K,SAAU,EACfnE,EAAMhC,YAAY,iBAS9B,IAAI+G,EAAc,SAAUzC,EAAQ0C,GAChC,IAAIC,EAAW3C,EAAO7B,OAAOwE,UAAY,GACrC7M,EAAS4M,EAab,OAXAC,EAAS3M,SAAQ,SAAU2C,GACvB,IAAIiI,EAAMjI,EAAKiI,IACX1F,EAAMvC,EAAKuC,IAEX0F,EAAIC,KAAK/K,KACTA,EAASA,EAAO6D,QAAQiH,GAAK,WACzB,OAAO1F,SAKZpF,GAMP8M,EAAW,aAGf,SAASC,EAASC,EAAMC,GACpB,IAAIC,EAAQjM,KAGRiJ,EAAS8C,EAAK9C,OAClBjJ,KAAK+L,KAAOA,EACZ/L,KAAKgM,IAAMA,EAEX,IAAIE,EAAanJ,EAAE,oCAGfoJ,EAASH,EAAIG,OACbC,OAAY,EACZD,IAEAC,EAAYD,EAAOrK,OACnBsK,EAAYV,EAAYzC,EAAQmD,GAChCD,EAAOrK,KAAKsK,GAEZD,EAAO7H,SAAS,gBAChB4H,EAAW7G,OAAO8G,IAGtB,IAAIE,EAAOL,EAAIK,MAAQ,GACnB1I,EAAOqI,EAAIrI,MAAQ,OACnBoH,EAAUiB,EAAIjB,SAAWc,EAGzBS,EAAQvJ,EAAE,eAA0B,SAATY,EAAkB,WAAa,aAAe,WAC7EuI,EAAW7G,OAAOiH,GAClBD,EAAKpN,SAAQ,SAAU2C,GACnB,IAAI+E,EAAQ/E,EAAK+E,MAGb4F,EAAW5F,EAAM7E,OACrByK,EAAWb,EAAYzC,EAAQsD,GAC/B5F,EAAM7E,KAAKyK,GAEX,IAAIrN,EAAQ0C,EAAK1C,MACbsN,EAAMzJ,EAAE,8BACR4D,IACA6F,EAAInH,OAAOsB,GACX2F,EAAMjH,OAAOmH,GACbA,EAAI9I,GAAG,SAAS,SAAUK,GACtBgH,EAAQ7L,GAGR+M,EAAMQ,cAAgBC,YAAW,WAC7BT,EAAM9G,SACP,UAMf+G,EAAWxI,GAAG,cAAc,SAAUK,GAClCkI,EAAMQ,cAAgBC,YAAW,WAC7BT,EAAM9G,SACP,MAIPnF,KAAKkM,WAAaA,EAGlBlM,KAAK2M,WAAY,EACjB3M,KAAK4M,OAAQ,EA2DjB,SAASC,EAAK5D,GACV,IAAIgD,EAAQjM,KAEZA,KAAKiJ,OAASA,EACdjJ,KAAK2G,MAAQ5D,EAAE,+DACf/C,KAAK2D,KAAO,WAGZ3D,KAAK8K,SAAU,EAGf9K,KAAK8M,SAAW,IAAIhB,EAAS9L,KAAM,CAC/B+M,MAAO,IACPZ,OAAQpJ,EAAE,eACVY,KAAM,OACN0I,KAAM,CAAC,CAAE1F,MAAO5D,EAAE,eAAgB7D,MAAO,QAAU,CAAEyH,MAAO5D,EAAE,eAAgB7D,MAAO,QAAU,CAAEyH,MAAO5D,EAAE,eAAgB7D,MAAO,QAAU,CAAEyH,MAAO5D,EAAE,eAAgB7D,MAAO,QAAU,CAAEyH,MAAO5D,EAAE,eAAgB7D,MAAO,QAAU,CAAEyH,MAAO5D,EAAE,aAAc7D,MAAO,QACnQ6L,QAAS,SAAiB7L,GAEtB+M,EAAMe,SAAS9N,MA4C3B,SAAS+N,EAAShE,GACd,IAAIgD,EAAQjM,KAEZA,KAAKiJ,OAASA,EACdjJ,KAAK2G,MAAQ5D,EAAE,mEACf/C,KAAK2D,KAAO,WAGZ3D,KAAK8K,SAAU,EAGf9K,KAAK8M,SAAW,IAAIhB,EAAS9L,KAAM,CAC/B+M,MAAO,IACPZ,OAAQpJ,EAAE,aACVY,KAAM,OACN0I,KAAM,CAAC,CAAE1F,MAAO5D,EAAE,oDAAqD7D,MAAO,KAAO,CAAEyH,MAAO5D,EAAE,gDAAiD7D,MAAO,KAAO,CAAEyH,MAAO5D,EAAE,uBAAwB7D,MAAO,KAAO,CAAEyH,MAAO5D,EAAE,gDAAiD7D,MAAO,KAAO,CAAEyH,MAAO5D,EAAE,oDAAqD7D,MAAO,KAAO,CAAEyH,MAAO5D,EAAE,sDAAuD7D,MAAO,MACjb6L,QAAS,SAAiB7L,GAEtB+M,EAAMe,SAAS9N,MAqB3B,SAASgO,EAASjE,GACd,IAAIgD,EAAQjM,KAEZA,KAAKiJ,OAASA,EACdjJ,KAAK2G,MAAQ5D,EAAE,6DACf/C,KAAK2D,KAAO,WAGZ3D,KAAK8K,SAAU,EAGf,IAAI1D,EAAS6B,EAAO7B,OAChBE,EAAYF,EAAOE,WAAa,GAGpCtH,KAAK8M,SAAW,IAAIhB,EAAS9L,KAAM,CAC/B+M,MAAO,IACPZ,OAAQpJ,EAAE,aACVY,KAAM,OACN0I,KAAM/E,EAAUrC,KAAI,SAAUkI,GAC1B,MAAO,CAAExG,MAAO5D,EAAE,6BAA+BoK,EAAW,MAAQA,EAAW,WAAYjO,MAAOiO,MAEtGpC,QAAS,SAAiB7L,GAEtB+M,EAAMe,SAAS9N,MApL3B4M,EAASjL,UAAY,CACjBmC,YAAa8I,EAGb5G,KAAM,WACElF,KAAKyM,eAELW,aAAapN,KAAKyM,eAGtB,IAAIV,EAAO/L,KAAK+L,KACZsB,EAAYtB,EAAKpF,MACjBuF,EAAalM,KAAKkM,WACtB,IAAIlM,KAAK4M,MAAT,CAGA,GAAI5M,KAAK2M,UAELT,EAAWhH,WACR,CAEH,IAAIoI,EAAaD,EAAUrH,cAAcuH,QAAU,EAC/CR,EAAQ/M,KAAKgM,IAAIe,OAAS,IAC9Bb,EAAWtH,IAAI,aAAc0I,EAAa,MAAM1I,IAAI,QAASmI,EAAQ,MAGrEM,EAAUhI,OAAO6G,GACjBlM,KAAK2M,WAAY,EAIrB3M,KAAK4M,OAAQ,IAIjBzH,KAAM,WACEnF,KAAKwN,eAELJ,aAAapN,KAAKwN,eAGtB,IAAItB,EAAalM,KAAKkM,WACjBlM,KAAK4M,QAIVV,EAAW/G,OACXnF,KAAK4M,OAAQ,KAgCrBC,EAAKhM,UAAY,CACbmC,YAAa6J,EAGbG,SAAU,SAAkB9N,GACxB,IAAI+J,EAASjJ,KAAKiJ,OAEdwE,EAAiBxE,EAAOgC,UAAUyC,4BAClCzE,EAAO0E,UAAUjH,MAAM+G,IAM3BxE,EAAOmC,IAAIC,GAAG,cAAenM,IAIjCsM,gBAAiB,SAAyBzH,GACtC,IAAIkF,EAASjJ,KAAKiJ,OACdtC,EAAQ3G,KAAK2G,MACbkD,EAAM,MACN+D,EAAW3E,EAAOmC,IAAIyC,kBAAkB,eACxChE,EAAIC,KAAK8D,IACT5N,KAAK8K,SAAU,EACfnE,EAAMrC,SAAS,gBAEftE,KAAK8K,SAAU,EACfnE,EAAMhC,YAAY,iBAkC9BsI,EAASpM,UAAY,CACjBmC,YAAaiK,EAGbD,SAAU,SAAkB9N,GACxB,IAAI+J,EAASjJ,KAAKiJ,OAClBA,EAAOmC,IAAIC,GAAG,WAAYnM,KAuClCgO,EAASrM,UAAY,CACjBmC,YAAakK,EAEbF,SAAU,SAAkB9N,GACxB,IAAI+J,EAASjJ,KAAKiJ,OAClBA,EAAOmC,IAAIC,GAAG,WAAYnM,KAQlC,IAAI4O,EAAU,aAGVC,EAAuB,GAG3B,SAASC,EAAMjC,EAAMC,GACjBhM,KAAK+L,KAAOA,EACZ/L,KAAKgM,IAAMA,EAyLf,SAASiC,EAAKhF,GACVjJ,KAAKiJ,OAASA,EACdjJ,KAAK2G,MAAQ5D,EAAE,6DACf/C,KAAK2D,KAAO,QAGZ3D,KAAK8K,SAAU,EAsJnB,SAASoD,EAAOjF,GACZjJ,KAAKiJ,OAASA,EACdjJ,KAAK2G,MAAQ5D,EAAE,uFACf/C,KAAK2D,KAAO,QAGZ3D,KAAK8K,SAAU,EA+CnB,SAASqD,EAAKlF,GACVjJ,KAAKiJ,OAASA,EACdjJ,KAAK2G,MAAQ5D,EAAE,qFACf/C,KAAK2D,KAAO,QAGZ3D,KAAK8K,SAAU,EAsBnB,SAASsD,EAAcnF,GACnBjJ,KAAKiJ,OAASA,EACdjJ,KAAK2G,MAAQ5D,EAAE,8FACf/C,KAAK2D,KAAO,QAGZ3D,KAAK8K,SAAU,EA+CnB,SAASuD,EAAUpF,GACfjJ,KAAKiJ,OAASA,EACdjJ,KAAK2G,MAAQ5D,EAAE,0FACf/C,KAAK2D,KAAO,QAGZ3D,KAAK8K,SAAU,EA+CnB,SAASwD,EAAKrF,GACVjJ,KAAKiJ,OAASA,EACdjJ,KAAK2G,MAAQ5D,EAAE,qFACf/C,KAAK2D,KAAO,QAGZ3D,KAAK8K,SAAU,EAsBnB,SAASyD,EAAKtF,GACV,IAAIgD,EAAQjM,KAEZA,KAAKiJ,OAASA,EACdjJ,KAAK2G,MAAQ5D,EAAE,8DACf/C,KAAK2D,KAAO,WAGZ3D,KAAK8K,SAAU,EAGf9K,KAAK8M,SAAW,IAAIhB,EAAS9L,KAAM,CAC/B+M,MAAO,IACPZ,OAAQpJ,EAAE,eACVY,KAAM,OACN0I,KAAM,CAAC,CAAE1F,MAAO5D,EAAE,4DAA6D7D,MAAO,qBAAuB,CAAEyH,MAAO5D,EAAE,oDAAqD7D,MAAO,wBACpL6L,QAAS,SAAiB7L,GAEtB+M,EAAMe,SAAS9N,MA2D3B,SAASsP,EAAQvF,GACb,IAAIgD,EAAQjM,KAEZA,KAAKiJ,OAASA,EACdjJ,KAAK2G,MAAQ5D,EAAE,uEACf/C,KAAK2D,KAAO,WAGZ3D,KAAK8K,SAAU,EAGf9K,KAAK8M,SAAW,IAAIhB,EAAS9L,KAAM,CAC/B+M,MAAO,IACPZ,OAAQpJ,EAAE,eACVY,KAAM,OACN0I,KAAM,CAAC,CAAE1F,MAAO5D,EAAE,2DAA4D7D,MAAO,eAAiB,CAAEyH,MAAO5D,EAAE,6DAA8D7D,MAAO,iBAAmB,CAAEyH,MAAO5D,EAAE,4DAA6D7D,MAAO,iBACxR6L,QAAS,SAAiB7L,GAEtB+M,EAAMe,SAAS9N,MAoB3B,SAASuP,EAAUxF,GACf,IAAIgD,EAAQjM,KAEZA,KAAKiJ,OAASA,EACdjJ,KAAK2G,MAAQ5D,EAAE,gEACf/C,KAAK2D,KAAO,WAGZ,IAAIyD,EAAS6B,EAAO7B,OAChBG,EAASH,EAAOG,QAAU,GAG9BvH,KAAK8K,SAAU,EAGf9K,KAAK8M,SAAW,IAAIhB,EAAS9L,KAAM,CAC/B+M,MAAO,IACPZ,OAAQpJ,EAAE,eACVY,KAAM,eACN0I,KAAM9E,EAAOtC,KAAI,SAAUyJ,GACvB,MAAO,CAAE/H,MAAO5D,EAAE,mBAAqB2L,EAAQ,oCAAqCxP,MAAOwP,MAE/F3D,QAAS,SAAiB7L,GAEtB+M,EAAMe,SAAS9N,MAoB3B,SAASyP,EAAU1F,GACf,IAAIgD,EAAQjM,KAEZA,KAAKiJ,OAASA,EACdjJ,KAAK2G,MAAQ5D,EAAE,oEACf/C,KAAK2D,KAAO,WAGZ,IAAIyD,EAAS6B,EAAO7B,OAChBG,EAASH,EAAOG,QAAU,GAG9BvH,KAAK8K,SAAU,EAGf9K,KAAK8M,SAAW,IAAIhB,EAAS9L,KAAM,CAC/B+M,MAAO,IACPZ,OAAQpJ,EAAE,cACVY,KAAM,eACN0I,KAAM9E,EAAOtC,KAAI,SAAUyJ,GACvB,MAAO,CAAE/H,MAAO5D,EAAE,mBAAqB2L,EAAQ,wCAAyCxP,MAAOwP,MAEnG3D,QAAS,SAAiB7L,GAEtB+M,EAAMe,SAAS9N,MAoB3B,SAAS0P,EAAM3F,GACXjJ,KAAKiJ,OAASA,EACdjJ,KAAK2G,MAAQ5D,EAAE,4FACf/C,KAAK2D,KAAO,QAGZ3D,KAAK8K,SAAU,EA8DnB,SAAS+D,EAAK5F,GACVjJ,KAAKiJ,OAASA,EACdjJ,KAAK2G,MAAQ5D,EAAE,yFACf/C,KAAK2D,KAAO,QAGZ3D,KAAK8K,SAAU,EAiInB,SAASgE,EAAS7F,GACdjJ,KAAKiJ,OAASA,EACdjJ,KAAK2G,MAAQ5D,EAAE,sFACf/C,KAAK2D,KAAO,QAGZ3D,KAAK8K,SAAU,EAqGnB,SAASiE,EAAM9F,GACXjJ,KAAKiJ,OAASA,EACdjJ,KAAK2G,MAAQ5D,EAAE,+DACf/C,KAAK2D,KAAO,QAGZ3D,KAAK8K,SAAU,EAmVnB,SAASkE,EAAM/F,GACXjJ,KAAKiJ,OAASA,EACdjJ,KAAK2G,MAAQ5D,EAAE,6DACf/C,KAAK2D,KAAO,QAGZ3D,KAAK8K,SAAU,EAqEnB,SAASmE,EAAMhG,GACXjJ,KAAKiJ,OAASA,EACd,IAAIiG,EAAY7E,EAAU,WAC1BrK,KAAK2G,MAAQ5D,EAAE,6BAA+BmM,EAAY,0CAC1DjG,EAAOiG,UAAYA,EACnBlP,KAAK2D,KAAO,QAGZ3D,KAAK8K,SAAU,EAr9CnBkD,EAAMnN,UAAY,CACdmC,YAAagL,EAGb9I,KAAM,WACF,IAAI+G,EAAQjM,KAER+L,EAAO/L,KAAK+L,KAChB,KAAIgC,EAAqBjL,QAAQiJ,IAAS,GAA1C,CAKA,IAAI9C,EAAS8C,EAAK9C,OACdkG,EAAQpM,EAAE,QACVqM,EAAqBnG,EAAOmG,mBAC5BpD,EAAMhM,KAAKgM,IAGXE,EAAanJ,EAAE,2CACfgK,EAAQf,EAAIe,OAAS,IACzBb,EAAWtH,IAAI,QAASmI,EAAQ,MAAMnI,IAAI,eAAgB,EAAImI,GAAS,EAAI,MAG3E,IAAIsC,EAAYtM,EAAE,kDAClBmJ,EAAW7G,OAAOgK,GAClBA,EAAU3L,GAAG,SAAS,WAClBuI,EAAM9G,UAIV,IAAImK,EAAqBvM,EAAE,yCACvBwM,EAAuBxM,EAAE,6CAC7BmJ,EAAW7G,OAAOiK,GAAoBjK,OAAOkK,GAG7C,IAAIhC,EAASvB,EAAIuB,OACbA,GACAgC,EAAqB3K,IAAI,SAAU2I,EAAS,MAAM3I,IAAI,aAAc,QAIxE,IAAI4K,EAAOxD,EAAIwD,MAAQ,GACnBC,EAAc,GACdC,EAAgB,GACpBF,EAAKvQ,SAAQ,SAAU0Q,EAAKC,GACxB,GAAKD,EAAL,CAGA,IAAIlI,EAAQkI,EAAIlI,OAAS,GACrBoI,EAAMF,EAAIE,KAAO,GAGrBpI,EAAQiE,EAAYzC,EAAQxB,GAC5BoI,EAAMnE,EAAYzC,EAAQ4G,GAG1B,IAAI1D,EAASpJ,EAAE,wBAA0B0E,EAAQ,SACjD6H,EAAmBjK,OAAO8G,GAC1B,IAAI2D,EAAW/M,EAAE8M,GACjBN,EAAqBlK,OAAOyK,GAG5B3D,EAAO4D,OAASH,EAChBH,EAAYnM,KAAK6I,GACjBuD,EAAcpM,KAAKwM,GAGF,IAAbF,GACAzD,EAAOrB,SAAU,EACjBqB,EAAO7H,SAAS,eAEhBwL,EAAS3K,OAIbgH,EAAOzI,GAAG,SAAS,SAAUK,GACrBoI,EAAOrB,UAIX2E,EAAYxQ,SAAQ,SAAUkN,GAC1BA,EAAOrB,SAAU,EACjBqB,EAAOxH,YAAY,iBAEvB+K,EAAczQ,SAAQ,SAAU6Q,GAC5BA,EAAS3K,UAIbgH,EAAOrB,SAAU,EACjBqB,EAAO7H,SAAS,cAChBwL,EAAS5K,eAKjBgH,EAAWxI,GAAG,SAAS,SAAUK,GAE7BA,EAAEiM,qBAENb,EAAMzL,GAAG,SAAS,SAAUK,GACxBkI,EAAM9G,UAIViK,EAAmB/J,OAAO6G,GAG1BsD,EAAKvQ,SAAQ,SAAU0Q,EAAKnP,GACxB,GAAKmP,EAAL,CAGA,IAAIM,EAASN,EAAIM,QAAU,GAC3BA,EAAOhR,SAAQ,SAAUiR,GACrB,IAAI9N,EAAW8N,EAAM9N,SACjBuB,EAAOuM,EAAMvM,KACbV,EAAKiN,EAAMjN,IAAM6K,EACjBgC,EAAWJ,EAAclP,GAC7BsP,EAAS1J,KAAKhE,GAAUsB,GAAGC,GAAM,SAAUI,GACvCA,EAAEiM,kBACF,IAAIG,EAAalN,EAAGc,GAEhBoM,GACAlE,EAAM9G,iBAOtB,IAAIiL,EAAUlE,EAAW9F,KAAK,6BAC1BgK,EAAQ1P,QACR0P,EAAQ7Q,IAAI,GAAG+G,QAInBtG,KAAKkM,WAAaA,EAGlBlM,KAAKqQ,mBAELtC,EAAqBzK,KAAKyI,KAI9B5G,KAAM,WACF,IAAI4G,EAAO/L,KAAK+L,KACZG,EAAalM,KAAKkM,WAClBA,GACAA,EAAWzG,SAIfsI,EAAuBA,EAAqBtJ,QAAO,SAAU7C,GACzD,OAAIA,IAASmK,MASrBsE,iBAAkB,WACTtC,EAAqBrN,QAG1BqN,EAAqB9O,SAAQ,SAAU8M,GACnC,IAAIuE,EAAQvE,EAAKuE,OAAS,GACtBA,EAAMnL,MACNmL,EAAMnL,YAoBtB8I,EAAKpN,UAAY,CACbmC,YAAaiL,EAGblD,QAAS,SAAiBhH,GACtB,IAAIkF,EAASjJ,KAAKiJ,OACdsH,OAAY,EAEhB,GAAIvQ,KAAK8K,QAAS,CAGd,GADAyF,EAAYtH,EAAOgC,UAAUyC,6BACxB6C,EACD,OAGJtH,EAAOgC,UAAUuF,kBAAkBD,GACnCtH,EAAOgC,UAAUM,mBAEjBvL,KAAKyQ,aAAaF,EAAUlK,OAAQkK,EAAUrM,KAAK,cAG/C+E,EAAOgC,UAAUC,mBAEjBlL,KAAKyQ,aAAa,GAAI,IAGtBzQ,KAAKyQ,aAAaxH,EAAOgC,UAAUyF,mBAAoB,KAMnED,aAAc,SAAsBpK,EAAM2B,GACtC,IAAIiE,EAAQjM,KAGR2Q,EAActG,EAAU,cACxBuG,EAAcvG,EAAU,cACxBwG,EAAUxG,EAAU,UACpByG,EAAWzG,EAAU,WAGrB0G,EAAgB/Q,KAAK8K,QAAU,eAAiB,OAGhDwF,EAAQ,IAAItC,EAAMhO,KAAM,CACxB+M,MAAO,IAEPyC,KAAM,CAAC,CAEH/H,MAAO,KAEPoI,IAAK,iDAAmDe,EAAc,sCAAwCvK,EAAO,uEAA6FsK,EAAc,sCAAwC3I,EAAO,kJAAoJ6I,EAAU,4EAAwFC,EAAW,uCAAyCC,EAAgB,sFAEzkBd,OAAQ,CAER,CACI7N,SAAU,IAAMyO,EAChBlN,KAAM,QACNV,GAAI,WAEA,IAAI+N,EAAQjO,EAAE,IAAM4N,GAChBM,EAAQlO,EAAE,IAAM6N,GAChB5I,EAAOgJ,EAAM7M,MACbkC,EAAO4K,EAAM9M,MAIjB,OAHA8H,EAAMiF,YAAY7K,EAAM2B,IAGjB,IAIf,CACI5F,SAAU,IAAM0O,EAChBnN,KAAM,QACNV,GAAI,WAKA,OAHAgJ,EAAMkF,YAGC,SAQvBb,EAAMpL,OAGNlF,KAAKsQ,MAAQA,GAIjBa,SAAU,WACN,GAAKnR,KAAK8K,QAAV,CAGA,IAAI7B,EAASjJ,KAAKiJ,OACdmI,EAAiBnI,EAAOgC,UAAUyC,4BACtC,GAAK0D,EAAL,CAGA,IAAIC,EAAgBpI,EAAOgC,UAAUyF,mBACrCzH,EAAOmC,IAAIC,GAAG,aAAc,SAAWgG,EAAgB,cAI3DH,YAAa,SAAqB7K,EAAM2B,GACpC,IAAIiB,EAASjJ,KAAKiJ,OACd7B,EAAS6B,EAAO7B,OAChBW,EAAYX,EAAOW,UACnBuJ,GAAc,EACdvJ,GAAkC,oBAAdA,IACpBuJ,EAAcvJ,EAAU1B,EAAM2B,KAEd,IAAhBsJ,EACArI,EAAOmC,IAAIC,GAAG,aAAc,YAAcrD,EAAO,qBAAuB3B,EAAO,QAE/EkL,MAAMD,IAKd9F,gBAAiB,SAAyBzH,GACtC,IAAIkF,EAASjJ,KAAKiJ,OACdtC,EAAQ3G,KAAK2G,MACbyK,EAAiBnI,EAAOgC,UAAUyC,4BACjC0D,IAGgC,MAAjCA,EAAelL,eACflG,KAAK8K,SAAU,EACfnE,EAAMrC,SAAS,gBAEftE,KAAK8K,SAAU,EACfnE,EAAMhC,YAAY,kBAmB9BuJ,EAAOrN,UAAY,CACfmC,YAAakL,EAGbnD,QAAS,SAAiBhH,GAGtB,IAAIkF,EAASjJ,KAAKiJ,OACd+B,EAAc/B,EAAOgC,UAAUC,mBAE/BF,GAEA/B,EAAOgC,UAAUE,mBAIrBlC,EAAOmC,IAAIC,GAAG,UAEVL,IAEA/B,EAAOgC,UAAUK,gBACjBrC,EAAOgC,UAAUM,qBAKzBC,gBAAiB,SAAyBzH,GACtC,IAAIkF,EAASjJ,KAAKiJ,OACdtC,EAAQ3G,KAAK2G,MACbsC,EAAOmC,IAAIK,kBAAkB,WAC7BzL,KAAK8K,SAAU,EACfnE,EAAMrC,SAAS,gBAEftE,KAAK8K,SAAU,EACfnE,EAAMhC,YAAY,iBAmB9BwJ,EAAKtN,UAAY,CACbmC,YAAamL,EAGbpD,QAAS,SAAiBhH,GAGtB,IAAIkF,EAASjJ,KAAKiJ,OAGlBA,EAAOmC,IAAIC,GAAG,UAkBtB+C,EAAcvN,UAAY,CACtBmC,YAAaoL,EAGbrD,QAAS,SAAiBhH,GAGtB,IAAIkF,EAASjJ,KAAKiJ,OACd+B,EAAc/B,EAAOgC,UAAUC,mBAE/BF,GAEA/B,EAAOgC,UAAUE,mBAIrBlC,EAAOmC,IAAIC,GAAG,iBAEVL,IAEA/B,EAAOgC,UAAUK,gBACjBrC,EAAOgC,UAAUM,qBAKzBC,gBAAiB,SAAyBzH,GACtC,IAAIkF,EAASjJ,KAAKiJ,OACdtC,EAAQ3G,KAAK2G,MACbsC,EAAOmC,IAAIK,kBAAkB,kBAC7BzL,KAAK8K,SAAU,EACfnE,EAAMrC,SAAS,gBAEftE,KAAK8K,SAAU,EACfnE,EAAMhC,YAAY,iBAmB9B0J,EAAUxN,UAAY,CAClBmC,YAAaqL,EAGbtD,QAAS,SAAiBhH,GAGtB,IAAIkF,EAASjJ,KAAKiJ,OACd+B,EAAc/B,EAAOgC,UAAUC,mBAE/BF,GAEA/B,EAAOgC,UAAUE,mBAIrBlC,EAAOmC,IAAIC,GAAG,aAEVL,IAEA/B,EAAOgC,UAAUK,gBACjBrC,EAAOgC,UAAUM,qBAKzBC,gBAAiB,SAAyBzH,GACtC,IAAIkF,EAASjJ,KAAKiJ,OACdtC,EAAQ3G,KAAK2G,MACbsC,EAAOmC,IAAIK,kBAAkB,cAC7BzL,KAAK8K,SAAU,EACfnE,EAAMrC,SAAS,gBAEftE,KAAK8K,SAAU,EACfnE,EAAMhC,YAAY,iBAmB9B2J,EAAKzN,UAAY,CACbmC,YAAasL,EAGbvD,QAAS,SAAiBhH,GAGtB,IAAIkF,EAASjJ,KAAKiJ,OAGlBA,EAAOmC,IAAIC,GAAG,UAgCtBkD,EAAK1N,UAAY,CACbmC,YAAauL,EAGbvB,SAAU,SAAkB9N,GACxB,IAAI+J,EAASjJ,KAAKiJ,OACd0E,EAAY1E,EAAO0E,UAEvB,GADA1E,EAAOgC,UAAUM,oBACbtC,EAAOmC,IAAIK,kBAAkBvM,GAAjC,CAGA+J,EAAOmC,IAAIC,GAAGnM,GAGd,IAAIuO,EAAiBxE,EAAOgC,UAAUyC,4BAItC,GAHqC,OAAjCD,EAAevH,gBACfuH,EAAiBA,EAAe/H,WAEkB,IAAlD,WAAWoE,KAAK2D,EAAevH,iBAG/BuH,EAAe/G,MAAMiH,GAAzB,CAIA,IAAI6D,EAAU/D,EAAe/H,SACzB8L,EAAQ9K,MAAMiH,KAKlBF,EAAezG,YAAYwK,GAC3BA,EAAQ/L,aAIZ+F,gBAAiB,SAAyBzH,GACtC,IAAIkF,EAASjJ,KAAKiJ,OACdtC,EAAQ3G,KAAK2G,MACbsC,EAAOmC,IAAIK,kBAAkB,wBAA0BxC,EAAOmC,IAAIK,kBAAkB,sBACpFzL,KAAK8K,SAAU,EACfnE,EAAMrC,SAAS,gBAEftE,KAAK8K,SAAU,EACfnE,EAAMhC,YAAY,iBAiC9B6J,EAAQ3N,UAAY,CAChBmC,YAAawL,EAGbxB,SAAU,SAAkB9N,GACxB,IAAI+J,EAASjJ,KAAKiJ,OAClBA,EAAOmC,IAAIC,GAAGnM,KAsCtBuP,EAAU5N,UAAY,CAClBmC,YAAayL,EAGbzB,SAAU,SAAkB9N,GACxB,IAAI+J,EAASjJ,KAAKiJ,OAClBA,EAAOmC,IAAIC,GAAG,YAAanM,KAsCnCyP,EAAU9N,UAAY,CAClBmC,YAAa2L,EAGb3B,SAAU,SAAkB9N,GACxB,IAAI+J,EAASjJ,KAAKiJ,OAClBA,EAAOmC,IAAIC,GAAG,YAAanM,KAkBnC0P,EAAM/N,UAAY,CACdmC,YAAa4L,EAEb7D,QAAS,SAAiBhH,GACtB,IAAIkF,EAASjJ,KAAKiJ,OACdwE,EAAiBxE,EAAOgC,UAAUyC,4BAClCvH,EAAWsH,EAAevH,cAE9B,GAAKsD,EAAGO,OAAR,CAYA,IAAIrC,OAAU,EACV+J,OAAc,EAClB,GAAiB,MAAbtL,EAMA,OAJAuB,EAAU+F,EAAepH,OACzBoL,EAAc1O,EAAE,eAAiB2E,EAAU,iBAC3C+J,EAAYzK,YAAYyG,QACxBA,EAAehI,SAGF,eAAbU,IAEAuB,EAAU+F,EAAepH,OACzBoL,EAAc1O,EAAE,MAAQ2E,EAAU,QAClC+J,EAAYzK,YAAYyG,GACxBA,EAAehI,cA1BE,eAAbU,EAEA8C,EAAOmC,IAAIC,GAAG,cAAe,OAG7BpC,EAAOmC,IAAIC,GAAG,cAAe,iBAyBzCG,gBAAiB,SAAyBzH,GACtC,IAAIkF,EAASjJ,KAAKiJ,OACdtC,EAAQ3G,KAAK2G,MACbkD,EAAM,gBACN+D,EAAW3E,EAAOmC,IAAIyC,kBAAkB,eACxChE,EAAIC,KAAK8D,IACT5N,KAAK8K,SAAU,EACfnE,EAAMrC,SAAS,gBAEftE,KAAK8K,SAAU,EACfnE,EAAMhC,YAAY,iBAmB9BkK,EAAKhO,UAAY,CACbmC,YAAa6L,EAEb9D,QAAS,SAAiBhH,GACtB,IAAIkF,EAASjJ,KAAKiJ,OACdyI,EAAazI,EAAOgC,UAAU0G,wBAC9BC,EAAW3I,EAAOgC,UAAU4G,sBAC5B7G,EAAc/B,EAAOgC,UAAUC,mBAC/BmG,EAAgBpI,EAAOgC,UAAUyF,mBACjCoB,OAAQ,EAEZ,GAAKJ,EAAWhL,MAAMkL,GAKtB,OAAK5G,OAUDhL,KAAK8K,QAEL9K,KAAKyQ,aAAaiB,EAAW5P,QAG7B9B,KAAKyQ,iBAbLqB,EAAQ/O,EAAE,SAAWsO,EAAgB,WACrCpI,EAAOmC,IAAIC,GAAG,aAAcyG,GAC5B7I,EAAOgC,UAAUuF,kBAAkBsB,GAAO,QAC1C7I,EAAOgC,UAAUM,oBARjBtC,EAAOgC,UAAUM,oBAsBzBkF,aAAc,SAAsBvR,GAChC,IAAI+M,EAAQjM,KAGZd,EAAQA,GAAS,GACjB,IAAIyE,EAAQzE,EAAgB,OAAR,MAChB6S,EAAS1H,EAAU,SACnB2H,EAAQ3H,EAAU,OAElBiG,EAAQ,IAAItC,EAAMhO,KAAM,CACxB+M,MAAO,IAEPyC,KAAM,CAAC,CAEH/H,MAAO,OAEPoI,IAAK,gDAAkDkC,EAAS,4BAA8B7S,EAAQ,oHAAsH8S,EAAQ,yFAEpO/B,OAAQ,CAER,CACI7N,SAAU,IAAM4P,EAChBrO,KAAM,QACNV,GAAI,WACA,IAAIgO,EAAQlO,EAAE,IAAMgP,GAChB1L,EAAO4K,EAAM9M,OAAS8M,EAAMnP,OAWhC,OAVAuE,EAAOsE,EAAkBtE,GACZ,QAAT1C,EAEAsI,EAAMgG,YAAY5L,GAGlB4F,EAAMiG,YAAY7L,IAIf,SAQvBiK,EAAMpL,OAGNlF,KAAKsQ,MAAQA,GAIjB2B,YAAa,SAAqB/S,GAC9B,IAAI+J,EAASjJ,KAAKiJ,OAClBA,EAAOmC,IAAIC,GAAG,aAAc,cAAgBnM,EAAQ,6BAIxDgT,YAAa,SAAqBhT,GAC9B,IAAI+J,EAASjJ,KAAKiJ,OACdmI,EAAiBnI,EAAOgC,UAAUyC,4BACjC0D,IAGLA,EAAetP,KAAK5C,GACpB+J,EAAOgC,UAAUM,qBAIrBC,gBAAiB,SAAyBzH,GACtC,IAAIkF,EAASjJ,KAAKiJ,OACdtC,EAAQ3G,KAAK2G,MACbyK,EAAiBnI,EAAOgC,UAAUyC,4BACtC,GAAK0D,EAAL,CAGA,IAAIe,EAAcf,EAAe1L,SACI,SAAjC0L,EAAelL,eAA0D,QAA9BiM,EAAYjM,eACvDlG,KAAK8K,SAAU,EACfnE,EAAMrC,SAAS,gBAEftE,KAAK8K,SAAU,EACfnE,EAAMhC,YAAY,kBAmB9BmK,EAASjO,UAAY,CACjBmC,YAAa8L,EAEb/D,QAAS,WACL/K,KAAKyQ,gBAGTA,aAAc,WACV,IAAIxE,EAAQjM,KAERiJ,EAASjJ,KAAKiJ,OACd7B,EAAS6B,EAAO7B,OAEhBI,EAAWJ,EAAOI,UAAY,GAG9B4K,EAAY,GAChB5K,EAASvI,SAAQ,SAAUoT,GACvB,IAAIC,EAAWD,EAAS1O,KACpB+D,EAAU2K,EAAS3K,SAAW,GAG9B6K,EAAW,GAGE,UAAbD,GACA5K,EAAQzI,SAAQ,SAAU2C,GAClBA,IACA2Q,GAAY,0BAA4B3Q,EAAO,cAK1C,UAAb0Q,GACA5K,EAAQzI,SAAQ,SAAU2C,GACtB,IAAIgG,EAAMhG,EAAKgG,IACXD,EAAM/F,EAAK+F,IACXC,IAEA2K,GAAY,oCAAsC3K,EAAM,UAAYD,EAAM,8BAKtFyK,EAAU9O,KAAK,CACXmE,MAAO4K,EAAS5K,MAChBoI,IAAK,uCAAyC0C,EAAW,SACzDtC,OAAQ,CAAC,CACL7N,SAAU,gBACVuB,KAAM,QACNV,GAAI,SAAYc,GACZ,IAAI3D,EAAS2D,EAAE3D,OACXoS,EAAUzP,EAAE3C,GACZ+F,EAAWqM,EAAQtM,cAEnBuM,OAAa,EAWjB,OARIA,EAFa,QAAbtM,EAEaqM,EAAQ9M,SAAS5D,OAGjB,SAAW0Q,EAAQ1Q,OAAS,UAG7CmK,EAAMyG,QAAQD,IAEP,UAMvB,IAAInC,EAAQ,IAAItC,EAAMhO,KAAM,CACxB+M,MAAO,IACPQ,OAAQ,IAERiC,KAAM4C,IAIV9B,EAAMpL,OAGNlF,KAAKsQ,MAAQA,GAIjBoC,QAAS,SAAiBC,GACtB,IAAI1J,EAASjJ,KAAKiJ,OAClBA,EAAOmC,IAAIC,GAAG,aAAcsH,KAkBpC5D,EAAMlO,UAAY,CACdmC,YAAa+L,EAEbhE,QAAS,WACD/K,KAAK8K,QAEL9K,KAAK4S,mBAGL5S,KAAK6S,sBAKbA,mBAAoB,WAChB,IAAI5G,EAAQjM,KAGR8S,EAAczI,EAAU,OACxB0I,EAAa1I,EAAU,OACvB2I,EAAa3I,EAAU,OAEvBiG,EAAQ,IAAItC,EAAMhO,KAAM,CACxB+M,MAAO,IAEPyC,KAAM,CAAC,CAEH/H,MAAO,OAEPoI,IAAK,sJAAkKkD,EAAa,0IAAiJC,EAAa,wOAA8PF,EAAc,0FAE9lB7C,OAAQ,CAAC,CAEL7N,SAAU,IAAM0Q,EAChBnP,KAAM,QACNV,GAAI,WACA,IAAIgQ,EAASC,SAASnQ,EAAE,IAAMgQ,GAAY5O,OACtCgP,EAASD,SAASnQ,EAAE,IAAMiQ,GAAY7O,OAQ1C,OANI8O,GAAUE,GAAUF,EAAS,GAAKE,EAAS,GAE3ClH,EAAMyG,QAAQO,EAAQE,IAInB,SAQvB7C,EAAMpL,OAGNlF,KAAKsQ,MAAQA,GAIjBoC,QAAS,SAAiBO,EAAQE,GAE9B,IAAIC,OAAI,EACJC,OAAI,EACJvR,EAAO,kEACX,IAAKsR,EAAI,EAAGA,EAAIH,EAAQG,IAAK,CAEzB,GADAtR,GAAQ,OACE,IAANsR,EACA,IAAKC,EAAI,EAAGA,EAAIF,EAAQE,IACpBvR,GAAQ,uBAGZ,IAAKuR,EAAI,EAAGA,EAAIF,EAAQE,IACpBvR,GAAQ,kBAGhBA,GAAQ,QAEZA,GAAQ,sBAGR,IAAImH,EAASjJ,KAAKiJ,OAClBA,EAAOmC,IAAIC,GAAG,aAAcvJ,GAG5BmH,EAAOmC,IAAIC,GAAG,wBAAwB,GACtCpC,EAAOmC,IAAIC,GAAG,4BAA4B,IAI9CuH,iBAAkB,WACd,IAAIU,EAAStT,KAGTuT,EAAclJ,EAAU,WACxBmJ,EAAcnJ,EAAU,WACxBoJ,EAAcpJ,EAAU,WACxBqJ,EAAcrJ,EAAU,WACxBsJ,EAAgBtJ,EAAU,aAG1BiG,EAAQ,IAAItC,EAAMhO,KAAM,CACxB+M,MAAO,IAEPyC,KAAM,CAAC,CAEH/H,MAAO,OAEPoI,IAAK,4LAA8L0D,EAAc,wEAAyFE,EAAc,4EAA6FD,EAAc,wEAAyFE,EAAc,wKAAyLC,EAAgB,+FAEntB1D,OAAQ,CAAC,CAEL7N,SAAU,IAAMmR,EAChB5P,KAAM,QACNV,GAAI,WAGA,OAFAqQ,EAAOM,WAEA,IAEZ,CAECxR,SAAU,IAAMoR,EAChB7P,KAAM,QACNV,GAAI,WAGA,OAFAqQ,EAAOO,WAEA,IAEZ,CAECzR,SAAU,IAAMqR,EAChB9P,KAAM,QACNV,GAAI,WAGA,OAFAqQ,EAAOQ,WAEA,IAEZ,CAEC1R,SAAU,IAAMsR,EAChB/P,KAAM,QACNV,GAAI,WAGA,OAFAqQ,EAAOS,WAEA,IAEZ,CAEC3R,SAAU,IAAMuR,EAChBhQ,KAAM,QACNV,GAAI,WAGA,OAFAqQ,EAAOU,aAEA,SAMvB1D,EAAMpL,QAIV+O,iBAAkB,WACd,IAAIlV,EAAS,GACTkK,EAASjJ,KAAKiJ,OACdmI,EAAiBnI,EAAOgC,UAAUyC,4BACtC,GAAK0D,EAAL,CAGA,IAAIjL,EAAWiL,EAAelL,cAC9B,GAAiB,OAAbC,GAAkC,OAAbA,EAAzB,CAKA,IAAI+N,EAAM9C,EAAe1L,SACrByO,EAAOD,EAAIhS,WACXkS,EAAWD,EAAKzT,OACpByT,EAAKlV,SAAQ,SAAUoV,EAAI7T,GACvB,GAAI6T,IAAOjD,EAAe,GAOtB,OALArS,EAAOsV,GAAK,CACR7T,MAAOA,EACP0C,KAAMmR,EACN3T,OAAQ0T,IAEL,KAKf,IAAIE,EAASJ,EAAIxO,SACb6O,EAAOD,EAAOpS,WACdsS,EAAWD,EAAK7T,OAcpB,OAbA6T,EAAKtV,SAAQ,SAAUwV,EAAIjU,GACvB,GAAIiU,IAAOP,EAAI,GAOX,OALAnV,EAAO0V,GAAK,CACRjU,MAAOA,EACP0C,KAAMuR,EACN/T,OAAQ8T,IAEL,KAKRzV,KAIX6U,QAAS,WAEL,IAAIc,EAAe1U,KAAKiU,mBACxB,GAAKS,EAAL,CAGA,IAAIC,EAASD,EAAaD,GACtBG,EAAa7R,EAAE4R,EAAOzR,MACtB2R,EAASH,EAAaL,GACtBD,EAAWS,EAAOnU,OAGlBoU,EAAQtT,SAASQ,cAAc,MAC/B6N,EAAM,GACNlO,OAAI,EACR,IAAKA,EAAI,EAAGA,EAAIyS,EAAUzS,IACtBkO,GAAO,kBAEXiF,EAAM7S,UAAY4N,EAElB9M,EAAE+R,GAAO9N,YAAY4N,KAIzBf,QAAS,WAEL,IAAIa,EAAe1U,KAAKiU,mBACxB,GAAKS,EAAL,CAGA,IAAIC,EAASD,EAAaD,GACtBI,EAASH,EAAaL,GACtBU,EAAUF,EAAOrU,MACjBoU,EAAa7R,EAAE4R,EAAOzR,MACtB8R,EAAYJ,EAAWlP,SACvB6O,EAAOS,EAAU9S,WAGrBqS,EAAKtV,SAAQ,SAAUwV,GACnB,IAAIP,EAAMnR,EAAE0R,GACRN,EAAOD,EAAIhS,WACX+S,EAAad,EAAK5U,IAAIwV,GACtBG,EAAOD,EAAW/O,cAAciP,cAGhCC,EAAQ5T,SAASQ,cAAckT,GACnCnS,EAAEqS,GAAOpO,YAAYiO,QAK7BnB,QAAS,WAEL,IAAIY,EAAe1U,KAAKiU,mBACxB,GAAKS,EAAL,CAGA,IAAIC,EAASD,EAAaD,GACtBG,EAAa7R,EAAE4R,EAAOzR,MAC1B0R,EAAWnP,WAIfsO,QAAS,WAEL,IAAIW,EAAe1U,KAAKiU,mBACxB,GAAKS,EAAL,CAGA,IAAIC,EAASD,EAAaD,GACtBI,EAASH,EAAaL,GACtBU,EAAUF,EAAOrU,MACjBoU,EAAa7R,EAAE4R,EAAOzR,MACtB8R,EAAYJ,EAAWlP,SACvB6O,EAAOS,EAAU9S,WAGrBqS,EAAKtV,SAAQ,SAAUwV,GACnB,IAAIP,EAAMnR,EAAE0R,GACRN,EAAOD,EAAIhS,WACX+S,EAAad,EAAK5U,IAAIwV,GAE1BE,EAAWxP,cAKnBuO,UAAW,WACP,IAAI/K,EAASjJ,KAAKiJ,OACdmI,EAAiBnI,EAAOgC,UAAUyC,4BACtC,GAAK0D,EAAL,CAGA,IAAIiE,EAASjE,EAAe7K,YAAY,SACnC8O,GAGLA,EAAO5P,WAIX+F,gBAAiB,SAAyBzH,GACtC,IAAIkF,EAASjJ,KAAKiJ,OACdtC,EAAQ3G,KAAK2G,MACbyK,EAAiBnI,EAAOgC,UAAUyC,4BACtC,GAAK0D,EAAL,CAGA,IAAIjL,EAAWiL,EAAelL,cACb,OAAbC,GAAkC,OAAbA,GACrBnG,KAAK8K,SAAU,EACfnE,EAAMrC,SAAS,gBAEftE,KAAK8K,SAAU,EACfnE,EAAMhC,YAAY,kBAmB9BqK,EAAMnO,UAAY,CACdmC,YAAagM,EAEbjE,QAAS,WACL/K,KAAKyQ,gBAGTA,aAAc,WACV,IAAIxE,EAAQjM,KAGRsV,EAAYjL,EAAU,YACtB2H,EAAQ3H,EAAU,OAGlBiG,EAAQ,IAAItC,EAAMhO,KAAM,CACxB+M,MAAO,IAEPyC,KAAM,CAAC,CAEH/H,MAAO,OAEPoI,IAAK,6CAA+CyF,EAAY,mLAAyMtD,EAAQ,0FAEjR/B,OAAQ,CAAC,CACL7N,SAAU,IAAM4P,EAChBrO,KAAM,QACNV,GAAI,WACA,IAAIgO,EAAQlO,EAAE,IAAMuS,GAChBnR,EAAM8M,EAAM9M,MAAMtB,OAWtB,OANIsB,GAEA8H,EAAMyG,QAAQvO,IAIX,SAQvBmM,EAAMpL,OAGNlF,KAAKsQ,MAAQA,GAIjBoC,QAAS,SAAiBvO,GACtB,IAAI8E,EAASjJ,KAAKiJ,OAClBA,EAAOmC,IAAIC,GAAG,aAAclH,EAAM,iBAoB1C8K,EAAMpO,UAAY,CACdmC,YAAaiM,EAEblE,QAAS,WACL,IAAI9B,EAASjJ,KAAKiJ,OACd7B,EAAS6B,EAAO7B,OAChBA,EAAOmC,QAGPvJ,KAAK8K,QACL9K,KAAK4S,mBAEL5S,KAAK6S,uBAIbD,iBAAkB,WACd,IAAI3J,EAASjJ,KAAKiJ,OAGdsM,EAAUlL,EAAU,YACpBmL,EAAUnL,EAAU,YACpBoL,EAAWpL,EAAU,aACrBqL,EAASrL,EAAU,WAGnBsL,EAAa,CAAC,CACdlO,MAAO,OACPoI,IAAK,mSAA8T0F,EAAU,oEAAsEC,EAAU,oEAAsEC,EAAW,yJAA2JC,EAAS,uFAClpBzF,OAAQ,CAAC,CACL7N,SAAU,IAAMmT,EAChB5R,KAAM,QACNV,GAAI,WACA,IAAI2S,EAAO3M,EAAO4M,aAKlB,OAJID,GACAA,EAAKhR,IAAI,YAAa,QAGnB,IAEZ,CACCxC,SAAU,IAAMoT,EAChB7R,KAAM,QACNV,GAAI,WACA,IAAI2S,EAAO3M,EAAO4M,aAKlB,OAJID,GACAA,EAAKhR,IAAI,YAAa,QAGnB,IAEZ,CACCxC,SAAU,IAAMqT,EAChB9R,KAAM,QACNV,GAAI,WACA,IAAI2S,EAAO3M,EAAO4M,aAKlB,OAJID,GACAA,EAAKhR,IAAI,YAAa,SAGnB,IAEZ,CACCxC,SAAU,IAAMsT,EAChB/R,KAAM,QACNV,GAAI,WACA,IAAI2S,EAAO3M,EAAO4M,aAKlB,OAJID,GACAA,EAAKnQ,UAGF,OAMf6K,EAAQ,IAAItC,EAAMhO,KAAM,CACxB+M,MAAO,IACPyC,KAAMmG,IAEVrF,EAAMpL,OAGNlF,KAAKsQ,MAAQA,GAGjBuC,mBAAoB,WAChB,IAAI5J,EAASjJ,KAAKiJ,OACd6M,EAAY7M,EAAO6M,UACnB1O,EAAS6B,EAAO7B,OAGhB2O,EAAc1L,EAAU,cACxB2L,EAAW3L,EAAU,WACrB4L,EAAY5L,EAAU,YACtB6L,EAAY7L,EAAU,YAGtBsL,EAAa,CAAC,CACdlO,MAAO,OACPoI,IAAK,oEAAsEkG,EAAc,oMAAsMC,EAAW,sJAC1S/F,OAAQ,CAAC,CAEL7N,SAAU,IAAM2T,EAChBpS,KAAM,QACNV,GAAI,WACA,IAAIkT,EAAQpT,EAAE,IAAMiT,GAChBI,EAAWD,EAAM,GACrB,IAAIC,EAIA,OAAO,EAHPA,EAASC,UAMlB,CAECjU,SAAU,IAAM4T,EAChBrS,KAAM,SACNV,GAAI,WACA,IAAIkT,EAAQpT,EAAE,IAAMiT,GAChBI,EAAWD,EAAM,GACrB,IAAKC,EAED,OAAO,EAIX,IAAIE,EAAWF,EAASlN,MAMxB,OALIoN,EAAS5V,QACToV,EAAUA,UAAUQ,IAIjB,MAInB,CACI7O,MAAO,OACPoI,IAAK,yCAA2CoG,EAAY,sJAA4KC,EAAY,kFACpPjG,OAAQ,CAAC,CACL7N,SAAU,IAAM8T,EAChBvS,KAAM,QACNV,GAAI,WACA,IAAIsT,EAAWxT,EAAE,IAAMkT,GACnBrX,EAAM2X,EAASpS,MAAMtB,OAOzB,OALIjE,GACAkX,EAAUU,cAAc5X,IAIrB,OAOf6X,EAAmB,IAClBrP,EAAOoB,qBAAuBpB,EAAOsP,iBAAmBtP,EAAOuP,kBAAoB3M,OAAO4M,YAE3FH,EAAiBnT,KAAKqS,EAAW,IAEjCvO,EAAOiB,aAEPoO,EAAiBnT,KAAKqS,EAAW,IAIrC,IAAIrF,EAAQ,IAAItC,EAAMhO,KAAM,CACxB+M,MAAO,IACPyC,KAAMiH,IAEVnG,EAAMpL,OAGNlF,KAAKsQ,MAAQA,GAIjB9E,gBAAiB,SAAyBzH,GACtC,IAAIkF,EAASjJ,KAAKiJ,OACdtC,EAAQ3G,KAAK2G,MACbsC,EAAO4M,cACP7V,KAAK8K,SAAU,EACfnE,EAAMrC,SAAS,gBAEftE,KAAK8K,SAAU,EACfnE,EAAMhC,YAAY,iBAU9B,IAAIkS,EAAmB,GA8CvB,SAASC,EAAM7N,GACXjJ,KAAKiJ,OAASA,EACdjJ,KAAKqH,MAAQ,GA0HjB,SAAS0P,EAAahT,GAClB,IAAIiT,EAAgBjT,EAAEiT,eAAiBjT,EAAEkT,eAAiBlT,EAAEkT,cAAcD,cACtEE,OAAY,EAOhB,OALIA,EADiB,MAAjBF,EACYhN,OAAOgN,eAAiBhN,OAAOgN,cAAcG,QAAQ,QAErDH,EAAcG,QAAQ,cAG/BxM,EAAkBuM,GAI7B,SAASE,EAAarT,EAAGsT,EAAaC,GAClC,IAAIN,EAAgBjT,EAAEiT,eAAiBjT,EAAEkT,eAAiBlT,EAAEkT,cAAcD,cACtEE,OAAY,EACZK,OAAY,EAUhB,GATqB,MAAjBP,EACAE,EAAYlN,OAAOgN,eAAiBhN,OAAOgN,cAAcG,QAAQ,SAEjED,EAAYF,EAAcG,QAAQ,cAClCI,EAAYP,EAAcG,QAAQ,eAEjCI,GAAaL,IACdK,EAAY,MAAQ5M,EAAkBuM,GAAa,QAElDK,EAAL,CAKA,IAAIC,EAAeD,EAAU1T,MAAM,WAyBnC,OAxB4B,IAAxB2T,EAAa9W,SACb6W,EAAYC,EAAa,IAI7BD,EAAYA,EAAU3U,QAAQ,6BAA8B,IAE5D2U,EAAYA,EAAU3U,QAAQ,eAAgB,IAE9C2U,EAAYA,EAAU3U,QAAQ,+BAAgC,IAE1D0U,IAEAC,EAAYA,EAAU3U,QAAQ,cAAe,KAK7C2U,EAFAF,EAEYE,EAAU3U,QAAQ,oCAAqC,IAGvD2U,EAAU3U,QAAQ,4BAA6B,IAGxD2U,GAIX,SAASE,EAAa1T,GAClB,IAAIhF,EAAS,GACT2Y,EAAMX,EAAahT,GACvB,GAAI2T,EAEA,OAAO3Y,EAGX,IAAIiY,EAAgBjT,EAAEiT,eAAiBjT,EAAEkT,eAAiBlT,EAAEkT,cAAcD,eAAiB,GACvFW,EAAQX,EAAcW,MAC1B,OAAKA,GAIL1N,EAAW0N,GAAO,SAAUxY,EAAKD,GAC7B,IAAIyE,EAAOzE,EAAMyE,KACb,SAASmG,KAAKnG,IACd5E,EAAOuE,KAAKpE,EAAM0Y,gBAInB7Y,GAVIA,EAkBf,SAAS8Y,EAAgBlR,GACrB,IAAI5H,EAAS,GACTuG,EAAYqB,EAAMvB,cAAgB,GAmCtC,OAlCAE,EAAUrG,SAAQ,SAAU6Y,GACxB,IAAIC,OAAa,EACbtV,EAAWqV,EAAQrV,SASvB,GANiB,IAAbA,IACAsV,EAAaD,EAAQE,YACrBD,EAAapN,EAAkBoN,IAIlB,IAAbtV,EAAgB,CAChBsV,EAAa,GAGbA,EAAWE,IAAMH,EAAQ3R,SAASgP,cAKlC,IAHA,IAAI+C,EAAW,GACXC,EAAWL,EAAQM,YAAc,GACjCC,EAAiBF,EAASzX,QAAU,EAC/BiB,EAAI,EAAGA,EAAI0W,EAAgB1W,IAAK,CACrC,IAAIuC,EAAOiU,EAASxW,GACpBuW,EAAS5U,KAAK,CACV4R,KAAMhR,EAAKgR,KACXhW,MAAOgF,EAAKhF,QAGpB6Y,EAAWO,MAAQJ,EAEnBH,EAAW7V,SAAW2V,EAAgB9U,EAAE+U,IAG5C/Y,EAAOuE,KAAKyU,MAEThZ,EAIX,SAASwZ,EAAKtP,GACVjJ,KAAKiJ,OAASA,EAwflB,SAASuP,EAAQvP,GACbjJ,KAAKiJ,OAASA,EAqGlB,SAASwP,EAAIxP,GACTjJ,KAAKiJ,OAASA,EACdjJ,KAAK0Y,cAAgB,KAmLzB,SAASC,EAAS1P,GACdjJ,KAAKiJ,OAASA,EACdjJ,KAAK4Y,MAAQ,EACb5Y,KAAK6Y,SAAU,EACf7Y,KAAK8Y,WAAY,EACjB9Y,KAAK+Y,WAAa,EAClB/Y,KAAKgZ,eAAiB/P,EAAOmG,mBAC7BpP,KAAKiZ,KAAOlW,EAAE,oCArkClB8T,EAAiBqC,KAAOrO,EAExBgM,EAAiBsC,KAAOtM,EAExBgK,EAAiBuC,SAAWnM,EAE5B4J,EAAiB1J,SAAWD,EAE5B2J,EAAiB7O,KAAOiG,EAExB4I,EAAiBwC,OAASnL,EAE1B2I,EAAiByC,KAAOnL,EAExB0I,EAAiB0C,cAAgBnL,EAEjCyI,EAAiB2C,UAAYnL,EAE7BwI,EAAiB4C,KAAOnL,EAExBuI,EAAiBxK,KAAOkC,EAExBsI,EAAiB6C,QAAUlL,EAE3BqI,EAAiB8C,UAAYlL,EAE7BoI,EAAiB+C,UAAYjL,EAE7BkI,EAAiBgD,MAAQjL,EAEzBiI,EAAiBiD,KAAOjL,EAExBgI,EAAiBkD,SAAWjL,EAE5B+H,EAAiBmD,MAAQjL,EAEzB8H,EAAiBoD,MAAQjL,EAEzB6H,EAAiBqD,MAAQjL,EAYzB6H,EAAMjW,UAAY,CACdmC,YAAa8T,EAGbqD,KAAM,WACF,IAAIlO,EAAQjM,KAERiJ,EAASjJ,KAAKiJ,OACd7B,EAAS6B,EAAO7B,QAAU,GAC1BgT,EAAchT,EAAOC,OAAS,GAGlC+S,EAAYnb,SAAQ,SAAUob,GAC1B,IAAIC,EAAkBzD,EAAiBwD,GACnCC,GAA8C,oBAApBA,IAE1BrO,EAAM5E,MAAMgT,GAAW,IAAIC,EAAgBrR,OAKnDjJ,KAAKua,gBAGLva,KAAKwa,cAITD,cAAe,WACX,IAAItR,EAASjJ,KAAKiJ,OACdwR,EAAexR,EAAOwR,aACtBpT,EAAQrH,KAAKqH,MACbD,EAAS6B,EAAO7B,OAEhBS,EAAST,EAAOS,OAAS,EAC7BoC,EAAW5C,GAAO,SAAUlI,EAAK4M,GAC7B,IAAIpF,EAAQoF,EAAKpF,MACbA,IAEAA,EAAM/B,IAAI,UAAWiD,GACrB4S,EAAapV,OAAOsB,QAMhC6T,WAAY,WACR,IAAInT,EAAQrH,KAAKqH,MACb4B,EAASjJ,KAAKiJ,OAClBgB,EAAW5C,GAAO,SAAUlI,EAAK4M,GAC7B,IAAIpI,EAAOoI,EAAKpI,KAChB,GAAKA,EAAL,CAGA,IAAIgD,EAAQoF,EAAKpF,MACbmG,EAAWf,EAAKe,SACRf,EAAKuE,MAGJ,UAAT3M,GAAoBoI,EAAKhB,SACzBpE,EAAMjD,GAAG,SAAS,SAAUK,GACW,MAA/BkF,EAAOgC,UAAUyP,YAGrB3O,EAAKhB,QAAQhH,MAKR,aAATJ,GAAuBmJ,GACvBnG,EAAMjD,GAAG,cAAc,SAAUK,GACM,MAA/BkF,EAAOgC,UAAUyP,aAIrB5N,EAASU,cAAgBd,YAAW,WAChCI,EAAS5H,SACV,SACJxB,GAAG,cAAc,SAAUK,GAE1B+I,EAASL,cAAgBC,YAAW,WAChCI,EAAS3H,SACV,MAKE,UAATxB,GAAoBoI,EAAKhB,SACzBpE,EAAMjD,GAAG,SAAS,SAAUK,GACxBA,EAAEiM,kBACiC,MAA/B/G,EAAOgC,UAAUyP,YAIrB3O,EAAKhB,QAAQhH,WAO7B4W,aAAc,WACV,IAAItT,EAAQrH,KAAKqH,MACjB4C,EAAW5C,GAAO,SAAUlI,EAAK4M,GACzBA,EAAKP,iBACLkB,YAAW,WACPX,EAAKP,oBACN,UAkJnB+M,EAAK1X,UAAY,CACbmC,YAAauV,EAGb4B,KAAM,WAEFna,KAAKwa,cAITI,MAAO,WACH5a,KAAK8B,KAAK,gBAIdA,KAAM,SAAcqC,GAChB,IAAI8E,EAASjJ,KAAKiJ,OACd0E,EAAY1E,EAAO0E,UACnB7L,OAAO,EACX,GAAW,MAAPqC,EAIA,OAHArC,EAAO6L,EAAU7L,OAEjBA,EAAOA,EAAKc,QAAQ,WAAY,IACzBd,EAEP6L,EAAU7L,KAAKqC,GAGf8E,EAAO4R,iBAKfC,QAAS,WACL,IAAI7R,EAASjJ,KAAKiJ,OACd0E,EAAY1E,EAAO0E,UACvB,OAAOkK,EAAgBlK,IAI3BtH,KAAM,SAAclC,GAChB,IAAI8E,EAASjJ,KAAKiJ,OACd0E,EAAY1E,EAAO0E,UACnBtH,OAAO,EACX,GAAW,MAAPlC,EAIA,OAHAkC,EAAOsH,EAAUtH,OAEjBA,EAAOA,EAAKzD,QAAQ,WAAY,IACzByD,EAEPsH,EAAUtH,KAAK,MAAQlC,EAAM,QAG7B8E,EAAO4R,iBAKfxV,OAAQ,SAAgBvD,GACpB,IAAImH,EAASjJ,KAAKiJ,OACd0E,EAAY1E,EAAO0E,UACvBA,EAAUtI,OAAOtC,EAAEjB,IAGnBmH,EAAO4R,iBAIXL,WAAY,WAERxa,KAAK+a,qBAGL/a,KAAKgb,kBAGLhb,KAAKib,eAGLjb,KAAKkb,eAGLlb,KAAKmb,aAGLnb,KAAKob,aAGLpb,KAAKqb,eAITN,mBAAoB,WAChB,IAAI9R,EAASjJ,KAAKiJ,OACd0E,EAAY1E,EAAO0E,UAGvB,SAAS2N,EAAUvX,GAEfkF,EAAOgC,UAAUqQ,YAEjBrS,EAAO5B,MAAMsT,eAGjBhN,EAAUjK,GAAG,QAAS4X,GACtB3N,EAAUjK,GAAG,aAAa,SAAUK,GAEhC4J,EAAUjK,GAAG,aAAc4X,MAE/B3N,EAAUjK,GAAG,WAAW,SAAUK,GAC9BuX,IAEA3N,EAAU3J,IAAI,aAAcsX,OAKpCN,gBAAiB,WACb,IAAI/R,EAASjJ,KAAKiJ,OACd0E,EAAY1E,EAAO0E,UAEvB,SAAS4N,EAAa9N,GAClB,IAAI+N,EAAKzY,EAAE,eACXyY,EAAG5U,aAAa6G,GAChBxE,EAAOgC,UAAUuF,kBAAkBgL,GAAI,GACvCvS,EAAOgC,UAAUM,mBACjBkC,EAAehI,SAInB,SAASgW,EAAQ1X,GACb,IAAI0J,EAAiBxE,EAAOgC,UAAUyC,4BAClCyE,EAAc1E,EAAe/H,SAEjC,GAA2B,sBAAvByM,EAAYrQ,QAOhB,GAAKqQ,EAAYzL,MAAMiH,GAAvB,CAKA,IAAIxH,EAAWsH,EAAevH,cACb,MAAbC,IAKAsH,EAAepH,QAMnBkV,EAAa9N,UArBT8N,EAAa9N,GAkCrB,SAASiO,EAAW3X,GAChB,IAAI0J,EAAiBxE,EAAOgC,UAAUyC,4BACtC,GAAKD,EAAL,CAGA,IAAI0E,EAAc1E,EAAe/H,SAC7BiW,EAAoBlO,EAAevH,cACnC0V,EAAiBzJ,EAAYjM,cAEjC,GAA0B,SAAtByV,GAAmD,QAAnBC,GAK/B3S,EAAOmC,IAAIyQ,sBAAsB,cAAtC,CAMA,IAA8B,IAA1B5S,EAAO6S,eAAyB,CAGhC,IAAIN,EAAKzY,EAAE,eASX,OARAyY,EAAGxU,YAAYmL,GACflJ,EAAOgC,UAAUuF,kBAAkBgL,GAAI,GACvCvS,EAAOgC,UAAUM,mBAGjBtC,EAAO6S,gBAAiB,OAExB/X,EAAEgY,iBAIN,IAAIC,EAAe/S,EAAOgC,UAAUyP,WAAWuB,YAG/ChT,EAAOmC,IAAIC,GAAG,aAAc,MAC5BpC,EAAOgC,UAAUqQ,YACbrS,EAAOgC,UAAUyP,WAAWuB,cAAgBD,GAE5C/S,EAAOmC,IAAIC,GAAG,aAAc,MAGhC,IAAI6Q,EAAazO,EAAe3L,OAAOpB,OACnCuI,EAAOgC,UAAUyP,WAAWuB,YAAc,IAAMC,IAGhDjT,EAAO6S,gBAAiB,GAI5B/X,EAAEgY,mBA/DNpO,EAAUjK,GAAG,SAAS,SAAUK,GACV,KAAdA,EAAEoY,SAKNV,EAAQ1X,MA4DZ4J,EAAUjK,GAAG,WAAW,SAAUK,GACZ,KAAdA,EAAEoY,QAONT,EAAW3X,GAJPkF,EAAO6S,gBAAiB,MASpCb,aAAc,WACV,IAAIhS,EAASjJ,KAAKiJ,OACd0E,EAAY1E,EAAO0E,UAEvBA,EAAUjK,GAAG,WAAW,SAAUK,GAC9B,GAAkB,IAAdA,EAAEoY,QAAN,CAGA,IAAIC,EAAUzO,EAAU7L,OAAOqT,cAActS,OAC7B,gBAAZuZ,GAEArY,EAAEgY,qBAKVpO,EAAUjK,GAAG,SAAS,SAAUK,GAC5B,GAAkB,IAAdA,EAAEoY,QAAN,CAGA,IAAIX,OAAK,EACLY,EAAUzO,EAAU7L,OAAOqT,cAActS,OAGxCuZ,GAAuB,SAAZA,IAEZZ,EAAKzY,EAAE,gBACP4K,EAAU7L,KAAK,IACf6L,EAAUtI,OAAOmW,GACjBvS,EAAOgC,UAAUuF,kBAAkBgL,GAAI,GAAO,GAC9CvS,EAAOgC,UAAUM,yBAM7B2P,aAAc,WACV,IAAIjS,EAASjJ,KAAKiJ,OACd7B,EAAS6B,EAAO7B,OAChBc,EAAmBd,EAAOc,iBAC1BE,EAAkBhB,EAAOgB,gBACzBkP,EAAYlQ,EAAOe,eACnBwF,EAAY1E,EAAO0E,UAInB0O,EAAY,EAChB,SAASC,IACL,IAAIC,EAAMC,KAAKD,MACXE,GAAO,EAMX,OALIF,EAAMF,GAAa,MAEnBI,GAAO,GAEXJ,EAAYE,EACLE,EAEX,SAASC,IACLL,EAAY,EAIhB1O,EAAUjK,GAAG,SAAS,SAAUK,GAC5B,IAAIyF,EAAGO,SAIHhG,EAAEgY,iBAIDO,KAAL,CAKA,IAAI/E,EAAYH,EAAarT,EAAGmE,EAAkBoP,GAC9CJ,EAAYH,EAAahT,GAC7BmT,EAAYA,EAAUtU,QAAQ,OAAQ,QAEtC,IAAI6K,EAAiBxE,EAAOgC,UAAUyC,4BACtC,GAAKD,EAAL,CAGA,IAAItH,EAAWsH,EAAevH,cAG9B,GAAiB,SAAbC,GAAoC,QAAbA,EAMvB,OALIiC,GAAmBwC,EAAWxC,KAE9B8O,EAAY,IAAM9O,EAAgB8O,IAAc,UAEpDjO,EAAOmC,IAAIC,GAAG,aAAc,MAAQ6L,EAAY,QAUpD,GAAKK,EAKL,IAGQnP,GAAmBwC,EAAWxC,KAE9BmP,EAAY,IAAMnP,EAAgBmP,IAAc,KAEpDtO,EAAOmC,IAAIC,GAAG,aAAckM,GAC9B,MAAOoF,GAEDvU,GAAmBwC,EAAWxC,KAE9B8O,EAAY,IAAM9O,EAAgB8O,IAAc,KAEpDjO,EAAOmC,IAAIC,GAAG,aAAc,MAAQ6L,EAAY,aAjBhDwF,SAsBR/O,EAAUjK,GAAG,SAAS,SAAUK,GAC5B,IAAIyF,EAAGO,SAGHhG,EAAEgY,iBAIDO,KAAL,CAKA,IAAIM,EAAanF,EAAa1T,GAC9B,GAAK6Y,GAAeA,EAAWlc,OAA/B,CAKA,IAAI+M,EAAiBxE,EAAOgC,UAAUyC,4BACtC,GAAKD,EAAL,CAGA,IAAItH,EAAWsH,EAAevH,cAG9B,GAAiB,SAAbC,GAAoC,QAAbA,EAA3B,CAKA,IAAI2P,EAAY7M,EAAO6M,UACvBA,EAAUA,UAAU8G,WAK5BzB,WAAY,WACR,IAAIlS,EAASjJ,KAAKiJ,OACd0E,EAAY1E,EAAO0E,UAEvBA,EAAUjK,GAAG,WAAW,SAAUK,GAC9B,GAAkB,IAAdA,EAAEoY,SAGDlT,EAAOmC,IAAIyQ,sBAAsB,cAAtC,CAIA,IAAIpO,EAAiBxE,EAAOgC,UAAUyC,4BACtC,GAAKD,EAAL,CAGA,IAAI0E,EAAc1E,EAAe/H,SAC7BiW,EAAoBlO,EAAevH,cACnC0V,EAAiBzJ,EAAYjM,cAEP,SAAtByV,GAAmD,QAAnBC,EAEhC3S,EAAOmC,IAAIC,GAAG,aAAc,QAG5BpC,EAAOmC,IAAIC,GAAG,aAAc,4BAGhCtH,EAAEgY,uBAKVX,WAAY,WACR,IAAInS,EAASjJ,KAAKiJ,OACd0E,EAAY1E,EAAO0E,UAGvBA,EAAUjK,GAAG,QAAS,OAAO,SAAUK,GACnC,IAAI8Y,EAAM7c,KACN4V,EAAO7S,EAAE8Z,GAEiB,MAA1BjH,EAAK1R,KAAK,cAMd+E,EAAO4M,aAAeD,EAGtB3M,EAAOgC,UAAUuF,kBAAkBoF,GACnC3M,EAAOgC,UAAUM,uBAIrBoC,EAAUjK,GAAG,gBAAgB,SAAUK,GAC/BA,EAAE3D,OAAOa,QAAQ,SAKrBgI,EAAO4M,aAAe,UAK9BwF,YAAa,WACT,IAAIpS,EAASjJ,KAAKiJ,OAGd6T,EAAY/Z,EAAEvB,UAClBsb,EAAUpZ,GAAG,qCAAqC,SAAUK,GACxDA,EAAEgY,oBAIN,IAAIpO,EAAY1E,EAAO0E,UACvBA,EAAUjK,GAAG,QAAQ,SAAUK,GAC3BA,EAAEgY,iBACF,IAAI7S,EAAQnF,EAAEgZ,cAAgBhZ,EAAEgZ,aAAa7T,MAC7C,GAAKA,GAAUA,EAAMxI,OAArB,CAKA,IAAIoV,EAAY7M,EAAO6M,UACvBA,EAAUA,UAAU5M,SAehCsP,EAAQ3X,UAAY,CAChBmC,YAAawV,EAGbnN,GAAI,SAAa6J,EAAMhW,GACnB,IAAI+J,EAASjJ,KAAKiJ,OASlB,GANKA,EAAO+T,mBACRxb,SAASyb,YAAY,eAAgB,MAAM,GAC3ChU,EAAO+T,kBAAmB,GAIzB/T,EAAOgC,UAAUyP,WAAtB,CAKAzR,EAAOgC,UAAUM,mBAGjB,IAAI2R,EAAQ,IAAMhI,EACdlV,KAAKkd,GAELld,KAAKkd,GAAOhe,GAGZc,KAAKmd,aAAajI,EAAMhW,GAI5B+J,EAAO5B,MAAMsT,eAGb1R,EAAOgC,UAAUqQ,YACjBrS,EAAOgC,UAAUM,mBAGjBtC,EAAOmU,QAAUnU,EAAOmU,WAI5BC,YAAa,SAAqBvb,GAC9B,IAAImH,EAASjJ,KAAKiJ,OACdqU,EAAQrU,EAAOgC,UAAUyP,WAEzB1a,KAAK6b,sBAAsB,cAE3B7b,KAAKmd,aAAa,aAAcrb,GACzBwb,EAAMC,YAEbD,EAAME,iBACNF,EAAMC,WAAWxa,EAAEjB,GAAM,KAClBwb,EAAMG,WAEbH,EAAMG,UAAU3b,IAKxB4b,YAAa,SAAqB/W,GAC9B,IAAIsC,EAASjJ,KAAKiJ,OACdqU,EAAQrU,EAAOgC,UAAUyP,WAEzB4C,EAAMC,aACND,EAAME,iBACNF,EAAMC,WAAW5W,EAAM,MAK/BwW,aAAc,SAAsBjI,EAAMhW,GACtCsC,SAASyb,YAAY/H,GAAM,EAAOhW,IAItC2O,kBAAmB,SAA2BqH,GAC1C,OAAO1T,SAASqM,kBAAkBqH,IAItCzJ,kBAAmB,SAA2ByJ,GAC1C,OAAO1T,SAASiK,kBAAkByJ,IAItC2G,sBAAuB,SAA+B3G,GAClD,OAAO1T,SAASqa,sBAAsB3G,KAe9CuD,EAAI5X,UAAY,CACZmC,YAAayV,EAGbiC,SAAU,WACN,OAAO1a,KAAK0Y,eAIhB4C,UAAW,SAAmBqC,GAC1B,GAAIA,EAEA3d,KAAK0Y,cAAgBiF,MAFzB,CAOA,IAAI1S,EAAYjB,OAAO4T,eACvB,GAA6B,IAAzB3S,EAAU4S,WAAd,CAGA,IAAIP,EAAQrS,EAAU6S,WAAW,GAG7BC,EAAiB/d,KAAK0N,0BAA0B4P,GACpD,GAAKS,GAK0C,UAA3CA,EAAe7Z,KAAK,qBAAkC6Z,EAAexX,YAAY,2BAArF,CAIA,IAAI0C,EAASjJ,KAAKiJ,OACd0E,EAAY1E,EAAO0E,UACnBA,EAAU9H,UAAUkY,KAEpB/d,KAAK0Y,cAAgB4E,OAK7BhS,cAAe,SAAuB0S,GACnB,MAAXA,IAEAA,GAAU,GAEd,IAAIV,EAAQtd,KAAK0Y,cACb4E,GACAA,EAAMW,SAASD,IAKvBtN,iBAAkB,WACd,IAAI4M,EAAQtd,KAAK0Y,cACjB,OAAI4E,EACOtd,KAAK0Y,cAAcjO,WAEnB,IAKfiD,0BAA2B,SAAmC4P,GAC1DA,EAAQA,GAAStd,KAAK0Y,cACtB,IAAIxV,OAAO,EACX,GAAIoa,EAEA,OADApa,EAAOoa,EAAMY,wBACNnb,EAAoB,IAAlBG,EAAKT,SAAiBS,EAAOA,EAAK6D,aAGnD4K,sBAAuB,SAA+B2L,GAClDA,EAAQA,GAAStd,KAAK0Y,cACtB,IAAIxV,OAAO,EACX,GAAIoa,EAEA,OADApa,EAAOoa,EAAMa,eACNpb,EAAoB,IAAlBG,EAAKT,SAAiBS,EAAOA,EAAK6D,aAGnD8K,oBAAqB,SAA6ByL,GAC9CA,EAAQA,GAAStd,KAAK0Y,cACtB,IAAIxV,OAAO,EACX,GAAIoa,EAEA,OADApa,EAAOoa,EAAMc,aACNrb,EAAoB,IAAlBG,EAAKT,SAAiBS,EAAOA,EAAK6D,aAKnDmE,iBAAkB,WACd,IAAIoS,EAAQtd,KAAK0Y,cACjB,SAAI4E,IAASA,EAAMa,gBACXb,EAAMa,iBAAmBb,EAAMc,cAC3Bd,EAAMrB,cAAgBqB,EAAMe,YAS5C9S,iBAAkB,WACd,IAAIN,EAAYjB,OAAO4T,eACvB3S,EAAUqT,kBACVrT,EAAUsT,SAASve,KAAK0Y,gBAI5BvN,iBAAkB,WACd,IAAIlC,EAASjJ,KAAKiJ,OACdqU,EAAQtd,KAAK0a,WACb/T,OAAQ,EAEZ,GAAK2W,GAIAtd,KAAKkL,mBAKV,IAEQ1B,EAAGI,YAEHX,EAAOmC,IAAIC,GAAG,aAAc,WAE5BiS,EAAMkB,OAAOlB,EAAMc,aAAcd,EAAMe,UAAY,GAEnDre,KAAKsb,UAAUgC,KAEf3W,EAAQ5D,EAAE,4BACVkG,EAAOmC,IAAIC,GAAG,aAAc1E,GAC5B3G,KAAKwQ,kBAAkB7J,GAAO,IAEpC,MAAOgW,MAMbnM,kBAAmB,SAA2B7J,EAAOqX,EAASS,GAI1D,GAAK9X,EAAMjG,OAAX,CAIA,IAAIwC,EAAOyD,EAAM,GACb2W,EAAQ9b,SAASkd,cAEjBD,EACAnB,EAAMqB,mBAAmBzb,GAEzBoa,EAAMsB,WAAW1b,GAGE,mBAAZ8a,GACPV,EAAMW,SAASD,GAInBhe,KAAKsb,UAAUgC,MAkBvB3E,EAAS9X,UAAY,CACjBmC,YAAa2V,EAEbzT,KAAM,SAAc2Z,GAChB,IAAI5S,EAAQjM,KAGZ,IAAIA,KAAK6Y,QAAT,CAGA7Y,KAAK6Y,SAAU,EAGf,IAAII,EAAOjZ,KAAKiZ,KAChB,GAAKjZ,KAAK8Y,UAIN9Y,KAAK8Y,WAAY,MAJA,CACjB,IAAIE,EAAiBhZ,KAAKgZ,eAC1BA,EAAe3T,OAAO4T,GAMtBuD,KAAKD,MAAQvc,KAAK4Y,MAAQ,KACtBiG,GAAY,IACZ5F,EAAKrU,IAAI,QAAoB,IAAXia,EAAiB,KACnC7e,KAAK4Y,MAAQ4D,KAAKD,OAK1B,IAAIuC,EAAY9e,KAAK+Y,WACjB+F,GACA1R,aAAa0R,GAEjBA,EAAYpS,YAAW,WACnBT,EAAM8S,UACP,OAGPA,MAAO,WACH,IAAI9F,EAAOjZ,KAAKiZ,KAChBA,EAAKxT,SAGLzF,KAAK4Y,MAAQ,EACb5Y,KAAK6Y,SAAU,EACf7Y,KAAK8Y,WAAY,IAIzB,IAAIkG,EAA4B,oBAAXC,QAAoD,kBAApBA,OAAOC,SAAwB,SAAUhV,GAC5F,cAAcA,GACZ,SAAUA,GACZ,OAAOA,GAAyB,oBAAX+U,QAAyB/U,EAAIlH,cAAgBic,QAAU/U,IAAQ+U,OAAOpe,UAAY,gBAAkBqJ,GAQ3H,SAASiV,EAAUlW,GACfjJ,KAAKiJ,OAASA,EAIlBkW,EAAUte,UAAY,CAClBmC,YAAamc,EAGbC,OAAQ,SAAgBC,EAAWC,GAC/B,IAAIrW,EAASjJ,KAAKiJ,OACdnB,EAAQmB,EAAO7B,OAAOU,MACtByX,EAActW,EAAO7B,OAAOmY,YAEhC,GAAIzX,EACA,MAAM,IAAI0X,MAAM,gBAAkBF,GAAaD,IAE3CE,GAAsC,oBAAhBA,EACtBA,EAAYF,GAEZ9N,MAAM8N,IAMlB7I,cAAe,SAAuBxO,GAClC,IAAIsL,EAAStT,KAEb,GAAKgI,EAAL,CAGA,IAAIiB,EAASjJ,KAAKiJ,OACd7B,EAAS6B,EAAO7B,OAGhBa,EAAeb,EAAOa,aACtBqJ,OAAc,EAClB,GAAIrJ,GAAwC,oBAAjBA,IACvBqJ,EAAcrJ,EAAaD,GACA,kBAAhBsJ,GAEPC,MAAMD,OAJd,CASArI,EAAOmC,IAAIC,GAAG,aAAc,aAAerD,EAAO,+BAGlD,IAAI6U,EAAMrb,SAASQ,cAAc,OACjC6a,EAAI4C,OAAS,WACT,IAAIC,EAAWtY,EAAOkB,gBAClBoX,GAAgC,oBAAbA,GACnBA,EAAS1X,GAGb6U,EAAM,MAEVA,EAAI8C,QAAU,WACV9C,EAAM,KAENvJ,EAAO8L,OAAO,SAAU,6BAA2FpX,EAAO,cAG9H6U,EAAI+C,QAAU,WACV/C,EAAM,MAEVA,EAAIjV,IAAMI,KAId8N,UAAW,SAAmB5M,GAC1B,IAAI2W,EAAS7f,KAEb,GAAKkJ,GAAUA,EAAMxI,OAArB,CAKA,IAAIuI,EAASjJ,KAAKiJ,OACd7B,EAAS6B,EAAO7B,OAChBsP,EAAkBtP,EAAOsP,gBACzBlO,EAAsBpB,EAAOoB,oBAE7BsX,EAAU1Y,EAAOmB,iBACjBwX,EAAWD,EAAU,KAAO,KAC5BE,EAAY5Y,EAAO6Y,oBAAsB,IACzCxX,EAAiBrB,EAAOqB,gBAAkB,GAC1CC,EAAkBtB,EAAOsB,iBAAmB,GAC5CwX,EAAyB9Y,EAAO8Y,uBAChCvX,EAAmBvB,EAAOuB,kBAAoB,GAC9CwX,EAAQ/Y,EAAO0B,gBAAkB,GACjCQ,EAAUlC,EAAOyB,kBAAoB,IACrCD,EAAkBxB,EAAOwB,gBACN,MAAnBA,IACAA,GAAkB,GAEtB,IAAI+N,EAAkBvP,EAAOuP,gBAE7B,GAAKA,GAEID,GAAoBlO,EAF7B,CAQA,IAAI4X,EAAc,GACdC,EAAU,GAyBd,GAxBAlW,EAAWjB,GAAO,SAAUoX,GACxB,IAAIpL,EAAOoL,EAAKpL,KACZqL,EAAOD,EAAKC,KAGXrL,GAASqL,KAIuC,IAAjD,kCAAkCzW,KAAKoL,GAKvC4K,EAAUS,EAEVF,EAAQ/c,KAAK,IAAW4R,EAAO,OAAwB6K,EAAW,KAKtEK,EAAY9c,KAAKgd,GAVbD,EAAQ/c,KAAK,IAAW4R,EAAO,aAanCmL,EAAQ3f,OACRV,KAAKof,OAAO,cAAgBiB,EAAQ3b,KAAK,YAG7C,GAAI0b,EAAY1f,OAASsf,EACrBhgB,KAAKof,OAAO,SAAWY,EAAY,YAKvC,GAAIrJ,GAA8C,oBAApBA,EAC1BA,EAAgByJ,EAAapgB,KAAKwW,cAAcgK,KAAKxgB,WADzD,CAQA,IAAIygB,EAAW,IAAIC,SAOnB,GANAvW,EAAWiW,GAAa,SAAUE,GAC9B,IAAIpL,EAAOzM,GAAkB6X,EAAKpL,KAClCuL,EAASpb,OAAO6P,EAAMoL,MAItB5J,GAA8C,kBAApBA,EAA8B,CAExD,IAAIiK,EAAqBjK,EAAgB7S,MAAM,KAC/C6S,EAAkBiK,EAAmB,GACrC,IAAIC,EAAsBD,EAAmB,IAAM,GACnD1W,EAAWvB,GAAiB,SAAUvJ,EAAKgF,GAKnC+b,IACIxJ,EAAgB5T,QAAQ,KAAO,EAC/B4T,GAAmB,IAEnBA,GAAmB,IAEvBA,EAAkBA,EAAkBvX,EAAM,IAAMgF,GAIpDsc,EAASpb,OAAOlG,EAAKgF,MAErByc,IACAlK,GAAmB,IAAMkK,GAI7B,IAAI5X,EAAM,IAAI6X,eAqFd,GApFA7X,EAAI8X,KAAK,OAAQpK,GAGjB1N,EAAIM,QAAUA,EACdN,EAAI+X,UAAY,WAERZ,EAAM7W,SAAoC,oBAAlB6W,EAAM7W,SAC9B6W,EAAM7W,QAAQN,EAAKC,GAGvB4W,EAAOT,OAAO,WAIdpW,EAAIgY,SACJhY,EAAIgY,OAAOC,WAAa,SAAUld,GAC9B,IAAImd,OAAU,EAEVC,EAAc,IAAIxI,EAAS1P,GAC3BlF,EAAEqd,mBACFF,EAAUnd,EAAEsd,OAAStd,EAAEud,MACvBH,EAAYjc,KAAKgc,MAM7BlY,EAAIuY,mBAAqB,WACrB,IAAIxiB,OAAS,EACb,GAAuB,IAAnBiK,EAAIwY,WAAkB,CACtB,GAAIxY,EAAIyY,OAAS,KAAOzY,EAAIyY,QAAU,IAQlC,OANItB,EAAM9W,OAAgC,oBAAhB8W,EAAM9W,OAC5B8W,EAAM9W,MAAML,EAAKC,QAIrB4W,EAAOT,OAAO,WAAY,qBAA4GpW,EAAIyY,QAK9I,GADA1iB,EAASiK,EAAI0Y,aAC2D,YAAjD,qBAAX3iB,EAAyB,YAAcigB,EAAQjgB,IACvD,IACIA,EAAS4iB,KAAKC,MAAM7iB,GACtB,MAAO4d,GAOL,OALIwD,EAAM/W,MAA8B,oBAAf+W,EAAM/W,MAC3B+W,EAAM/W,KAAKJ,EAAKC,EAAQlK,QAG5B8gB,EAAOT,OAAO,SAAU,qBAAuBrgB,GAIvD,GAAKohB,EAAM0B,cAAgC,KAAhB9iB,EAAO+iB,MAQ3B,CACH,GAAI3B,EAAM0B,cAA8C,oBAAvB1B,EAAM0B,aAEnC1B,EAAM0B,aAAahC,EAAOrJ,cAAcgK,KAAKX,GAAS9gB,EAAQkK,OAC3D,CAEH,IAAI8Y,EAAOhjB,EAAOgjB,MAAQ,GAC1BA,EAAK9iB,SAAQ,SAAU+I,GACnB6X,EAAOrJ,cAAcxO,MAKzBmY,EAAMhX,SAAoC,oBAAlBgX,EAAMhX,SAC9BgX,EAAMhX,QAAQH,EAAKC,EAAQlK,QApB3BohB,EAAM/W,MAA8B,oBAAf+W,EAAM/W,MAC3B+W,EAAM/W,KAAKJ,EAAKC,EAAQlK,GAI5B8gB,EAAOT,OAAO,SAAU,yBAA2BrgB,EAAO+iB,SAsBlE3B,EAAMpX,QAAkC,oBAAjBoX,EAAMpX,OAAuB,CACpD,IAAIiZ,EAAe7B,EAAMpX,OAAOC,EAAKC,EAAQmX,GAC7C,GAAI4B,GAAgG,YAAvD,qBAAjBA,EAA+B,YAAchD,EAAQgD,KACzEA,EAAaC,QAGb,YADAjiB,KAAKof,OAAO4C,EAAaE,KAkBrC,OAXAjY,EAAWtB,GAAkB,SAAUxJ,EAAKgF,GACxC6E,EAAImZ,iBAAiBhjB,EAAKgF,MAI9B6E,EAAIJ,gBAAkBA,OAGtBI,EAAIoZ,KAAK3B,GAOTjY,GACA2B,EAAWjB,GAAO,SAAUoX,GACxB,IAAIrU,EAAQ4T,EACRwC,EAAS,IAAIzL,WACjByL,EAAOC,cAAchC,GACrB+B,EAAO5C,OAAS,WACZxT,EAAMuK,cAAcxW,KAAKjB,iBAY7C,IAAIwjB,EAAW,EAGf,SAASC,EAAOC,EAAiBC,GAC7B,GAAuB,MAAnBD,EAEA,MAAM,IAAIjD,MAAM,4BAGpBxf,KAAK2iB,GAAK,cAAgBJ,IAE1BviB,KAAKyiB,gBAAkBA,EACvBziB,KAAK0iB,aAAeA,EAGpB1iB,KAAK4iB,aAAe,GAIxBJ,EAAO3hB,UAAY,CACfmC,YAAawf,EAGbK,YAAa,WAET,IAAIziB,EAAS,GACbJ,KAAKoH,OAASlH,OAAOC,OAAOC,EAAQgH,EAAQpH,KAAK4iB,cAGjD,IAAIE,EAAa9iB,KAAKoH,OAAO2b,MAAQ,GACjCnX,EAAW,GACf3B,EAAW6Y,GAAY,SAAU3jB,EAAKgF,GAGlCyH,EAAStI,KAAK,CACVuG,IAAK,IAAImZ,OAAO7jB,EAAK,OACrBgF,IAAKA,OAIbnE,KAAKoH,OAAOwE,SAAWA,GAI3BqX,SAAU,WACN,IAAIhX,EAAQjM,KAERyiB,EAAkBziB,KAAKyiB,gBACvBS,EAAmBngB,EAAE0f,GACrBC,EAAe1iB,KAAK0iB,aAEpBS,EAAYnjB,KAAKoH,OACjBS,EAASsb,EAAUtb,OAGnB4S,OAAe,EACfrL,OAAqB,EACrBzB,OAAY,EACZrI,OAAY,EAEI,MAAhBod,GAEAjI,EAAe1X,EAAE,eACjBqM,EAAqBrM,EAAE,eAGvBuC,EAAY4d,EAAiBhhB,WAG7BghB,EAAiB7d,OAAOoV,GAAcpV,OAAO+J,GAG7CqL,EAAa7V,IAAI,mBAAoB,WAAWA,IAAI,SAAU,kBAC9DwK,EAAmBxK,IAAI,SAAU,kBAAkBA,IAAI,aAAc,QAAQA,IAAI,SAAU,WAG3F6V,EAAeyI,EACf9T,EAAqBrM,EAAE2f,GAEvBpd,EAAY8J,EAAmBlN,YAInCyL,EAAY5K,EAAE,eACd4K,EAAUzJ,KAAK,kBAAmB,QAAQU,IAAI,QAAS,QAAQA,IAAI,SAAU,QAGzEU,GAAaA,EAAU5E,OACvBiN,EAAUtI,OAAOC,GAEjBqI,EAAUtI,OAAOtC,EAAE,gBAIvBqM,EAAmB/J,OAAOsI,GAG1B8M,EAAanW,SAAS,eACtB8K,EAAmB9K,SAAS,sBAC5B8K,EAAmBxK,IAAI,UAAWiD,GAClC8F,EAAUrJ,SAAS,YAGnB,IAAI8e,EAAgB/Y,EAAU,gBAC9BoQ,EAAavW,KAAK,KAAMkf,GACxB,IAAIC,EAAahZ,EAAU,aAC3BsD,EAAUzJ,KAAK,KAAMmf,GAGrBrjB,KAAKya,aAAeA,EACpBza,KAAKoP,mBAAqBA,EAC1BpP,KAAK2N,UAAYA,EACjB3N,KAAKojB,cAAgBA,EACrBpjB,KAAKqjB,WAAaA,EAGlB,IAAIC,GAAiB,EACrBlU,EAAmB1L,GAAG,oBAAoB,WAEtC4f,GAAiB,KAErBlU,EAAmB1L,GAAG,kBAAkB,WAEpC4f,GAAiB,KAIrBlU,EAAmB1L,GAAG,eAAe,WAEjC4f,GAAkBrX,EAAMmR,QAAUnR,EAAMmR,YAE5C3C,EAAa/W,GAAG,SAAS,WACrB1D,KAAKod,QAAUpd,KAAKod,aAIpB+F,EAAUI,SAAWJ,EAAUK,UAE/BxjB,KAAKyjB,SAAU,EAEf1gB,EAAEvB,UAAUkC,GAAG,SAAS,SAAUK,GAE9B,IAAI2f,EAAU/V,EAAU9H,UAAU9C,EAAEgB,EAAE3D,SAGlCujB,EAAYlJ,EAAa5U,UAAU9C,EAAEgB,EAAE3D,SACvCwjB,EAASnJ,EAAa,IAAM1W,EAAE3D,OAElC,GAAKsjB,EAWIzX,EAAMwX,SACPxX,EAAMsX,SAAWtX,EAAMsX,UAE3BtX,EAAMwX,SAAU,MAdN,CAEV,GAAIE,IAAcC,EACd,OAGA3X,EAAMwX,SACNxX,EAAMuX,QAAUvX,EAAMuX,SAE1BvX,EAAMwX,SAAU,QAYhCI,aAAc,WACV7jB,KAAKoL,IAAM,IAAIoN,EAAQxY,OAI3B8jB,kBAAmB,WACf9jB,KAAKiL,UAAY,IAAIwN,EAAIzY,OAI7B+jB,eAAgB,WACZ/jB,KAAK8V,UAAY,IAAIqJ,EAAUnf,OAInCgkB,WAAY,WACRhkB,KAAKqH,MAAQ,IAAIyP,EAAM9W,MACvBA,KAAKqH,MAAM8S,QAIf8J,UAAW,WACPjkB,KAAK0X,IAAM,IAAIa,EAAKvY,MACpBA,KAAK0X,IAAIyC,QAIbU,cAAe,SAAuBqJ,GAClC,IAAIvW,EAAY3N,KAAK2N,UACjBrI,EAAYqI,EAAUzL,WAC1B,IAAKoD,EAAU5E,OAIX,OAFAiN,EAAUtI,OAAOtC,EAAE,qBACnB/C,KAAK6a,gBAIT,IAAIsJ,EAAQ7e,EAAU7B,OAEtB,GAAIygB,EAAS,CAET,IAAIpiB,EAAOqiB,EAAMriB,OAAOqT,cACpBhP,EAAWge,EAAMje,cACrB,GAAa,SAATpE,GAA4B,UAATA,GAAkC,MAAbqE,EAIxC,OAFAwH,EAAUtI,OAAOtC,EAAE,qBACnB/C,KAAK6a,gBAKb7a,KAAKiL,UAAUuF,kBAAkB2T,GAAO,GAAO,GAC/CnkB,KAAKiL,UAAUM,oBAInBiP,WAAY,WAER,IAAI4J,EAAoB,EACpBC,EAAmBrkB,KAAK0X,IAAI5V,OAC5BqhB,EAAYnjB,KAAKoH,OAGjBkd,EAAkBnB,EAAUmB,gBAChCA,EAAkBpR,SAASoR,EAAiB,MACvCA,GAAmBA,GAAmB,KACvCA,EAAkB,KAGtB,IAAIC,EAAWpB,EAAUoB,SACrBA,GAAgC,oBAAbA,IAKnBvkB,KAAKod,OAAS,WAEV,IAAIoH,EAAcxkB,KAAK0X,IAAI5V,OAEvB0iB,EAAY9jB,SAAW2jB,EAAiB3jB,QAEpC8jB,IAAgBH,IAMpBD,GACAhX,aAAagX,GAEjBA,EAAoB1X,YAAW,WAE3B6X,EAASC,GACTH,EAAmBG,IACpBF,MAKX,IAAId,EAASL,EAAUK,OACnBA,GAA4B,oBAAXA,IACjBxjB,KAAKwjB,OAAS,WACV,IAAIgB,EAAcxkB,KAAK0X,IAAI5V,OAC3B0hB,EAAOgB,KAKf,IAAIjB,EAAUJ,EAAUI,QACpBA,GAA8B,oBAAZA,IAClBvjB,KAAKujB,QAAU,WACXA,OAMZkB,OAAQ,WAEJzkB,KAAK6iB,cAGL7iB,KAAKijB,WAGLjjB,KAAK6jB,eAGL7jB,KAAK8jB,oBAGL9jB,KAAKikB,YAGLjkB,KAAKgkB,aAGLhkB,KAAK+jB,iBAGL/jB,KAAK6a,eAAc,GAGnB7a,KAAKwa,cAITkK,aAAc,WACV3hB,EAAEoE,WAKV,IACI3F,SACF,MAAOmb,IACL,MAAM,IAAI6C,MAAM,cAIpBvf,IAGA,IAAI0kB,GAAY,68gBAGZ7f,GAAQtD,SAASQ,cAAc,SACnC8C,GAAMnB,KAAO,WACbmB,GAAM7C,UAAY0iB,GAClBnjB,SAASojB,qBAAqB,QAAQhjB,KAAK,GAAG4D,YAAYV,IAG1D,IAAItE,GAAQwJ,OAAO6a,YAAcrC,EAEjC,OAAOhiB,O,oCC7jJP,EAAQ,QACR,IA4CIskB,EA5CA/hB,EAAI,EAAQ,QACZgiB,EAAc,EAAQ,QACtBC,EAAiB,EAAQ,QACzBllB,EAAS,EAAQ,QACjBmlB,EAAmB,EAAQ,QAC3BC,EAAW,EAAQ,QACnBC,EAAa,EAAQ,QACrBC,EAAM,EAAQ,QACdjlB,EAAS,EAAQ,QACjBklB,EAAY,EAAQ,QACpBC,EAAS,EAAQ,QAAiCA,OAClDC,EAAU,EAAQ,QAClBC,EAAiB,EAAQ,QACzBC,EAAwB,EAAQ,QAChCC,EAAsB,EAAQ,QAE9BC,EAAY7lB,EAAOjB,IACnBY,EAAkBgmB,EAAsBhmB,gBACxCmmB,EAA+BH,EAAsBI,SACrDC,EAAmBJ,EAAoBK,IACvCC,EAAsBN,EAAoBO,UAAU,OACpDC,EAAQ3b,KAAK2b,MACbC,EAAM5b,KAAK4b,IAEXC,EAAoB,oBACpBC,EAAiB,iBACjBC,EAAe,eACfC,EAAe,eAEfC,EAAQ,WACRC,EAAe,gBACfC,EAAQ,KACRC,EAAY,WACZC,EAAM,WACNC,EAAM,QACNC,EAAM,gBAENC,EAA4B,wCAE5BC,EAA8C,uCAE9CC,EAA2C,yCAE3CC,EAAmB,wBAGnBC,EAAY,SAAUvoB,EAAKwoB,GAC7B,IAAIroB,EAAQsoB,EAAY7mB,EACxB,GAAuB,KAAnB4mB,EAAME,OAAO,GAAW,CAC1B,GAAsC,KAAlCF,EAAME,OAAOF,EAAM1mB,OAAS,GAAW,OAAO4lB,EAElD,GADAvnB,EAASwoB,EAAUH,EAAM1c,MAAM,GAAI,KAC9B3L,EAAQ,OAAOunB,EACpB1nB,EAAIe,KAAOZ,OAEN,GAAKyoB,EAAU5oB,GAQf,CAEL,GADAwoB,EAAQ7B,EAAQ6B,GACZL,EAA0Bjd,KAAKsd,GAAQ,OAAOd,EAElD,GADAvnB,EAAS0oB,EAAUL,GACJ,OAAXroB,EAAiB,OAAOunB,EAC5B1nB,EAAIe,KAAOZ,MAbe,CAC1B,GAAIioB,EAA4Cld,KAAKsd,GAAQ,OAAOd,EAGpE,IAFAvnB,EAAS,GACTsoB,EAAahC,EAAU+B,GAClB5mB,EAAQ,EAAGA,EAAQ6mB,EAAW3mB,OAAQF,IACzCzB,GAAU2oB,EAAcL,EAAW7mB,GAAQmnB,GAE7C/oB,EAAIe,KAAOZ,IAUX0oB,EAAY,SAAUL,GACxB,IACIQ,EAAaC,EAASrnB,EAAOsnB,EAAMC,EAAOC,EAAQC,EADlDC,EAAQd,EAAMvjB,MAAM,KAMxB,GAJIqkB,EAAMxnB,QAAqC,IAA3BwnB,EAAMA,EAAMxnB,OAAS,IACvCwnB,EAAMC,MAERP,EAAcM,EAAMxnB,OAChBknB,EAAc,EAAG,OAAOR,EAE5B,IADAS,EAAU,GACLrnB,EAAQ,EAAGA,EAAQonB,EAAapnB,IAAS,CAE5C,GADAsnB,EAAOI,EAAM1nB,GACD,IAARsnB,EAAY,OAAOV,EAMvB,GALAW,EAAQ,GACJD,EAAKpnB,OAAS,GAAuB,KAAlBonB,EAAKR,OAAO,KACjCS,EAAQpB,EAAU7c,KAAKge,GAAQ,GAAK,EACpCA,EAAOA,EAAKpd,MAAe,GAATqd,EAAa,EAAI,IAExB,KAATD,EACFE,EAAS,MACJ,CACL,KAAe,IAATD,EAAclB,EAAe,GAATkB,EAAanB,EAAME,GAAKhd,KAAKge,GAAO,OAAOV,EACrEY,EAAS9U,SAAS4U,EAAMC,GAE1BF,EAAQvkB,KAAK0kB,GAEf,IAAKxnB,EAAQ,EAAGA,EAAQonB,EAAapnB,IAEnC,GADAwnB,EAASH,EAAQrnB,GACbA,GAASonB,EAAc,GACzB,GAAII,GAAU7B,EAAI,IAAK,EAAIyB,GAAc,OAAO,UAC3C,GAAII,EAAS,IAAK,OAAO,KAGlC,IADAC,EAAOJ,EAAQM,MACV3nB,EAAQ,EAAGA,EAAQqnB,EAAQnnB,OAAQF,IACtCynB,GAAQJ,EAAQrnB,GAAS2lB,EAAI,IAAK,EAAI3lB,GAExC,OAAOynB,GAILV,EAAY,SAAUH,GACxB,IAIIloB,EAAOwB,EAAQ0nB,EAAaC,EAAWL,EAAQM,EAAOC,EAJtDC,EAAU,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAChCC,EAAa,EACbC,EAAW,KACXC,EAAU,EAGVC,EAAO,WACT,OAAOxB,EAAME,OAAOqB,IAGtB,GAAc,KAAVC,IAAe,CACjB,GAAuB,KAAnBxB,EAAME,OAAO,GAAW,OAC5BqB,GAAW,EACXF,IACAC,EAAWD,EAEb,MAAOG,IAAQ,CACb,GAAkB,GAAdH,EAAiB,OACrB,GAAc,KAAVG,IAAJ,CAOA1pB,EAAQwB,EAAS,EACjB,MAAOA,EAAS,GAAKomB,EAAIhd,KAAK8e,KAC5B1pB,EAAgB,GAARA,EAAagU,SAAS0V,IAAQ,IACtCD,IACAjoB,IAEF,GAAc,KAAVkoB,IAAe,CACjB,GAAc,GAAVloB,EAAa,OAEjB,GADAioB,GAAWjoB,EACP+nB,EAAa,EAAG,OACpBL,EAAc,EACd,MAAOQ,IAAQ,CAEb,GADAP,EAAY,KACRD,EAAc,EAAG,CACnB,KAAc,KAAVQ,KAAiBR,EAAc,GAC9B,OADiCO,IAGxC,IAAKjC,EAAM5c,KAAK8e,KAAS,OACzB,MAAOlC,EAAM5c,KAAK8e,KAAS,CAEzB,GADAZ,EAAS9U,SAAS0V,IAAQ,IACR,OAAdP,EAAoBA,EAAYL,MAC/B,IAAiB,GAAbK,EAAgB,OACpBA,EAAwB,GAAZA,EAAiBL,EAClC,GAAIK,EAAY,IAAK,OACrBM,IAEFH,EAAQC,GAAoC,IAAtBD,EAAQC,GAAoBJ,EAClDD,IACmB,GAAfA,GAAmC,GAAfA,GAAkBK,IAE5C,GAAmB,GAAfL,EAAkB,OACtB,MACK,GAAc,KAAVQ,KAET,GADAD,KACKC,IAAQ,YACR,GAAIA,IAAQ,OACnBJ,EAAQC,KAAgBvpB,MA3CxB,CACE,GAAiB,OAAbwpB,EAAmB,OACvBC,IACAF,IACAC,EAAWD,GAyCf,GAAiB,OAAbC,EAAmB,CACrBJ,EAAQG,EAAaC,EACrBD,EAAa,EACb,MAAqB,GAAdA,GAAmBH,EAAQ,EAChCC,EAAOC,EAAQC,GACfD,EAAQC,KAAgBD,EAAQE,EAAWJ,EAAQ,GACnDE,EAAQE,IAAaJ,GAASC,OAE3B,GAAkB,GAAdE,EAAiB,OAC5B,OAAOD,GAGLK,EAA0B,SAAUC,GAMtC,IALA,IAAIC,EAAW,KACX/I,EAAY,EACZgJ,EAAY,KACZC,EAAa,EACbzoB,EAAQ,EACLA,EAAQ,EAAGA,IACI,IAAhBsoB,EAAKtoB,IACHyoB,EAAajJ,IACf+I,EAAWC,EACXhJ,EAAYiJ,GAEdD,EAAY,KACZC,EAAa,IAEK,OAAdD,IAAoBA,EAAYxoB,KAClCyoB,GAON,OAJIA,EAAajJ,IACf+I,EAAWC,EACXhJ,EAAYiJ,GAEPF,GAGLG,EAAgB,SAAUvpB,GAC5B,IAAIZ,EAAQyB,EAAOkoB,EAAUS,EAE7B,GAAmB,iBAARxpB,EAAkB,CAE3B,IADAZ,EAAS,GACJyB,EAAQ,EAAGA,EAAQ,EAAGA,IACzBzB,EAAOqqB,QAAQzpB,EAAO,KACtBA,EAAOumB,EAAMvmB,EAAO,KACpB,OAAOZ,EAAO2F,KAAK,KAEhB,GAAmB,iBAAR/E,EAAkB,CAGlC,IAFAZ,EAAS,GACT2pB,EAAWG,EAAwBlpB,GAC9Ba,EAAQ,EAAGA,EAAQ,EAAGA,IACrB2oB,GAA2B,IAAhBxpB,EAAKa,KAChB2oB,IAASA,GAAU,GACnBT,IAAaloB,GACfzB,GAAUyB,EAAQ,IAAM,KACxB2oB,GAAU,IAEVpqB,GAAUY,EAAKa,GAAOiK,SAAS,IAC3BjK,EAAQ,IAAGzB,GAAU,OAG7B,MAAO,IAAMA,EAAS,IACtB,OAAOY,GAGPgoB,EAA4B,GAC5B0B,EAA2BlpB,EAAO,GAAIwnB,EAA2B,CACnE,IAAK,EAAG,IAAK,EAAG,IAAK,EAAG,IAAK,EAAG,IAAK,IAEnC2B,EAAuBnpB,EAAO,GAAIkpB,EAA0B,CAC9D,IAAK,EAAG,IAAK,EAAG,IAAK,EAAG,IAAK,IAE3BE,EAA2BppB,EAAO,GAAImpB,EAAsB,CAC9D,IAAK,EAAG,IAAK,EAAG,IAAK,EAAG,IAAK,EAAG,IAAK,EAAG,IAAK,EAAG,KAAM,EAAG,IAAK,EAAG,IAAK,EAAG,IAAK,IAG5E5B,EAAgB,SAAUkB,EAAM7C,GAClC,IAAIjM,EAAOwL,EAAOsD,EAAM,GACxB,OAAO9O,EAAO,IAAQA,EAAO,MAASsL,EAAIW,EAAK6C,GAAQA,EAAOY,mBAAmBZ,IAG/Ea,EAAiB,CACnBC,IAAK,GACLpJ,KAAM,KACNqJ,KAAM,GACNC,MAAO,IACPC,GAAI,GACJC,IAAK,KAGHtC,EAAY,SAAU5oB,GACxB,OAAOwmB,EAAIqE,EAAgB7qB,EAAImrB,SAG7BC,EAAsB,SAAUprB,GAClC,MAAuB,IAAhBA,EAAIc,UAAkC,IAAhBd,EAAIqrB,UAG/BC,GAAiC,SAAUtrB,GAC7C,OAAQA,EAAIe,MAAQf,EAAIurB,kBAAkC,QAAdvrB,EAAImrB,QAG9CK,GAAuB,SAAUC,EAAQC,GAC3C,IAAIC,EACJ,OAAwB,GAAjBF,EAAO3pB,QAAe8lB,EAAM1c,KAAKugB,EAAO/C,OAAO,MACjB,MAA9BiD,EAASF,EAAO/C,OAAO,MAAgBgD,GAAwB,KAAVC,IAG1DC,GAA+B,SAAUH,GAC3C,IAAII,EACJ,OAAOJ,EAAO3pB,OAAS,GAAK0pB,GAAqBC,EAAO3f,MAAM,EAAG,MAC9C,GAAjB2f,EAAO3pB,QACyB,OAA9B+pB,EAAQJ,EAAO/C,OAAO,KAAyB,OAAVmD,GAA4B,MAAVA,GAA2B,MAAVA,IAI1EC,GAAkB,SAAU9rB,GAC9B,IAAI+rB,EAAO/rB,EAAI+rB,KACXC,EAAWD,EAAKjqB,QAChBkqB,GAA2B,QAAdhsB,EAAImrB,QAAgC,GAAZa,GAAkBR,GAAqBO,EAAK,IAAI,IACvFA,EAAKxC,OAIL0C,GAAc,SAAUC,GAC1B,MAAmB,MAAZA,GAA6C,QAA1BA,EAAQ3V,eAGhC4V,GAAc,SAAUD,GAE1B,OADAA,EAAUA,EAAQ3V,cACC,OAAZ2V,GAAgC,SAAZA,GAAkC,SAAZA,GAAkC,WAAZA,GAIrEE,GAAe,GACfC,GAAS,GACTC,GAAY,GACZC,GAAgC,GAChCC,GAAoB,GACpBC,GAAW,GACXC,GAAiB,GACjBC,GAA4B,GAC5BC,GAAmC,GACnCC,GAAY,GACZC,GAAO,GACPC,GAAW,GACXC,GAAO,GACPC,GAAO,GACPC,GAAa,GACbC,GAAY,GACZC,GAAa,GACbC,GAAO,GACPC,GAA4B,GAC5BC,GAAQ,GACRC,GAAW,GAGXC,GAAW,SAAUztB,EAAKwoB,EAAOkF,EAAeC,GAClD,IAMIlF,EAAYuB,EAAM4D,EAAkBC,EANpCC,EAAQJ,GAAiBtB,GACzBrC,EAAU,EACVgE,EAAS,GACTC,GAAS,EACTC,GAAc,EACdC,GAAoB,EAGnBR,IACH1tB,EAAImrB,OAAS,GACbnrB,EAAIc,SAAW,GACfd,EAAIqrB,SAAW,GACfrrB,EAAIe,KAAO,KACXf,EAAImuB,KAAO,KACXnuB,EAAI+rB,KAAO,GACX/rB,EAAIouB,MAAQ,KACZpuB,EAAIquB,SAAW,KACfruB,EAAIurB,kBAAmB,EACvB/C,EAAQA,EAAMxkB,QAAQqkB,EAA0C,KAGlEG,EAAQA,EAAMxkB,QAAQskB,EAAkB,IAExCG,EAAahC,EAAU+B,GAEvB,MAAOuB,GAAWtB,EAAW3mB,OAAQ,CAEnC,OADAkoB,EAAOvB,EAAWsB,GACV+D,GACN,KAAK1B,GACH,IAAIpC,IAAQpC,EAAM1c,KAAK8e,GAGhB,IAAK0D,EAGL,OAAOjG,EAFZqG,EAAQxB,GACR,SAJAyB,GAAU/D,EAAKzT,cACfuX,EAAQzB,GAKV,MAEF,KAAKA,GACH,GAAIrC,IAASnC,EAAa3c,KAAK8e,IAAiB,KAARA,GAAuB,KAARA,GAAuB,KAARA,GACpE+D,GAAU/D,EAAKzT,kBACV,IAAY,KAARyT,EA0BJ,IAAK0D,EAKL,OAAOjG,EAJZsG,EAAS,GACTD,EAAQxB,GACRvC,EAAU,EACV,SA7BA,GAAI2D,IACD9E,EAAU5oB,IAAQwmB,EAAIqE,EAAgBkD,IAC5B,QAAVA,IAAqB3C,EAAoBprB,IAAqB,OAAbA,EAAImuB,OACvC,QAAdnuB,EAAImrB,SAAqBnrB,EAAIe,MAC7B,OAEH,GADAf,EAAImrB,OAAS4C,EACTL,EAEF,YADI9E,EAAU5oB,IAAQ6qB,EAAe7qB,EAAImrB,SAAWnrB,EAAImuB,OAAMnuB,EAAImuB,KAAO,OAG3EJ,EAAS,GACS,QAAd/tB,EAAImrB,OACN2C,EAAQb,GACCrE,EAAU5oB,IAAQ2tB,GAAQA,EAAKxC,QAAUnrB,EAAImrB,OACtD2C,EAAQvB,GACC3D,EAAU5oB,GACnB8tB,EAAQnB,GAC4B,KAA3BlE,EAAWsB,EAAU,IAC9B+D,EAAQtB,GACRzC,MAEA/pB,EAAIurB,kBAAmB,EACvBvrB,EAAI+rB,KAAKrnB,KAAK,IACdopB,EAAQR,IAQZ,MAEF,KAAKhB,GACH,IAAKqB,GAASA,EAAKpC,kBAA4B,KAARvB,EAAc,OAAOvC,EAC5D,GAAIkG,EAAKpC,kBAA4B,KAARvB,EAAa,CACxChqB,EAAImrB,OAASwC,EAAKxC,OAClBnrB,EAAI+rB,KAAO4B,EAAK5B,KAAKjgB,QACrB9L,EAAIouB,MAAQT,EAAKS,MACjBpuB,EAAIquB,SAAW,GACfruB,EAAIurB,kBAAmB,EACvBuC,EAAQN,GACR,MAEFM,EAAuB,QAAfH,EAAKxC,OAAmB8B,GAAOR,GACvC,SAEF,KAAKF,GACH,GAAY,KAARvC,GAA0C,KAA3BvB,EAAWsB,EAAU,GAGjC,CACL+D,EAAQrB,GACR,SAJAqB,EAAQlB,GACR7C,IAIA,MAEJ,KAAKyC,GACH,GAAY,KAARxC,EAAa,CACf8D,EAAQjB,GACR,MAEAiB,EAAQT,GACR,SAGJ,KAAKZ,GAEH,GADAzsB,EAAImrB,OAASwC,EAAKxC,OACdnB,GAAQ9D,EACVlmB,EAAIc,SAAW6sB,EAAK7sB,SACpBd,EAAIqrB,SAAWsC,EAAKtC,SACpBrrB,EAAIe,KAAO4sB,EAAK5sB,KAChBf,EAAImuB,KAAOR,EAAKQ,KAChBnuB,EAAI+rB,KAAO4B,EAAK5B,KAAKjgB,QACrB9L,EAAIouB,MAAQT,EAAKS,WACZ,GAAY,KAARpE,GAAwB,MAARA,GAAgBpB,EAAU5oB,GACnD8tB,EAAQpB,QACH,GAAY,KAAR1C,EACThqB,EAAIc,SAAW6sB,EAAK7sB,SACpBd,EAAIqrB,SAAWsC,EAAKtC,SACpBrrB,EAAIe,KAAO4sB,EAAK5sB,KAChBf,EAAImuB,KAAOR,EAAKQ,KAChBnuB,EAAI+rB,KAAO4B,EAAK5B,KAAKjgB,QACrB9L,EAAIouB,MAAQ,GACZN,EAAQP,OACH,IAAY,KAARvD,EASJ,CACLhqB,EAAIc,SAAW6sB,EAAK7sB,SACpBd,EAAIqrB,SAAWsC,EAAKtC,SACpBrrB,EAAIe,KAAO4sB,EAAK5sB,KAChBf,EAAImuB,KAAOR,EAAKQ,KAChBnuB,EAAI+rB,KAAO4B,EAAK5B,KAAKjgB,QACrB9L,EAAI+rB,KAAKxC,MACTuE,EAAQT,GACR,SAhBArtB,EAAIc,SAAW6sB,EAAK7sB,SACpBd,EAAIqrB,SAAWsC,EAAKtC,SACpBrrB,EAAIe,KAAO4sB,EAAK5sB,KAChBf,EAAImuB,KAAOR,EAAKQ,KAChBnuB,EAAI+rB,KAAO4B,EAAK5B,KAAKjgB,QACrB9L,EAAIouB,MAAQT,EAAKS,MACjBpuB,EAAIquB,SAAW,GACfP,EAAQN,GAUR,MAEJ,KAAKd,GACH,IAAI9D,EAAU5oB,IAAiB,KAARgqB,GAAuB,MAARA,EAE/B,IAAY,KAARA,EAEJ,CACLhqB,EAAIc,SAAW6sB,EAAK7sB,SACpBd,EAAIqrB,SAAWsC,EAAKtC,SACpBrrB,EAAIe,KAAO4sB,EAAK5sB,KAChBf,EAAImuB,KAAOR,EAAKQ,KAChBL,EAAQT,GACR,SAPAS,EAAQjB,QAFRiB,EAAQlB,GAUR,MAEJ,KAAKD,GAEH,GADAmB,EAAQlB,GACI,KAAR5C,GAA6C,KAA9B+D,EAAOrF,OAAOqB,EAAU,GAAW,SACtDA,IACA,MAEF,KAAK6C,GACH,GAAY,KAAR5C,GAAuB,MAARA,EAAc,CAC/B8D,EAAQjB,GACR,SACA,MAEJ,KAAKA,GACH,GAAY,KAAR7C,EAAa,CACXgE,IAAQD,EAAS,MAAQA,GAC7BC,GAAS,EACTJ,EAAmBnH,EAAUsH,GAC7B,IAAK,IAAIhrB,EAAI,EAAGA,EAAI6qB,EAAiB9rB,OAAQiB,IAAK,CAChD,IAAIurB,EAAYV,EAAiB7qB,GACjC,GAAiB,KAAburB,GAAqBJ,EAAzB,CAIA,IAAIK,EAAoBzF,EAAcwF,EAAW3D,GAC7CuD,EAAmBluB,EAAIqrB,UAAYkD,EAClCvuB,EAAIc,UAAYytB,OALnBL,GAAoB,EAOxBH,EAAS,QACJ,GACL/D,GAAQ9D,GAAe,KAAR8D,GAAuB,KAARA,GAAuB,KAARA,GACpC,MAARA,GAAgBpB,EAAU5oB,GAC3B,CACA,GAAIguB,GAAoB,IAAVD,EAAc,OAAOvG,EACnCuC,GAAWtD,EAAUsH,GAAQjsB,OAAS,EACtCisB,EAAS,GACTD,EAAQhB,QACHiB,GAAU/D,EACjB,MAEF,KAAK8C,GACL,KAAKC,GACH,GAAIW,GAA+B,QAAd1tB,EAAImrB,OAAkB,CACzC2C,EAAQX,GACR,SACK,GAAY,KAARnD,GAAgBiE,EAOpB,IACLjE,GAAQ9D,GAAe,KAAR8D,GAAuB,KAARA,GAAuB,KAARA,GACpC,MAARA,GAAgBpB,EAAU5oB,GAC3B,CACA,GAAI4oB,EAAU5oB,IAAkB,IAAV+tB,EAAc,OAAOrG,EAC3C,GAAIgG,GAA2B,IAAVK,IAAiB3C,EAAoBprB,IAAqB,OAAbA,EAAImuB,MAAgB,OAEtF,GADAN,EAAUtF,EAAUvoB,EAAK+tB,GACrBF,EAAS,OAAOA,EAGpB,GAFAE,EAAS,GACTD,EAAQV,GACJM,EAAe,OACnB,SAEY,KAAR1D,EAAaiE,GAAc,EACd,KAARjE,IAAaiE,GAAc,GACpCF,GAAU/D,MAtB4B,CACtC,GAAc,IAAV+D,EAAc,OAAOrG,EAEzB,GADAmG,EAAUtF,EAAUvoB,EAAK+tB,GACrBF,EAAS,OAAOA,EAGpB,GAFAE,EAAS,GACTD,EAAQd,GACJU,GAAiBX,GAAU,OAiB/B,MAEJ,KAAKC,GACH,IAAIlF,EAAM5c,KAAK8e,GAER,IACLA,GAAQ9D,GAAe,KAAR8D,GAAuB,KAARA,GAAuB,KAARA,GACpC,MAARA,GAAgBpB,EAAU5oB,IAC3B0tB,EACA,CACA,GAAc,IAAVK,EAAc,CAChB,IAAII,EAAO7Z,SAASyZ,EAAQ,IAC5B,GAAII,EAAO,MAAQ,OAAOxG,EAC1B3nB,EAAImuB,KAAQvF,EAAU5oB,IAAQmuB,IAAStD,EAAe7qB,EAAImrB,QAAW,KAAOgD,EAC5EJ,EAAS,GAEX,GAAIL,EAAe,OACnBI,EAAQV,GACR,SACK,OAAOzF,EAfZoG,GAAU/D,EAgBZ,MAEF,KAAKiD,GAEH,GADAjtB,EAAImrB,OAAS,OACD,KAARnB,GAAuB,MAARA,EAAc8D,EAAQZ,OACpC,KAAIS,GAAuB,QAAfA,EAAKxC,OAyBf,CACL2C,EAAQT,GACR,SA1BA,GAAIrD,GAAQ9D,EACVlmB,EAAIe,KAAO4sB,EAAK5sB,KAChBf,EAAI+rB,KAAO4B,EAAK5B,KAAKjgB,QACrB9L,EAAIouB,MAAQT,EAAKS,WACZ,GAAY,KAARpE,EACThqB,EAAIe,KAAO4sB,EAAK5sB,KAChBf,EAAI+rB,KAAO4B,EAAK5B,KAAKjgB,QACrB9L,EAAIouB,MAAQ,GACZN,EAAQP,OACH,IAAY,KAARvD,EAMJ,CACA4B,GAA6BnD,EAAW3c,MAAMie,GAASjkB,KAAK,OAC/D9F,EAAIe,KAAO4sB,EAAK5sB,KAChBf,EAAI+rB,KAAO4B,EAAK5B,KAAKjgB,QACrBggB,GAAgB9rB,IAElB8tB,EAAQT,GACR,SAZArtB,EAAIe,KAAO4sB,EAAK5sB,KAChBf,EAAI+rB,KAAO4B,EAAK5B,KAAKjgB,QACrB9L,EAAIouB,MAAQT,EAAKS,MACjBpuB,EAAIquB,SAAW,GACfP,EAAQN,IAaV,MAEJ,KAAKN,GACH,GAAY,KAARlD,GAAuB,MAARA,EAAc,CAC/B8D,EAAQX,GACR,MAEEQ,GAAuB,QAAfA,EAAKxC,SAAqBS,GAA6BnD,EAAW3c,MAAMie,GAASjkB,KAAK,OAC5F0lB,GAAqBmC,EAAK5B,KAAK,IAAI,GAAO/rB,EAAI+rB,KAAKrnB,KAAKipB,EAAK5B,KAAK,IACjE/rB,EAAIe,KAAO4sB,EAAK5sB,MAEvB+sB,EAAQT,GACR,SAEF,KAAKF,GACH,GAAInD,GAAQ9D,GAAe,KAAR8D,GAAuB,MAARA,GAAwB,KAARA,GAAuB,KAARA,EAAa,CAC5E,IAAK0D,GAAiBlC,GAAqBuC,GACzCD,EAAQT,QACH,GAAc,IAAVU,EAAc,CAEvB,GADA/tB,EAAIe,KAAO,GACP2sB,EAAe,OACnBI,EAAQV,OACH,CAEL,GADAS,EAAUtF,EAAUvoB,EAAK+tB,GACrBF,EAAS,OAAOA,EAEpB,GADgB,aAAZ7tB,EAAIe,OAAqBf,EAAIe,KAAO,IACpC2sB,EAAe,OACnBK,EAAS,GACTD,EAAQV,GACR,SACGW,GAAU/D,EACjB,MAEF,KAAKoD,GACH,GAAIxE,EAAU5oB,IAEZ,GADA8tB,EAAQT,GACI,KAARrD,GAAuB,MAARA,EAAc,cAC5B,GAAK0D,GAAyB,KAAR1D,EAGtB,GAAK0D,GAAyB,KAAR1D,GAGtB,GAAIA,GAAQ9D,IACjB4H,EAAQT,GACI,KAARrD,GAAa,cAJjBhqB,EAAIquB,SAAW,GACfP,EAAQN,QAJRxtB,EAAIouB,MAAQ,GACZN,EAAQP,GAOR,MAEJ,KAAKF,GACH,GACErD,GAAQ9D,GAAe,KAAR8D,GACN,MAARA,GAAgBpB,EAAU5oB,KACzB0tB,IAA0B,KAAR1D,GAAuB,KAARA,GACnC,CAkBA,GAjBImC,GAAY4B,IACdjC,GAAgB9rB,GACJ,KAARgqB,GAAyB,MAARA,GAAgBpB,EAAU5oB,IAC7CA,EAAI+rB,KAAKrnB,KAAK,KAEPunB,GAAY8B,GACT,KAAR/D,GAAyB,MAARA,GAAgBpB,EAAU5oB,IAC7CA,EAAI+rB,KAAKrnB,KAAK,KAGE,QAAd1E,EAAImrB,SAAqBnrB,EAAI+rB,KAAKjqB,QAAU0pB,GAAqBuC,KAC/D/tB,EAAIe,OAAMf,EAAIe,KAAO,IACzBgtB,EAASA,EAAOrF,OAAO,GAAK,KAE9B1oB,EAAI+rB,KAAKrnB,KAAKqpB,IAEhBA,EAAS,GACS,QAAd/tB,EAAImrB,SAAqBnB,GAAQ9D,GAAe,KAAR8D,GAAuB,KAARA,GACzD,MAAOhqB,EAAI+rB,KAAKjqB,OAAS,GAAqB,KAAhB9B,EAAI+rB,KAAK,GACrC/rB,EAAI+rB,KAAKyC,QAGD,KAARxE,GACFhqB,EAAIouB,MAAQ,GACZN,EAAQP,IACS,KAARvD,IACThqB,EAAIquB,SAAW,GACfP,EAAQN,SAGVO,GAAUjF,EAAckB,EAAMU,GAC9B,MAEJ,KAAK4C,GACS,KAARtD,GACFhqB,EAAIouB,MAAQ,GACZN,EAAQP,IACS,KAARvD,GACThqB,EAAIquB,SAAW,GACfP,EAAQN,IACCxD,GAAQ9D,IACjBlmB,EAAI+rB,KAAK,IAAMjD,EAAckB,EAAMjB,IACnC,MAEJ,KAAKwE,GACEG,GAAyB,KAAR1D,EAGXA,GAAQ9D,IACL,KAAR8D,GAAepB,EAAU5oB,GAAMA,EAAIouB,OAAS,MAC1BpuB,EAAIouB,OAAT,KAARpE,EAA0B,MACjBlB,EAAckB,EAAMjB,KALtC/oB,EAAIquB,SAAW,GACfP,EAAQN,IAKR,MAEJ,KAAKA,GACCxD,GAAQ9D,IAAKlmB,EAAIquB,UAAYvF,EAAckB,EAAMS,IACrD,MAGJV,MAMA0E,GAAiB,SAAazuB,GAChC,IAII0uB,EAAWb,EAJXc,EAAOpI,EAAWnlB,KAAMqtB,GAAgB,OACxCd,EAAO9rB,UAAUC,OAAS,EAAID,UAAU,QAAKZ,EAC7C2tB,EAAYhuB,OAAOZ,GACnB8tB,EAAQ5G,EAAiByH,EAAM,CAAE5pB,KAAM,QAE3C,QAAa9D,IAAT0sB,EACF,GAAIA,aAAgBc,GAAgBC,EAAYtH,EAAoBuG,QAGlE,GADAE,EAAUJ,GAASiB,EAAY,GAAI9tB,OAAO+sB,IACtCE,EAAS,MAAMnsB,UAAUmsB,GAIjC,GADAA,EAAUJ,GAASK,EAAOc,EAAW,KAAMF,GACvCb,EAAS,MAAMnsB,UAAUmsB,GAC7B,IAAI3tB,EAAe4tB,EAAM5tB,aAAe,IAAIW,EACxCguB,EAAoB7H,EAA6B9mB,GACrD2uB,EAAkBC,mBAAmBhB,EAAMM,OAC3CS,EAAkBE,UAAY,WAC5BjB,EAAMM,MAAQxtB,OAAOV,IAAiB,MAEnCimB,IACHwI,EAAKjuB,KAAOsuB,GAAa7sB,KAAKwsB,GAC9BA,EAAKM,OAASC,GAAU/sB,KAAKwsB,GAC7BA,EAAKQ,SAAWC,GAAYjtB,KAAKwsB,GACjCA,EAAK7tB,SAAWuuB,GAAYltB,KAAKwsB,GACjCA,EAAKtD,SAAWiE,GAAYntB,KAAKwsB,GACjCA,EAAK5tB,KAAOwuB,GAAQptB,KAAKwsB,GACzBA,EAAKa,SAAWC,GAAYttB,KAAKwsB,GACjCA,EAAKR,KAAOuB,GAAQvtB,KAAKwsB,GACzBA,EAAKvuB,SAAWuvB,GAAYxtB,KAAKwsB,GACjCA,EAAKiB,OAASC,GAAU1tB,KAAKwsB,GAC7BA,EAAKzuB,aAAe4vB,GAAgB3tB,KAAKwsB,GACzCA,EAAK3tB,KAAO+uB,GAAQ5tB,KAAKwsB,KAIzBqB,GAAevB,GAAexsB,UAE9B+sB,GAAe,WACjB,IAAIhvB,EAAMonB,EAAoBhmB,MAC1B+pB,EAASnrB,EAAImrB,OACbrqB,EAAWd,EAAIc,SACfuqB,EAAWrrB,EAAIqrB,SACftqB,EAAOf,EAAIe,KACXotB,EAAOnuB,EAAImuB,KACXpC,EAAO/rB,EAAI+rB,KACXqC,EAAQpuB,EAAIouB,MACZC,EAAWruB,EAAIquB,SACf4B,EAAS9E,EAAS,IAYtB,OAXa,OAATpqB,GACFkvB,GAAU,KACN7E,EAAoBprB,KACtBiwB,GAAUnvB,GAAYuqB,EAAW,IAAMA,EAAW,IAAM,KAE1D4E,GAAU3F,EAAcvpB,GACX,OAATotB,IAAe8B,GAAU,IAAM9B,IAChB,QAAVhD,IAAkB8E,GAAU,MACvCA,GAAUjwB,EAAIurB,iBAAmBQ,EAAK,GAAKA,EAAKjqB,OAAS,IAAMiqB,EAAKjmB,KAAK,KAAO,GAClE,OAAVsoB,IAAgB6B,GAAU,IAAM7B,GACnB,OAAbC,IAAmB4B,GAAU,IAAM5B,GAChC4B,GAGLf,GAAY,WACd,IAAIlvB,EAAMonB,EAAoBhmB,MAC1B+pB,EAASnrB,EAAImrB,OACbgD,EAAOnuB,EAAImuB,KACf,GAAc,QAAVhD,EAAkB,IACpB,OAAO,IAAIlrB,IAAIkrB,EAAOY,KAAK,IAAIkD,OAC/B,MAAOxkB,GACP,MAAO,OAET,MAAc,QAAV0gB,GAAqBvC,EAAU5oB,GAC5BmrB,EAAS,MAAQb,EAActqB,EAAIe,OAAkB,OAATotB,EAAgB,IAAMA,EAAO,IADhC,QAI9CiB,GAAc,WAChB,OAAOhI,EAAoBhmB,MAAM+pB,OAAS,KAGxCkE,GAAc,WAChB,OAAOjI,EAAoBhmB,MAAMN,UAG/BwuB,GAAc,WAChB,OAAOlI,EAAoBhmB,MAAMiqB,UAG/BkE,GAAU,WACZ,IAAIvvB,EAAMonB,EAAoBhmB,MAC1BL,EAAOf,EAAIe,KACXotB,EAAOnuB,EAAImuB,KACf,OAAgB,OAATptB,EAAgB,GACV,OAATotB,EAAgB7D,EAAcvpB,GAC9BupB,EAAcvpB,GAAQ,IAAMotB,GAG9BsB,GAAc,WAChB,IAAI1uB,EAAOqmB,EAAoBhmB,MAAML,KACrC,OAAgB,OAATA,EAAgB,GAAKupB,EAAcvpB,IAGxC2uB,GAAU,WACZ,IAAIvB,EAAO/G,EAAoBhmB,MAAM+sB,KACrC,OAAgB,OAATA,EAAgB,GAAKvtB,OAAOutB,IAGjCwB,GAAc,WAChB,IAAI3vB,EAAMonB,EAAoBhmB,MAC1B2qB,EAAO/rB,EAAI+rB,KACf,OAAO/rB,EAAIurB,iBAAmBQ,EAAK,GAAKA,EAAKjqB,OAAS,IAAMiqB,EAAKjmB,KAAK,KAAO,IAG3E+pB,GAAY,WACd,IAAIzB,EAAQhH,EAAoBhmB,MAAMgtB,MACtC,OAAOA,EAAQ,IAAMA,EAAQ,IAG3B0B,GAAkB,WACpB,OAAO1I,EAAoBhmB,MAAMlB,cAG/B6vB,GAAU,WACZ,IAAI1B,EAAWjH,EAAoBhmB,MAAMitB,SACzC,OAAOA,EAAW,IAAMA,EAAW,IAGjC6B,GAAqB,SAAUC,EAAQC,GACzC,MAAO,CAAEzvB,IAAKwvB,EAAQhJ,IAAKiJ,EAAQC,cAAc,EAAMC,YAAY,IAyHrE,GAtHInK,GACFE,EAAiB2J,GAAc,CAG7BtvB,KAAMwvB,GAAmBlB,IAAc,SAAUtuB,GAC/C,IAAIV,EAAMonB,EAAoBhmB,MAC1BwtB,EAAYhuB,OAAOF,GACnBmtB,EAAUJ,GAASztB,EAAK4uB,GAC5B,GAAIf,EAAS,MAAMnsB,UAAUmsB,GAC7B7G,EAA6BhnB,EAAIE,cAAc4uB,mBAAmB9uB,EAAIouB,UAIxEa,OAAQiB,GAAmBhB,IAG3BC,SAAUe,GAAmBd,IAAa,SAAUD,GAClD,IAAInvB,EAAMonB,EAAoBhmB,MAC9BqsB,GAASztB,EAAKY,OAAOuuB,GAAY,IAAK/C,OAIxCtrB,SAAUovB,GAAmBb,IAAa,SAAUvuB,GAClD,IAAId,EAAMonB,EAAoBhmB,MAC1BqnB,EAAahC,EAAU7lB,OAAOE,IAClC,IAAIwqB,GAA+BtrB,GAAnC,CACAA,EAAIc,SAAW,GACf,IAAK,IAAIiC,EAAI,EAAGA,EAAI0lB,EAAW3mB,OAAQiB,IACrC/C,EAAIc,UAAYgoB,EAAcL,EAAW1lB,GAAI4nB,OAKjDU,SAAU6E,GAAmBZ,IAAa,SAAUjE,GAClD,IAAIrrB,EAAMonB,EAAoBhmB,MAC1BqnB,EAAahC,EAAU7lB,OAAOyqB,IAClC,IAAIC,GAA+BtrB,GAAnC,CACAA,EAAIqrB,SAAW,GACf,IAAK,IAAItoB,EAAI,EAAGA,EAAI0lB,EAAW3mB,OAAQiB,IACrC/C,EAAIqrB,UAAYvC,EAAcL,EAAW1lB,GAAI4nB,OAKjD5pB,KAAMmvB,GAAmBX,IAAS,SAAUxuB,GAC1C,IAAIf,EAAMonB,EAAoBhmB,MAC1BpB,EAAIurB,kBACRkC,GAASztB,EAAKY,OAAOG,GAAO+rB,OAI9B0C,SAAUU,GAAmBT,IAAa,SAAUD,GAClD,IAAIxvB,EAAMonB,EAAoBhmB,MAC1BpB,EAAIurB,kBACRkC,GAASztB,EAAKY,OAAO4uB,GAAWzC,OAIlCoB,KAAM+B,GAAmBR,IAAS,SAAUvB,GAC1C,IAAInuB,EAAMonB,EAAoBhmB,MAC1BkqB,GAA+BtrB,KACnCmuB,EAAOvtB,OAAOutB,GACF,IAARA,EAAYnuB,EAAImuB,KAAO,KACtBV,GAASztB,EAAKmuB,EAAMnB,QAI3B5sB,SAAU8vB,GAAmBP,IAAa,SAAUvvB,GAClD,IAAIJ,EAAMonB,EAAoBhmB,MAC1BpB,EAAIurB,mBACRvrB,EAAI+rB,KAAO,GACX0B,GAASztB,EAAKI,EAAW,GAAIgtB,QAI/BwC,OAAQM,GAAmBL,IAAW,SAAUD,GAC9C,IAAI5vB,EAAMonB,EAAoBhmB,MAC9BwuB,EAAShvB,OAAOgvB,GACF,IAAVA,EACF5vB,EAAIouB,MAAQ,MAER,KAAOwB,EAAOlH,OAAO,KAAIkH,EAASA,EAAO9jB,MAAM,IACnD9L,EAAIouB,MAAQ,GACZX,GAASztB,EAAK4vB,EAAQrC,KAExBvG,EAA6BhnB,EAAIE,cAAc4uB,mBAAmB9uB,EAAIouB,UAIxEluB,aAAcgwB,GAAmBJ,IAGjC9uB,KAAMkvB,GAAmBH,IAAS,SAAU/uB,GAC1C,IAAIhB,EAAMonB,EAAoBhmB,MAC9BJ,EAAOJ,OAAOI,GACF,IAARA,GAIA,KAAOA,EAAK0nB,OAAO,KAAI1nB,EAAOA,EAAK8K,MAAM,IAC7C9L,EAAIquB,SAAW,GACfZ,GAASztB,EAAKgB,EAAMwsB,KALlBxtB,EAAIquB,SAAW,UAYvB/H,EAAS0J,GAAc,UAAU,WAC/B,OAAOhB,GAAa7sB,KAAKf,QACxB,CAAEkvB,YAAY,IAIjBhK,EAAS0J,GAAc,YAAY,WACjC,OAAOhB,GAAa7sB,KAAKf,QACxB,CAAEkvB,YAAY,IAEbvJ,EAAW,CACb,IAAIwJ,GAAwBxJ,EAAUyJ,gBAClCC,GAAwB1J,EAAU2J,gBAIlCH,IAAuBjK,EAASmI,GAAgB,mBAAmB,SAAyBkC,GAC9F,OAAOJ,GAAsBK,MAAM7J,EAAWllB,cAK5C4uB,IAAuBnK,EAASmI,GAAgB,mBAAmB,SAAyBzuB,GAC9F,OAAOywB,GAAsBG,MAAM7J,EAAWllB,cAIlD+kB,EAAe6H,GAAgB,OAE/BtqB,EAAE,CAAEjD,QAAQ,EAAM2vB,QAASzK,EAAgB0K,MAAO3K,GAAe,CAC/DlmB,IAAKwuB,M,oCC5+BP,IAAIsC,EAAa,EAAQ,QACrBC,EAAmB,EAAQ,QAI/BlxB,EAAOC,QAAUgxB,EAAW,OAAO,SAAUxV,GAC3C,OAAO,WAAiB,OAAOA,EAAKna,KAAMS,UAAUC,OAASD,UAAU,QAAKZ,MAC3E+vB,I,oCCPH,IAAI7sB,EAAI,EAAQ,QACZzE,EAAQ,EAAQ,QAChBuxB,EAAiB,EAAQ,QAEzBC,EAAexxB,GAAM,WACvB,SAASyxB,KACT,QAASptB,MAAMqtB,GAAGjvB,KAAKgvB,aAAcA,MAMvChtB,EAAE,CAAE3C,OAAQ,QAAS6vB,MAAM,EAAMR,OAAQK,GAAgB,CACvDE,GAAI,WACF,IAAIxvB,EAAQ,EACR0vB,EAAkBzvB,UAAUC,OAC5B3B,EAAS,IAAoB,mBAARiB,KAAqBA,KAAO2C,OAAOutB,GAC5D,MAAOA,EAAkB1vB,EAAOqvB,EAAe9wB,EAAQyB,EAAOC,UAAUD,MAExE,OADAzB,EAAO2B,OAASwvB,EACTnxB,M,oCClBX,IAAIoxB,EAAS,WACT5D,EAAO,GACP6D,EAAO,EACPC,EAAO,GACPC,EAAO,GACPC,EAAO,IACPC,EAAc,GACdC,EAAW,IACXC,EAAY,IACZC,EAAgB,eAChBC,EAAkB,yBAClBC,EAAiB,kDACjBC,EAAgBvE,EAAO6D,EACvBlK,EAAQ3b,KAAK2b,MACb6K,EAAqBvxB,OAAOwxB,aAS5BC,EAAa,SAAU5G,GACzB,IAAIwE,EAAS,GACTqC,EAAU,EACVxwB,EAAS2pB,EAAO3pB,OACpB,MAAOwwB,EAAUxwB,EAAQ,CACvB,IAAIxB,EAAQmrB,EAAO8G,WAAWD,KAC9B,GAAIhyB,GAAS,OAAUA,GAAS,OAAUgyB,EAAUxwB,EAAQ,CAE1D,IAAI0wB,EAAQ/G,EAAO8G,WAAWD,KACN,QAAX,MAARE,GACHvC,EAAOvrB,OAAe,KAARpE,IAAkB,KAAe,KAARkyB,GAAiB,QAIxDvC,EAAOvrB,KAAKpE,GACZgyB,UAGFrC,EAAOvrB,KAAKpE,GAGhB,OAAO2vB,GAMLwC,EAAe,SAAUC,GAG3B,OAAOA,EAAQ,GAAK,IAAMA,EAAQ,KAOhCC,EAAQ,SAAUC,EAAOC,EAAWC,GACtC,IAAIC,EAAI,EAGR,IAFAH,EAAQE,EAAYxL,EAAMsL,EAAQjB,GAAQiB,GAAS,EACnDA,GAAStL,EAAMsL,EAAQC,GAChBD,EAAQV,EAAgBT,GAAQ,EAAGsB,GAAKpF,EAC7CiF,EAAQtL,EAAMsL,EAAQV,GAExB,OAAO5K,EAAMyL,GAAKb,EAAgB,GAAKU,GAASA,EAAQlB,KAQtDsB,EAAS,SAAUxK,GACrB,IAAIyH,EAAS,GAGbzH,EAAQ6J,EAAW7J,GAGnB,IAMIzlB,EAAGkwB,EANHC,EAAc1K,EAAM1mB,OAGpBqxB,EAAItB,EACJe,EAAQ,EACRQ,EAAOxB,EAIX,IAAK7uB,EAAI,EAAGA,EAAIylB,EAAM1mB,OAAQiB,IAC5BkwB,EAAezK,EAAMzlB,GACjBkwB,EAAe,KACjBhD,EAAOvrB,KAAKytB,EAAmBc,IAInC,IAAII,EAAcpD,EAAOnuB,OACrBwxB,EAAiBD,EAGjBA,GACFpD,EAAOvrB,KAAKotB,GAId,MAAOwB,EAAiBJ,EAAa,CAEnC,IAAIK,EAAIhC,EACR,IAAKxuB,EAAI,EAAGA,EAAIylB,EAAM1mB,OAAQiB,IAC5BkwB,EAAezK,EAAMzlB,GACjBkwB,GAAgBE,GAAKF,EAAeM,IACtCA,EAAIN,GAKR,IAAIO,EAAwBF,EAAiB,EAC7C,GAAIC,EAAIJ,EAAI7L,GAAOiK,EAASqB,GAASY,GACnC,MAAMC,WAAWxB,GAMnB,IAHAW,IAAUW,EAAIJ,GAAKK,EACnBL,EAAII,EAECxwB,EAAI,EAAGA,EAAIylB,EAAM1mB,OAAQiB,IAAK,CAEjC,GADAkwB,EAAezK,EAAMzlB,GACjBkwB,EAAeE,KAAOP,EAAQrB,EAChC,MAAMkC,WAAWxB,GAEnB,GAAIgB,GAAgBE,EAAG,CAGrB,IADA,IAAIO,EAAId,EACCG,EAAIpF,GAA0BoF,GAAKpF,EAAM,CAChD,IAAIgG,EAAIZ,GAAKK,EAAO5B,EAAQuB,GAAKK,EAAO3B,EAAOA,EAAOsB,EAAIK,EAC1D,GAAIM,EAAIC,EAAG,MACX,IAAIC,EAAUF,EAAIC,EACdE,EAAalG,EAAOgG,EACxB1D,EAAOvrB,KAAKytB,EAAmBM,EAAakB,EAAIC,EAAUC,KAC1DH,EAAIpM,EAAMsM,EAAUC,GAGtB5D,EAAOvrB,KAAKytB,EAAmBM,EAAaiB,KAC5CN,EAAOT,EAAMC,EAAOY,EAAuBF,GAAkBD,GAC7DT,EAAQ,IACNU,KAIJV,IACAO,EAEJ,OAAOlD,EAAOnqB,KAAK,KAGrBhG,EAAOC,QAAU,SAAUyoB,GACzB,IAEIzlB,EAAG+wB,EAFHC,EAAU,GACVC,EAASxL,EAAMjS,cAAcvS,QAAQguB,EAAiB,KAAU/sB,MAAM,KAE1E,IAAKlC,EAAI,EAAGA,EAAIixB,EAAOlyB,OAAQiB,IAC7B+wB,EAAQE,EAAOjxB,GACfgxB,EAAQrvB,KAAKqtB,EAAc7mB,KAAK4oB,GAAS,OAASd,EAAOc,GAASA,GAEpE,OAAOC,EAAQjuB,KAAK,O,kCCrKtB,IAAImuB,EAAiB,EAAQ,QAAuCC,EAChErO,EAAS,EAAQ,QACjBsO,EAAc,EAAQ,QACtBvS,EAAO,EAAQ,QACf2E,EAAa,EAAQ,QACrB6N,EAAU,EAAQ,QAClBC,EAAiB,EAAQ,QACzBC,EAAa,EAAQ,QACrBnO,EAAc,EAAQ,QACtBoO,EAAU,EAAQ,QAAkCA,QACpDzN,EAAsB,EAAQ,QAE9BI,EAAmBJ,EAAoBK,IACvCqN,EAAyB1N,EAAoBO,UAEjDvnB,EAAOC,QAAU,CACf00B,eAAgB,SAAUC,EAASC,EAAkBC,EAAQC,GAC3D,IAAIC,EAAIJ,GAAQ,SAAU/F,EAAMoG,GAC9BxO,EAAWoI,EAAMmG,EAAGH,GACpBzN,EAAiByH,EAAM,CACrB5pB,KAAM4vB,EACN/yB,MAAOikB,EAAO,MACdjhB,WAAO3D,EACP4D,UAAM5D,EACN0gB,KAAM,IAEHwE,IAAawI,EAAKhN,KAAO,QACd1gB,GAAZ8zB,GAAuBX,EAAQW,EAAUpG,EAAKkG,GAAQlG,EAAMiG,MAG9DI,EAAmBR,EAAuBG,GAE1CM,EAAS,SAAUtG,EAAMpuB,EAAKD,GAChC,IAEI40B,EAAUtzB,EAFVksB,EAAQkH,EAAiBrG,GACzBwG,EAAQC,EAASzG,EAAMpuB,GAqBzB,OAlBE40B,EACFA,EAAM70B,MAAQA,GAGdwtB,EAAMjpB,KAAOswB,EAAQ,CACnBvzB,MAAOA,EAAQ2yB,EAAQh0B,GAAK,GAC5BA,IAAKA,EACLD,MAAOA,EACP40B,SAAUA,EAAWpH,EAAMjpB,KAC3BwwB,UAAMp0B,EACNq0B,SAAS,GAENxH,EAAMlpB,QAAOkpB,EAAMlpB,MAAQuwB,GAC5BD,IAAUA,EAASG,KAAOF,GAC1BhP,EAAa2H,EAAMnM,OAClBgN,EAAKhN,OAEI,MAAV/f,IAAeksB,EAAMlsB,MAAMA,GAASuzB,IACjCxG,GAGPyG,EAAW,SAAUzG,EAAMpuB,GAC7B,IAGI40B,EAHArH,EAAQkH,EAAiBrG,GAEzB/sB,EAAQ2yB,EAAQh0B,GAEpB,GAAc,MAAVqB,EAAe,OAAOksB,EAAMlsB,MAAMA,GAEtC,IAAKuzB,EAAQrH,EAAMlpB,MAAOuwB,EAAOA,EAAQA,EAAME,KAC7C,GAAIF,EAAM50B,KAAOA,EAAK,OAAO40B,GAiFjC,OA7EAhB,EAAYW,EAAE7yB,UAAW,CAGvB+Z,MAAO,WACL,IAAI2S,EAAOvtB,KACP0sB,EAAQkH,EAAiBrG,GACzBxL,EAAO2K,EAAMlsB,MACbuzB,EAAQrH,EAAMlpB,MAClB,MAAOuwB,EACLA,EAAMG,SAAU,EACZH,EAAMD,WAAUC,EAAMD,SAAWC,EAAMD,SAASG,UAAOp0B,UACpDkiB,EAAKgS,EAAMvzB,OAClBuzB,EAAQA,EAAME,KAEhBvH,EAAMlpB,MAAQkpB,EAAMjpB,UAAO5D,EACvBklB,EAAa2H,EAAMnM,KAAO,EACzBgN,EAAKhN,KAAO,GAInB,OAAU,SAAUphB,GAClB,IAAIouB,EAAOvtB,KACP0sB,EAAQkH,EAAiBrG,GACzBwG,EAAQC,EAASzG,EAAMpuB,GAC3B,GAAI40B,EAAO,CACT,IAAIE,EAAOF,EAAME,KACbE,EAAOJ,EAAMD,gBACVpH,EAAMlsB,MAAMuzB,EAAMvzB,OACzBuzB,EAAMG,SAAU,EACZC,IAAMA,EAAKF,KAAOA,GAClBA,IAAMA,EAAKH,SAAWK,GACtBzH,EAAMlpB,OAASuwB,IAAOrH,EAAMlpB,MAAQywB,GACpCvH,EAAMjpB,MAAQswB,IAAOrH,EAAMjpB,KAAO0wB,GAClCpP,EAAa2H,EAAMnM,OAClBgN,EAAKhN,OACV,QAASwT,GAIb90B,QAAS,SAAiBm1B,GACxB,IAEIL,EAFArH,EAAQkH,EAAiB5zB,MACzBq0B,EAAgB7T,EAAK4T,EAAY3zB,UAAUC,OAAS,EAAID,UAAU,QAAKZ,EAAW,GAEtF,MAAOk0B,EAAQA,EAAQA,EAAME,KAAOvH,EAAMlpB,MAAO,CAC/C6wB,EAAcN,EAAM70B,MAAO60B,EAAM50B,IAAKa,MAEtC,MAAO+zB,GAASA,EAAMG,QAASH,EAAQA,EAAMD,WAKjD1O,IAAK,SAAajmB,GAChB,QAAS60B,EAASh0B,KAAMb,MAI5B4zB,EAAYW,EAAE7yB,UAAW2yB,EAAS,CAEhCj0B,IAAK,SAAaJ,GAChB,IAAI40B,EAAQC,EAASh0B,KAAMb,GAC3B,OAAO40B,GAASA,EAAM70B,OAGxB6mB,IAAK,SAAa5mB,EAAKD,GACrB,OAAO20B,EAAO7zB,KAAc,IAARb,EAAY,EAAIA,EAAKD,KAEzC,CAEFo1B,IAAK,SAAap1B,GAChB,OAAO20B,EAAO7zB,KAAMd,EAAkB,IAAVA,EAAc,EAAIA,EAAOA,MAGrD6lB,GAAa8N,EAAea,EAAE7yB,UAAW,OAAQ,CACnDtB,IAAK,WACH,OAAOq0B,EAAiB5zB,MAAMugB,QAG3BmT,GAETa,UAAW,SAAUb,EAAGH,EAAkBC,GACxC,IAAIgB,EAAgBjB,EAAmB,YACnCkB,EAA6BrB,EAAuBG,GACpDmB,EAA2BtB,EAAuBoB,GAGtDvB,EAAeS,EAAGH,GAAkB,SAAUoB,EAAUC,GACtD9O,EAAiB9lB,KAAM,CACrB2D,KAAM6wB,EACNp0B,OAAQu0B,EACRjI,MAAO+H,EAA2BE,GAClCC,KAAMA,EACNnxB,UAAM5D,OAEP,WACD,IAAI6sB,EAAQgI,EAAyB10B,MACjC40B,EAAOlI,EAAMkI,KACbb,EAAQrH,EAAMjpB,KAElB,MAAOswB,GAASA,EAAMG,QAASH,EAAQA,EAAMD,SAE7C,OAAKpH,EAAMtsB,SAAYssB,EAAMjpB,KAAOswB,EAAQA,EAAQA,EAAME,KAAOvH,EAAMA,MAAMlpB,OAMjE,QAARoxB,EAAuB,CAAE11B,MAAO60B,EAAM50B,IAAK01B,MAAM,GACzC,UAARD,EAAyB,CAAE11B,MAAO60B,EAAM70B,MAAO21B,MAAM,GAClD,CAAE31B,MAAO,CAAC60B,EAAM50B,IAAK40B,EAAM70B,OAAQ21B,MAAM,IAN9CnI,EAAMtsB,YAASP,EACR,CAAEX,WAAOW,EAAWg1B,MAAM,MAMlCrB,EAAS,UAAY,UAAWA,GAAQ,GAG3CN,EAAWK,M,oCCtLf,IAAIxwB,EAAI,EAAQ,QACZjD,EAAS,EAAQ,QACjBg1B,EAAW,EAAQ,QACnB5P,EAAW,EAAQ,QACnB6P,EAAyB,EAAQ,QACjC/B,EAAU,EAAQ,QAClB7N,EAAa,EAAQ,QACrB6P,EAAW,EAAQ,QACnB12B,EAAQ,EAAQ,QAChB22B,EAA8B,EAAQ,QACtCzP,EAAiB,EAAQ,QACzB0P,EAAoB,EAAQ,QAEhCx2B,EAAOC,QAAU,SAAU40B,EAAkBD,EAAS6B,GACpD,IAAI3B,GAA8C,IAArCD,EAAiBzwB,QAAQ,OAClCsyB,GAAgD,IAAtC7B,EAAiBzwB,QAAQ,QACnC2wB,EAAQD,EAAS,MAAQ,MACzB6B,EAAoBv1B,EAAOyzB,GAC3B+B,EAAkBD,GAAqBA,EAAkBx0B,UACzD00B,EAAcF,EACdG,EAAW,GAEXC,EAAY,SAAUC,GACxB,IAAIC,EAAeL,EAAgBI,GACnCxQ,EAASoQ,EAAiBI,EACjB,OAAPA,EAAe,SAAax2B,GAE1B,OADAy2B,EAAa50B,KAAKf,KAAgB,IAAVd,EAAc,EAAIA,GACnCc,MACE,UAAP01B,EAAkB,SAAUv2B,GAC9B,QAAOi2B,IAAYJ,EAAS71B,KAAew2B,EAAa50B,KAAKf,KAAc,IAARb,EAAY,EAAIA,IAC1E,OAAPu2B,EAAe,SAAav2B,GAC9B,OAAOi2B,IAAYJ,EAAS71B,QAAOU,EAAY81B,EAAa50B,KAAKf,KAAc,IAARb,EAAY,EAAIA,IAC9E,OAAPu2B,EAAe,SAAav2B,GAC9B,QAAOi2B,IAAYJ,EAAS71B,KAAew2B,EAAa50B,KAAKf,KAAc,IAARb,EAAY,EAAIA,IACjF,SAAaA,EAAKD,GAEpB,OADAy2B,EAAa50B,KAAKf,KAAc,IAARb,EAAY,EAAIA,EAAKD,GACtCc,QAMb,GAAI80B,EAASvB,EAA8C,mBAArB8B,KAAqCD,GAAWE,EAAgBr2B,UAAYX,GAAM,YACtH,IAAI+2B,GAAoBO,UAAU3B,YAGlCsB,EAAcJ,EAAO9B,eAAeC,EAASC,EAAkBC,EAAQC,GACvEsB,EAAuBc,UAAW,OAC7B,GAAIf,EAASvB,GAAkB,GAAO,CAC3C,IAAIuC,EAAW,IAAIP,EAEfQ,EAAiBD,EAASrC,GAAO2B,EAAU,IAAM,EAAG,IAAMU,EAE1DE,EAAuB13B,GAAM,WAAcw3B,EAAS1Q,IAAI,MAGxD6Q,EAAmBhB,GAA4B,SAAUtB,GAAY,IAAI0B,EAAkB1B,MAE3FuC,GAAcd,GAAW92B,GAAM,WAEjC,IAAI63B,EAAY,IAAId,EAChB70B,EAAQ,EACZ,MAAOA,IAAS21B,EAAU1C,GAAOjzB,EAAOA,GACxC,OAAQ21B,EAAU/Q,KAAK,MAGpB6Q,IACHV,EAAcjC,GAAQ,SAAU8C,EAAOzC,GACrCxO,EAAWiR,EAAOb,EAAahC,GAC/B,IAAIhG,EAAO2H,EAAkB,IAAIG,EAAqBe,EAAOb,GAE7D,YADgB11B,GAAZ8zB,GAAuBX,EAAQW,EAAUpG,EAAKkG,GAAQlG,EAAMiG,GACzDjG,KAETgI,EAAY10B,UAAYy0B,EACxBA,EAAgBtyB,YAAcuyB,IAG5BS,GAAwBE,KAC1BT,EAAU,UACVA,EAAU,OACVjC,GAAUiC,EAAU,SAGlBS,GAAcH,IAAgBN,EAAUhC,GAGxC2B,GAAWE,EAAgB1a,cAAc0a,EAAgB1a,MAU/D,OAPA4a,EAASjC,GAAoBgC,EAC7BxyB,EAAE,CAAEjD,QAAQ,EAAM2vB,OAAQ8F,GAAeF,GAAqBG,GAE9DhQ,EAAe+P,EAAahC,GAEvB6B,GAASD,EAAOZ,UAAUgB,EAAahC,EAAkBC,GAEvD+B,I,oCCjGT,yBAAyiB,EAAG,G,2DCE5iB,EAAQ,QACR,IAAIxyB,EAAI,EAAQ,QACZszB,EAAa,EAAQ,QACrBrR,EAAiB,EAAQ,QACzBE,EAAW,EAAQ,QACnB6N,EAAc,EAAQ,QACtBvN,EAAiB,EAAQ,QACzB8Q,EAA4B,EAAQ,QACpC5Q,EAAsB,EAAQ,QAC9BP,EAAa,EAAQ,QACrBoR,EAAS,EAAQ,QACjB/V,EAAO,EAAQ,QACfgW,EAAU,EAAQ,QAClBC,EAAW,EAAQ,QACnBzB,EAAW,EAAQ,QACnBvQ,EAAS,EAAQ,QACjBiS,EAA2B,EAAQ,QACnCC,EAAc,EAAQ,QACtBC,EAAoB,EAAQ,QAC5Br4B,EAAkB,EAAQ,QAE1Bs4B,EAASR,EAAW,SACpBS,EAAUT,EAAW,WACrB53B,EAAWF,EAAgB,YAC3Bw4B,EAAoB,kBACpBC,EAA6BD,EAAoB,WACjDjR,EAAmBJ,EAAoBK,IACvCkR,EAAyBvR,EAAoBO,UAAU8Q,GACvDrC,EAA2BhP,EAAoBO,UAAU+Q,GAEzDE,EAAO,MACPC,EAAYx0B,MAAM,GAElBy0B,EAAkB,SAAUC,GAC9B,OAAOF,EAAUE,EAAQ,KAAOF,EAAUE,EAAQ,GAAKrU,OAAO,qBAAuBqU,EAAQ,KAAM,QAGjGC,EAAgB,SAAUC,GAC5B,IACE,OAAOC,mBAAmBD,GAC1B,MAAOluB,GACP,OAAOkuB,IAIPE,EAAc,SAAUC,GAC1B,IAAI34B,EAAS24B,EAAG90B,QAAQs0B,EAAM,KAC1BG,EAAQ,EACZ,IACE,OAAOG,mBAAmBz4B,GAC1B,MAAOsK,GACP,MAAOguB,EACLt4B,EAASA,EAAO6D,QAAQw0B,EAAgBC,KAAUC,GAEpD,OAAOv4B,IAIPqH,EAAO,eAEPxD,EAAU,CACZ,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,MAAO,KAGL+0B,EAAW,SAAUC,GACvB,OAAOh1B,EAAQg1B,IAGbC,EAAY,SAAUH,GACxB,OAAOlO,mBAAmBkO,GAAI90B,QAAQwD,EAAMuxB,IAG1CG,EAAoB,SAAU/4B,EAAQiuB,GACxC,GAAIA,EAAO,CACT,IAEI+K,EAAWhE,EAFX3b,EAAa4U,EAAMnpB,MAAM,KACzBrD,EAAQ,EAEZ,MAAOA,EAAQ4X,EAAW1X,OACxBq3B,EAAY3f,EAAW5X,KACnBu3B,EAAUr3B,SACZqzB,EAAQgE,EAAUl0B,MAAM,KACxB9E,EAAOuE,KAAK,CACVnE,IAAKs4B,EAAY1D,EAAM3G,SACvBluB,MAAOu4B,EAAY1D,EAAMrvB,KAAK,WAOpCgpB,EAAqB,SAAUV,GACjChtB,KAAK41B,QAAQl1B,OAAS,EACtBo3B,EAAkB93B,KAAK41B,QAAS5I,IAG9BgL,EAA0B,SAAUC,EAAQC,GAC9C,GAAID,EAASC,EAAU,MAAM53B,UAAU,yBAGrC63B,EAA0B7B,GAA0B,SAAkB8B,EAAQxD,GAChF9O,EAAiB9lB,KAAM,CACrB2D,KAAMqzB,EACN9X,SAAUyX,EAAYM,EAAuBmB,GAAQxC,SACrDhB,KAAMA,MAEP,YAAY,WACb,IAAIlI,EAAQgI,EAAyB10B,MACjC40B,EAAOlI,EAAMkI,KACbyD,EAAO3L,EAAMxN,SAAS+U,OACtBF,EAAQsE,EAAKn5B,MAGf,OAFGm5B,EAAKxD,OACRwD,EAAKn5B,MAAiB,SAAT01B,EAAkBb,EAAM50B,IAAe,WAATy1B,EAAoBb,EAAM70B,MAAQ,CAAC60B,EAAM50B,IAAK40B,EAAM70B,QACxFm5B,KAKPC,EAA6B,WAC/BnT,EAAWnlB,KAAMs4B,EAA4BvB,GAC7C,IAGIwB,EAAgBrZ,EAAU+U,EAAMoE,EAAMG,EAAeC,EAAWj1B,EAAO+mB,EAAQprB,EAH/Egb,EAAO1Z,UAAUC,OAAS,EAAID,UAAU,QAAKZ,EAC7C0tB,EAAOvtB,KACP41B,EAAU,GAUd,GAPA9P,EAAiByH,EAAM,CACrB5pB,KAAMozB,EACNnB,QAASA,EACTjI,UAAW,aACXD,mBAAoBA,SAGT7tB,IAATsa,EACF,GAAI6a,EAAS7a,GAEX,GADAoe,EAAiB3B,EAAkBzc,GACL,oBAAnBoe,EAA+B,CACxCrZ,EAAWqZ,EAAex3B,KAAKoZ,GAC/B8Z,EAAO/U,EAAS+U,KAChB,QAASoE,EAAOpE,EAAKlzB,KAAKme,IAAW2V,KAAM,CAGzC,GAFA2D,EAAgB7B,EAAYF,EAAS4B,EAAKn5B,QAC1Cu5B,EAAYD,EAAcvE,MAEvBzwB,EAAQi1B,EAAU13B,KAAKy3B,IAAgB3D,OACvCtK,EAASkO,EAAU13B,KAAKy3B,IAAgB3D,OACxC4D,EAAU13B,KAAKy3B,GAAe3D,KAC/B,MAAMv0B,UAAU,mCAClBs1B,EAAQtyB,KAAK,CAAEnE,IAAKqE,EAAMtE,MAAQ,GAAIA,MAAOqrB,EAAOrrB,MAAQ,WAEzD,IAAKC,KAAOgb,EAAUoc,EAAOpc,EAAMhb,IAAMy2B,EAAQtyB,KAAK,CAAEnE,IAAKA,EAAKD,MAAOib,EAAKhb,GAAO,UAE5F24B,EAAkBlC,EAAyB,kBAATzb,EAAuC,MAAnBA,EAAKmN,OAAO,GAAanN,EAAKzP,MAAM,GAAKyP,EAAOA,EAAO,KAK/Gue,EAA2BJ,EAA2Bz3B,UAE1DkyB,EAAY2F,EAA0B,CAGpCrzB,OAAQ,SAAgB6P,EAAMhW,GAC5B84B,EAAwBv3B,UAAUC,OAAQ,GAC1C,IAAIgsB,EAAQuK,EAAuBj3B,MACnC0sB,EAAMkJ,QAAQtyB,KAAK,CAAEnE,IAAK+V,EAAO,GAAIhW,MAAOA,EAAQ,KACpDwtB,EAAMiB,aAIR,OAAU,SAAUzY,GAClB8iB,EAAwBv3B,UAAUC,OAAQ,GAC1C,IAAIgsB,EAAQuK,EAAuBj3B,MAC/B41B,EAAUlJ,EAAMkJ,QAChBz2B,EAAM+V,EAAO,GACb1U,EAAQ,EACZ,MAAOA,EAAQo1B,EAAQl1B,OACjBk1B,EAAQp1B,GAAOrB,MAAQA,EAAKy2B,EAAQ+C,OAAOn4B,EAAO,GACjDA,IAEPksB,EAAMiB,aAIRpuB,IAAK,SAAa2V,GAChB8iB,EAAwBv3B,UAAUC,OAAQ,GAI1C,IAHA,IAAIk1B,EAAUqB,EAAuBj3B,MAAM41B,QACvCz2B,EAAM+V,EAAO,GACb1U,EAAQ,EACLA,EAAQo1B,EAAQl1B,OAAQF,IAC7B,GAAIo1B,EAAQp1B,GAAOrB,MAAQA,EAAK,OAAOy2B,EAAQp1B,GAAOtB,MAExD,OAAO,MAIT05B,OAAQ,SAAgB1jB,GACtB8iB,EAAwBv3B,UAAUC,OAAQ,GAK1C,IAJA,IAAIk1B,EAAUqB,EAAuBj3B,MAAM41B,QACvCz2B,EAAM+V,EAAO,GACbnW,EAAS,GACTyB,EAAQ,EACLA,EAAQo1B,EAAQl1B,OAAQF,IACzBo1B,EAAQp1B,GAAOrB,MAAQA,GAAKJ,EAAOuE,KAAKsyB,EAAQp1B,GAAOtB,OAE7D,OAAOH,GAITqmB,IAAK,SAAalQ,GAChB8iB,EAAwBv3B,UAAUC,OAAQ,GAC1C,IAAIk1B,EAAUqB,EAAuBj3B,MAAM41B,QACvCz2B,EAAM+V,EAAO,GACb1U,EAAQ,EACZ,MAAOA,EAAQo1B,EAAQl1B,OACrB,GAAIk1B,EAAQp1B,KAASrB,MAAQA,EAAK,OAAO,EAE3C,OAAO,GAIT4mB,IAAK,SAAa7Q,EAAMhW,GACtB84B,EAAwBv3B,UAAUC,OAAQ,GAQ1C,IAPA,IAMIqzB,EANArH,EAAQuK,EAAuBj3B,MAC/B41B,EAAUlJ,EAAMkJ,QAChBiD,GAAQ,EACR15B,EAAM+V,EAAO,GACb/Q,EAAMjF,EAAQ,GACdsB,EAAQ,EAELA,EAAQo1B,EAAQl1B,OAAQF,IAC7BuzB,EAAQ6B,EAAQp1B,GACZuzB,EAAM50B,MAAQA,IACZ05B,EAAOjD,EAAQ+C,OAAOn4B,IAAS,IAEjCq4B,GAAQ,EACR9E,EAAM70B,MAAQiF,IAIf00B,GAAOjD,EAAQtyB,KAAK,CAAEnE,IAAKA,EAAKD,MAAOiF,IAC5CuoB,EAAMiB,aAIRtuB,KAAM,WACJ,IAII00B,EAAO+E,EAAcC,EAJrBrM,EAAQuK,EAAuBj3B,MAC/B41B,EAAUlJ,EAAMkJ,QAEhBlrB,EAAQkrB,EAAQlrB,QAGpB,IADAkrB,EAAQl1B,OAAS,EACZq4B,EAAa,EAAGA,EAAaruB,EAAMhK,OAAQq4B,IAAc,CAE5D,IADAhF,EAAQrpB,EAAMquB,GACTD,EAAe,EAAGA,EAAeC,EAAYD,IAChD,GAAIlD,EAAQkD,GAAc35B,IAAM40B,EAAM50B,IAAK,CACzCy2B,EAAQ+C,OAAOG,EAAc,EAAG/E,GAChC,MAGA+E,IAAiBC,GAAYnD,EAAQtyB,KAAKywB,GAEhDrH,EAAMiB,aAGR1uB,QAAS,SAAiBygB,GACxB,IAGIqU,EAHA6B,EAAUqB,EAAuBj3B,MAAM41B,QACvCvB,EAAgB7T,EAAKd,EAAUjf,UAAUC,OAAS,EAAID,UAAU,QAAKZ,EAAW,GAChFW,EAAQ,EAEZ,MAAOA,EAAQo1B,EAAQl1B,OACrBqzB,EAAQ6B,EAAQp1B,KAChB6zB,EAAcN,EAAM70B,MAAO60B,EAAM50B,IAAKa,OAI1Cg5B,KAAM,WACJ,OAAO,IAAIb,EAAwBn4B,KAAM,SAG3Ci5B,OAAQ,WACN,OAAO,IAAId,EAAwBn4B,KAAM,WAG3C41B,QAAS,WACP,OAAO,IAAIuC,EAAwBn4B,KAAM,aAE1C,CAAEkvB,YAAY,IAGjBhK,EAASwT,EAA0Bj6B,EAAUi6B,EAAyB9C,SAItE1Q,EAASwT,EAA0B,YAAY,WAC7C,IAGI3E,EAHA6B,EAAUqB,EAAuBj3B,MAAM41B,QACvC72B,EAAS,GACTyB,EAAQ,EAEZ,MAAOA,EAAQo1B,EAAQl1B,OACrBqzB,EAAQ6B,EAAQp1B,KAChBzB,EAAOuE,KAAKu0B,EAAU9D,EAAM50B,KAAO,IAAM04B,EAAU9D,EAAM70B,QACzD,OAAOH,EAAO2F,KAAK,OACpB,CAAEwqB,YAAY,IAEjB1J,EAAe8S,EAA4BvB,GAE3Ch0B,EAAE,CAAEjD,QAAQ,EAAM2vB,QAASzK,GAAkB,CAC3CvlB,gBAAiB64B,IAKdtT,GAAmC,mBAAV6R,GAA0C,mBAAXC,GAC3D/zB,EAAE,CAAEjD,QAAQ,EAAMovB,YAAY,EAAMO,QAAQ,GAAQ,CAClDyJ,MAAO,SAAe9R,GACpB,IACIjN,EAAMgf,EAAMC,EADZC,EAAO,CAACjS,GAkBV,OAhBE3mB,UAAUC,OAAS,IACrByZ,EAAO1Z,UAAU,GACbu0B,EAAS7a,KACXgf,EAAOhf,EAAKgf,KACR3C,EAAQ2C,KAAUpC,IACpBqC,EAAUjf,EAAKif,QAAU,IAAItC,EAAQ3c,EAAKif,SAAW,IAAItC,EACpDsC,EAAQhU,IAAI,iBACfgU,EAAQrT,IAAI,eAAgB,mDAE9B5L,EAAOsK,EAAOtK,EAAM,CAClBgf,KAAMzC,EAAyB,EAAGl3B,OAAO25B,IACzCC,QAAS1C,EAAyB,EAAG0C,OAI3CC,EAAK/1B,KAAK6W,IACH0c,EAAOrH,MAAMxvB,KAAMq5B,MAKlC36B,EAAOC,QAAU,CACfc,gBAAiB64B,EACjBzS,SAAUoR,I,uBCzVZ,IAAIR,EAAW,EAAQ,QACnBG,EAAoB,EAAQ,QAEhCl4B,EAAOC,QAAU,SAAU+4B,GACzB,IAAIa,EAAiB3B,EAAkBc,GACvC,GAA6B,mBAAlBa,EACT,MAAMj4B,UAAUd,OAAOk4B,GAAM,oBAC7B,OAAOjB,EAAS8B,EAAex3B,KAAK22B,M,kCCNxC,IAAI30B,EAAI,EAAQ,QACZu2B,EAAkB,EAAQ,QAC1BC,EAAY,EAAQ,QACpBC,EAAW,EAAQ,QACnBC,EAAW,EAAQ,QACnBC,EAAqB,EAAQ,QAC7B7J,EAAiB,EAAQ,QACzB8J,EAA+B,EAAQ,QACvCC,EAA0B,EAAQ,QAElCC,EAAsBF,EAA6B,UACnDG,EAAiBF,EAAwB,SAAU,CAAEG,WAAW,EAAMC,EAAG,EAAGC,EAAG,IAE/EC,EAAM3vB,KAAK2vB,IACXC,EAAM5vB,KAAK4vB,IACXC,EAAmB,iBACnBC,EAAkC,kCAKtCt3B,EAAE,CAAE3C,OAAQ,QAASk6B,OAAO,EAAM7K,QAASoK,IAAwBC,GAAkB,CACnFnB,OAAQ,SAAgB4B,EAAOC,GAC7B,IAIIC,EAAaC,EAAmBC,EAAGhJ,EAAGiJ,EAAMr6B,EAJ5Cs6B,EAAIpB,EAASz5B,MACb86B,EAAMtB,EAASqB,EAAEn6B,QACjBq6B,EAAczB,EAAgBiB,EAAOO,GACrC5K,EAAkBzvB,UAAUC,OAWhC,GATwB,IAApBwvB,EACFuK,EAAcC,EAAoB,EACL,IAApBxK,GACTuK,EAAc,EACdC,EAAoBI,EAAMC,IAE1BN,EAAcvK,EAAkB,EAChCwK,EAAoBP,EAAID,EAAIX,EAAUiB,GAAc,GAAIM,EAAMC,IAE5DD,EAAML,EAAcC,EAAoBN,EAC1C,MAAM95B,UAAU+5B,GAGlB,IADAM,EAAIjB,EAAmBmB,EAAGH,GACrB/I,EAAI,EAAGA,EAAI+I,EAAmB/I,IACjCiJ,EAAOG,EAAcpJ,EACjBiJ,KAAQC,GAAGhL,EAAe8K,EAAGhJ,EAAGkJ,EAAED,IAGxC,GADAD,EAAEj6B,OAASg6B,EACPD,EAAcC,EAAmB,CACnC,IAAK/I,EAAIoJ,EAAapJ,EAAImJ,EAAMJ,EAAmB/I,IACjDiJ,EAAOjJ,EAAI+I,EACXn6B,EAAKoxB,EAAI8I,EACLG,KAAQC,EAAGA,EAAEt6B,GAAMs6B,EAAED,UACbC,EAAEt6B,GAEhB,IAAKoxB,EAAImJ,EAAKnJ,EAAImJ,EAAMJ,EAAoBD,EAAa9I,WAAYkJ,EAAElJ,EAAI,QACtE,GAAI8I,EAAcC,EACvB,IAAK/I,EAAImJ,EAAMJ,EAAmB/I,EAAIoJ,EAAapJ,IACjDiJ,EAAOjJ,EAAI+I,EAAoB,EAC/Bn6B,EAAKoxB,EAAI8I,EAAc,EACnBG,KAAQC,EAAGA,EAAEt6B,GAAMs6B,EAAED,UACbC,EAAEt6B,GAGlB,IAAKoxB,EAAI,EAAGA,EAAI8I,EAAa9I,IAC3BkJ,EAAElJ,EAAIoJ,GAAet6B,UAAUkxB,EAAI,GAGrC,OADAkJ,EAAEn6B,OAASo6B,EAAMJ,EAAoBD,EAC9BE,M,qBCnEX,IAAIr8B,EAAQ,EAAQ,QAEpBI,EAAOC,SAAWL,GAAM,WACtB,OAAO4B,OAAO86B,aAAa96B,OAAO+6B,kBAAkB,S,yCCHtD,IAAIC,EAAS,WAAa,IAAIC,EAAIn7B,KAASo7B,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,UAAU,CAACL,EAAIM,GAAG,GAAGH,EAAG,MAAMA,EAAG,UAAU,CAACA,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,KAAK,CAACH,EAAIO,GAAG,cAAcJ,EAAG,MAAMA,EAAG,QAAQ,CAACK,WAAW,CAAC,CAACzmB,KAAK,QAAQ0mB,QAAQ,UAAU18B,MAAOi8B,EAAIU,OAAY,MAAEC,WAAW,iBAAiBxjB,MAAM,CAAC,KAAO,OAAO,YAAc,YAAY,KAAO,SAASyjB,SAAS,CAAC,MAASZ,EAAIU,OAAY,OAAGn4B,GAAG,CAAC,MAAQ,SAASs4B,GAAWA,EAAO57B,OAAO67B,WAAqBd,EAAIe,KAAKf,EAAIU,OAAQ,QAASG,EAAO57B,OAAOlB,WAAWo8B,EAAG,MAAMA,EAAG,MAAMA,EAAG,QAAQ,CAACK,WAAW,CAAC,CAACzmB,KAAK,QAAQ0mB,QAAQ,UAAU18B,MAAOi8B,EAAIU,OAAY,MAAEC,WAAW,iBAAiBxjB,MAAM,CAAC,KAAO,OAAO,YAAc,mBAAmB,KAAO,SAASyjB,SAAS,CAAC,MAASZ,EAAIU,OAAY,OAAGn4B,GAAG,CAAC,MAAQ,SAASs4B,GAAWA,EAAO57B,OAAO67B,WAAqBd,EAAIe,KAAKf,EAAIU,OAAQ,QAASG,EAAO57B,OAAOlB,WAAWo8B,EAAG,QAAQ,CAACK,WAAW,CAAC,CAACzmB,KAAK,QAAQ0mB,QAAQ,UAAU18B,MAAOi8B,EAAIU,OAAW,KAAEC,WAAW,gBAAgBxjB,MAAM,CAAC,KAAO,OAAO,YAAc,UAAU,KAAO,UAAUyjB,SAAS,CAAC,MAASZ,EAAIU,OAAW,MAAGn4B,GAAG,CAAC,MAAQ,SAASs4B,GAAWA,EAAO57B,OAAO67B,WAAqBd,EAAIe,KAAKf,EAAIU,OAAQ,OAAQG,EAAO57B,OAAOlB,WAAWo8B,EAAG,QAAQ,CAACK,WAAW,CAAC,CAACzmB,KAAK,QAAQ0mB,QAAQ,UAAU18B,MAAOi8B,EAAIU,OAAa,OAAEC,WAAW,kBAAkBxjB,MAAM,CAAC,KAAO,OAAO,YAAc,kBAAkB,KAAO,UAAUyjB,SAAS,CAAC,MAASZ,EAAIU,OAAa,QAAGn4B,GAAG,CAAC,MAAQ,SAASs4B,GAAWA,EAAO57B,OAAO67B,WAAqBd,EAAIe,KAAKf,EAAIU,OAAQ,SAAUG,EAAO57B,OAAOlB,WAAWo8B,EAAG,QAAQ,CAACK,WAAW,CAAC,CAACzmB,KAAK,QAAQ0mB,QAAQ,UAAU18B,MAAOi8B,EAAIU,OAAW,KAAEC,WAAW,gBAAgBxjB,MAAM,CAAC,KAAO,OAAO,YAAc,mBAAmB,KAAO,UAAUyjB,SAAS,CAAC,MAASZ,EAAIU,OAAW,MAAGn4B,GAAG,CAAC,MAAQ,SAASs4B,GAAWA,EAAO57B,OAAO67B,WAAqBd,EAAIe,KAAKf,EAAIU,OAAQ,OAAQG,EAAO57B,OAAOlB,aAAao8B,EAAG,MAAMA,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,KAAK,CAACH,EAAIO,GAAG,UAAUJ,EAAG,MAAMA,EAAG,KAAKH,EAAIgB,GAAIhB,EAAIiB,WAAkB,SAAE,SAASx6B,EAAKpB,GAAO,OAAO86B,EAAG,KAAK,CAACn8B,IAAIqB,GAAO,CAAC86B,EAAG,QAAQ,CAACK,WAAW,CAAC,CAACzmB,KAAK,QAAQ0mB,QAAQ,UAAU18B,MAAOi8B,EAAIU,OAAc,QAAEC,WAAW,mBAAmBxjB,MAAM,CAAC,KAAO,QAAQ,KAAO,UAAU,GAAK1W,GAAMm6B,SAAS,CAAC,MAAQn6B,EAAK,QAAUu5B,EAAIkB,GAAGlB,EAAIU,OAAOS,QAAQ16B,IAAO8B,GAAG,CAAC,OAAS,SAASs4B,GAAQ,OAAOb,EAAIe,KAAKf,EAAIU,OAAQ,UAAWj6B,OAAU05B,EAAG,QAAQ,CAAChjB,MAAM,CAAC,IAAM1W,IAAO,CAACu5B,EAAIO,GAAGP,EAAIoB,GAAG36B,WAAa,KAAK05B,EAAG,MAAMA,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,KAAK,CAACH,EAAIO,GAAG,QAAQJ,EAAG,MAAMA,EAAG,KAAK,CAACH,EAAIO,GAAG,UAAUJ,EAAG,MAAMA,EAAG,KAAKH,EAAIgB,GAAIhB,EAAIiB,WAAe,MAAE,SAASx6B,EAAKpB,GAAO,OAAO86B,EAAG,KAAK,CAACn8B,IAAIqB,EAAM8X,MAAM,CAAC,WAAW9X,GAAOkD,GAAG,CAAC,SAAS,SAASs4B,GAAQ,OAAOb,EAAIqB,YAAYh8B,MAAU,CAAC86B,EAAG,OAAO,CAACH,EAAIO,GAAGP,EAAIoB,GAAG36B,MAAS05B,EAAG,IAAI,CAACE,YAAY,4BAA2B,GAAGF,EAAG,MAAMA,EAAG,KAAK,CAACH,EAAIO,GAAG,UAAUJ,EAAG,MAAMA,EAAG,KAAKH,EAAIgB,GAAIhB,EAAIU,OAAW,MAAE,SAASj6B,EAAKpB,GAAO,OAAO86B,EAAG,KAAK,CAACn8B,IAAIqB,EAAM8X,MAAM,CAAC,WAAW9X,IAAQ,CAAC86B,EAAG,OAAO,CAACH,EAAIO,GAAGP,EAAIoB,GAAG36B,MAAS05B,EAAG,IAAI,CAACE,YAAY,qBAAqB93B,GAAG,CAAC,MAAQ,SAASs4B,GAAQ,OAAOb,EAAIsB,UAAU76B,YAAc,GAAG05B,EAAG,OAAO,CAAChjB,MAAM,CAAC,OAAS,KAAK,CAACgjB,EAAG,QAAQ,CAAChjB,MAAM,CAAC,KAAO,OAAO,GAAK,QAAQ5U,GAAG,CAAC,QAAU,SAASs4B,GAAQ,OAAIA,EAAOr4B,KAAKb,QAAQ,QAAQq4B,EAAIuB,GAAGV,EAAO7f,QAAQ,QAAQ,GAAG6f,EAAO78B,IAAI,SAAkB,KAAcg8B,EAAIwB,UAAUX,OAAYV,EAAG,QAAQ,CAAChjB,MAAM,CAAC,IAAM,SAAS,CAAC6iB,EAAIO,GAAG,kBAAkBJ,EAAG,MAAMA,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,KAAK,CAACH,EAAIO,GAAG,UAAUJ,EAAG,MAAMA,EAAG,OAAO,CAAChjB,MAAM,CAAC,OAAS,KAAK,CAACgjB,EAAG,QAAQ,CAAChjB,MAAM,CAAC,KAAO,OAAO,OAAS,8CAA8C,GAAK,WAAW5U,GAAG,CAAC,OAASy3B,EAAIyB,eAAetB,EAAG,MAAM,CAACA,EAAG,QAAQ,CAAChjB,MAAM,CAAC,IAAM,YAAY,CAACgjB,EAAG,MAAM,CAACA,EAAG,IAAI,CAACK,WAAW,CAAC,CAACzmB,KAAK,OAAO0mB,QAAQ,SAAS18B,MAAOi8B,EAAY,SAAEW,WAAW,aAAaN,YAAY,yBAAyBF,EAAG,KAAK,CAACK,WAAW,CAAC,CAACzmB,KAAK,OAAO0mB,QAAQ,SAAS18B,MAAOi8B,EAAY,SAAEW,WAAW,cAAc,CAACX,EAAIO,GAAG,aAAaJ,EAAG,MAAM,CAAChjB,MAAM,CAAC,IAAM6iB,EAAI0B,UAAU,IAAM,UAAUvB,EAAG,MAAM,CAACK,WAAW,CAAC,CAACzmB,KAAK,OAAO0mB,QAAQ,SAAS18B,OAAwB,IAAjBi8B,EAAI2B,SAAoBhB,WAAW,uBAAuBN,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACA,EAAG,IAAI,CAACE,YAAY,uBAAuB93B,GAAG,CAAC,MAAQy3B,EAAI4B,eAAezB,EAAG,IAAI,CAACE,YAAY,uBAAuB93B,GAAG,CAAC,MAAQ,SAASs4B,GAAQ,OAAOb,EAAI6B,YAAY,gBAAgB1B,EAAG,IAAI,CAACE,YAAY,wBAAwB93B,GAAG,CAAC,MAAQ,SAASs4B,GAAQb,EAAI0B,UAAY,aAAavB,EAAG,MAAMA,EAAG,QAAQ,CAACK,WAAW,CAAC,CAACzmB,KAAK,OAAO0mB,QAAQ,SAAS18B,MAAsB,KAAfi8B,EAAI8B,OAAenB,WAAW,mBAAmB,CAACX,EAAIM,GAAG,GAAGH,EAAG,MAAMA,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,KAAK,CAACH,EAAIO,GAAG,YAAYJ,EAAG,SAAS,CAACA,EAAG,MAAM,CAACA,EAAG,MAAM,CAAC4B,IAAI,SAAS1B,YAAY,WAAWF,EAAG,MAAM,CAAC4B,IAAI,SAAS5kB,MAAM,CAAC,IAAM6iB,EAAI8B,OAAO,IAAM,YAAY3B,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,KAAK,CAACH,EAAIO,GAAG,YAAYJ,EAAG,MAAM,CAACA,EAAG,MAAM,CAAC4B,IAAI,eAAe5kB,MAAM,CAAC,IAAM6iB,EAAI8B,OAAO,IAAM,YAAY3B,EAAG,MAAMA,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,SAAS,CAAC53B,GAAG,CAAC,MAAQ,SAASs4B,GAAQ,OAAOb,EAAI6B,YAAY,eAAe,CAAC7B,EAAIO,GAAG,YAAYJ,EAAG,MAAMA,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,SAAS,CAAC53B,GAAG,CAAC,MAAQ,SAASs4B,GAAQ,OAAOb,EAAIgC,gBAAgB,CAAChC,EAAIO,GAAG,QAAQJ,EAAG,SAAS,CAAC53B,GAAG,CAAC,MAAQy3B,EAAIiC,YAAY,CAACjC,EAAIO,GAAG,cAAcJ,EAAG,MAAMA,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,KAAK,CAACH,EAAIO,GAAG,eAAeJ,EAAG,MAAMA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACA,EAAG,SAAS,CAAC53B,GAAG,CAAC,MAAQy3B,EAAIkC,UAAU,CAAClC,EAAIO,GAAG,YAAYP,EAAIM,GAAG,GAAGN,EAAIM,GAAG,YACz3K6B,EAAkB,CAAC,WAAa,IAAInC,EAAIn7B,KAASo7B,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,UAAU,CAACA,EAAG,MAAM,CAAChjB,MAAM,CAAC,GAAK,cAAcgjB,EAAG,MAAMA,EAAG,MAAM,CAAChjB,MAAM,CAAC,GAAK,iBAAiB,WAAa,IAAI6iB,EAAIn7B,KAASo7B,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,KAAK,CAACA,EAAG,OAAO,CAACH,EAAIO,GAAG,YAAYJ,EAAG,IAAI,CAACE,YAAY,4BAA4B,WAAa,IAAIL,EAAIn7B,KAASo7B,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,KAAK,CAACA,EAAG,SAAS,CAACH,EAAIO,GAAG,cAAc,WAAa,IAAIP,EAAIn7B,KAASo7B,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,KAAK,CAACA,EAAG,SAAS,CAACH,EAAIO,GAAG,e,6HCDrlB,SAAS6B,EAAgBzH,EAAUP,GAChD,KAAMO,aAAoBP,GACxB,MAAM,IAAIj1B,UAAU,qCCFxB,SAASk9B,EAAkBp9B,EAAQq9B,GACjC,IAAK,IAAI97B,EAAI,EAAGA,EAAI87B,EAAM/8B,OAAQiB,IAAK,CACrC,IAAI+7B,EAAaD,EAAM97B,GACvB+7B,EAAWxO,WAAawO,EAAWxO,aAAc,EACjDwO,EAAWzO,cAAe,EACtB,UAAWyO,IAAYA,EAAWC,UAAW,GACjDz9B,OAAO2yB,eAAezyB,EAAQs9B,EAAWv+B,IAAKu+B,IAInC,SAASE,EAAarI,EAAasI,EAAYC,GAG5D,OAFID,GAAYL,EAAkBjI,EAAY10B,UAAWg9B,GACrDC,GAAaN,EAAkBjI,EAAauI,GACzCvI,E,ICbYwI,E,gFAEnB,IAAI7zB,EAAM,oDACV,OAAOA,M,KCkLT,GACEgL,KAAM,SACN6M,KAFF,WAGI,MAAO,CACLqa,WAAY,CAEVE,QAAS,GACT0B,KAAM,IAERC,UAAW,GACXhB,OAAQ,GACRJ,UAAW,GACXC,UAAU,EACVjB,OAAQ,CACNn0B,QAAS,GACTD,MAAO,GACPy2B,MAAO,GACPhpB,KAAM,GACNipB,OAAQ,GACR7B,QAAS,OACT0B,KAAMr7B,MACNy7B,KAAM,MAIZC,QAAS,CACP7B,YAAa,SAAjB,GAIA,gCACQx8B,KAAK67B,OAAOmC,KAAK16B,KAAKtD,KAAKo8B,WAAW4B,KAAKp8B,IAE3C5B,KAAK67B,OAAOmC,KAAOr7B,MAAMqtB,GAAGhwB,KAAKo8B,WAAW4B,KAAKp8B,KAGrDg7B,UAAW,SAAf,cACM,GAA+B,OAA3B74B,EAAE3D,OAAO8I,MAAMtH,KAAK,GAAa,CACnC,IAAR,qDACQ5B,KAAKi9B,OAASr+B,EACd8N,YAAW,WACT,EAAV,YACA,MAGI4xB,QAAS,WAAb,sKACA,8BADA,cACA,EADA,gBAEA,kBAFA,cAEA,EAFA,gBAGA,wBAHA,OAGA,EAHA,OAIA,uDACA,gCALA,sGAAa,GAOTC,MAAO,SAAX,OACMC,EAAIC,YAAc,SAAxB,GACQ,IAER,EAFA,4BACA,2BAEYD,EAAIE,YACNF,EAAIE,aAENC,EAAOC,YAAc,SAA7B,GACU,IAAV,cACA,cACcC,EAAO,EACTA,EAAO,EACnB,gCACYA,EAAOF,EAAOG,YAAcN,EAAIO,aAE9BC,EAAO,EACTA,EAAO,EACnB,kCACYA,EAAOL,EAAOM,aAAeT,EAAIU,cAEnCC,EAAM,IAAhB,+BACUX,EAAI15B,MAAMs6B,IAAMJ,EAAO,KACvBR,EAAI15B,MAAMu6B,KAAOR,EAAO,KACxBS,EAAax6B,MAAMs6B,IAAM,GAAnC,eACUE,EAAax6B,MAAMu6B,MAAQR,EAAO,KAClCr9B,SAAS+9B,UAAY,WACnBZ,EAAOF,YAAcE,EAAOC,YAAc,KACtCJ,EAAIgB,gBACNhB,EAAIgB,qBAMdC,QAAS,WACP,IAAN,YACA,mCACA,qBACA,oBACA,EACA,sCACA,qCACA,4CAGA,+BACMC,EAAO3yB,MAAQ8P,EAAI8iB,aACnBD,EAAOnyB,OAAS,EAAtB,kBACMqyB,EAAOh4B,IAAMiV,EAAIjV,IACjBi4B,EAAIC,UACV,EACA,EACA,EACA,eACA,SACA,EACA,EACA,QACA,UAEM9/B,KAAK68B,UAAY6C,EAAOK,UAAU,eAGpC/C,YAAa,SAAjB,GACMx7B,SAASw+B,cAAcrd,GAAItM,SAE7B8mB,WAAY,WAAhB,4JACA,eADA,OAEA,eAFA,qGAAgB,GAIZC,UAAW,aAIXL,YAAa,WACX,IAAN,8BACMkD,EAAE3gC,KAAOU,KAAK68B,UACdoD,EAAEC,SAAW,WACbD,EAAE5pB,QACF4pB,EAAI,MAENE,UAAW,SAAf,gBACA,4BACA,4BACA,eACMl3B,EAAOwb,SACP,IAAN,mDACMxb,EAAOyO,IAAI5V,KAAKs+B,EAAS14B,SACzB,IAON,EAPA,QACM24B,QAAQC,IAAIC,GACZA,EAAIC,YAAYC,KAAtB,8KACA,OADA,OACA,EADA,OAEA,+BACA,yBAHA,kGAMMC,EAAE58B,iBAAiB,WAAW,WAC5Bu8B,QAAQC,IAAI,EAApB,gBACQlzB,aAAauzB,GACbA,EAAQj0B,YAAW,WACjB,EAAV,8BAEA,UAGIiwB,UAAW,SAAf,GACM,GAAuB,KAAnB54B,EAAE3D,OAAOlB,MACX,OAAO,EAETmhC,QAAQC,IAAIv8B,EAAE3D,OAAOlB,OACrBmhC,QAAQC,IAAItgC,KAAK67B,OAAOmC,MACxBh+B,KAAK67B,OAAOmC,KAAK16B,KAAKS,EAAE3D,OAAOlB,OAC/BwN,YAAW,WACT3I,EAAE3D,OAAOlB,MAAQ,KACzB,KAGI0hC,gBAAiB,SAArB,GACM,IAAN,UACM,OAAO,SAAb,GACQ,GAAIC,EAAMzb,IAAI0b,GACZ,OAAOD,EAAMthC,IAAIuhC,GAEnB,IAAR,iBAEQ,OADAD,EAAM9a,IAAI+a,EAAG/hC,GACNA,IAIXgiC,UAAW,SAAf,GACM,GAAe,QAAXC,EACFC,aAAaC,QAAQ,WAAYvf,KAAKwf,UAAUnhC,KAAK67B,OAAQ,KAAM,SAC3E,cACQ,IAAR,+CACQ37B,OAAOC,OAAOH,KAAK67B,OAAQ9Z,KAG/B0a,UAAW,SAAf,GACM4D,QAAQC,IAAI1+B,GACZ,IAAN,sBACMpB,EAAMm4B,OAAOn4B,EAAMsC,QAAQlB,GAAO,IAEpCy7B,QAAS,WACP,IAAN,8BACMr1B,EAAKk4B,SAAW,YAChB,IAAN,iDACQv8B,KAAM,eAERqE,EAAK1I,KAAOT,IAAIuwB,gBAAgBG,GAChCvnB,EAAKqO,QACLxX,IAAIywB,gBAAgBtnB,EAAK1I,QAG7B8hC,MAAO,CACLvE,UADJ,WAE6B,WAAnB78B,KAAK68B,WAA6C,KAAnB78B,KAAK68B,UACtC78B,KAAK88B,UAAW,EAEhB98B,KAAK88B,UAAW,IAItBuE,QAvNF,WAuNA,IAGA,EAHA,OACIrhC,KAAKmgC,UAAU,YAAa,aAC5BngC,KAAK+gC,UAAU,OAEf/2B,OAAOlG,iBAAiB,SAAS,WAC/BsJ,aAAauzB,GACbA,EAAQj0B,YAAW,WACjB,EAAR,mBACA,UCpZkV,I,wBCQ9U40B,EAAY,eACd,EACApG,EACAoC,GACA,EACA,KACA,WACA,MAIa,aAAAgE,E,8BCnBf,IAAIC,EAAa,EAAQ,QACrBvM,EAAW,EAAQ,QACnB5P,EAAM,EAAQ,QACdyN,EAAiB,EAAQ,QAAuCC,EAChE0O,EAAM,EAAQ,QACdC,EAAW,EAAQ,QAEnBC,EAAWF,EAAI,QACf7e,EAAK,EAELqY,EAAe96B,OAAO86B,cAAgB,WACxC,OAAO,GAGL2G,EAAc,SAAUjK,GAC1B7E,EAAe6E,EAAIgK,EAAU,CAAExiC,MAAO,CACpC0iC,SAAU,OAAQjf,EAClBkf,SAAU,OAIV1O,EAAU,SAAUuE,EAAIjT,GAE1B,IAAKuQ,EAAS0C,GAAK,MAAoB,iBAANA,EAAiBA,GAAmB,iBAANA,EAAiB,IAAM,KAAOA,EAC7F,IAAKtS,EAAIsS,EAAIgK,GAAW,CAEtB,IAAK1G,EAAatD,GAAK,MAAO,IAE9B,IAAKjT,EAAQ,MAAO,IAEpBkd,EAAYjK,GAEZ,OAAOA,EAAGgK,GAAUE,UAGpBE,EAAc,SAAUpK,EAAIjT,GAC9B,IAAKW,EAAIsS,EAAIgK,GAAW,CAEtB,IAAK1G,EAAatD,GAAK,OAAO,EAE9B,IAAKjT,EAAQ,OAAO,EAEpBkd,EAAYjK,GAEZ,OAAOA,EAAGgK,GAAUG,UAIpBE,EAAW,SAAUrK,GAEvB,OADI+J,GAAYO,EAAKnM,UAAYmF,EAAatD,KAAQtS,EAAIsS,EAAIgK,IAAWC,EAAYjK,GAC9EA,GAGLsK,EAAOtjC,EAAOC,QAAU,CAC1Bk3B,UAAU,EACV1C,QAASA,EACT2O,YAAaA,EACbC,SAAUA,GAGZR,EAAWG,IAAY","file":"js/chunk-33eeaff6.d8238fc7.js","sourcesContent":["var fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = !fails(function () {\n  var url = new URL('b?a=1&b=2&c=3', 'http://a');\n  var searchParams = url.searchParams;\n  var result = '';\n  url.pathname = 'c%20d';\n  searchParams.forEach(function (value, key) {\n    searchParams['delete']('b');\n    result += key + value;\n  });\n  return (IS_PURE && !url.toJSON)\n    || !searchParams.sort\n    || url.href !== 'http://a/c%20d?a=1&c=3'\n    || searchParams.get('c') !== '3'\n    || String(new URLSearchParams('?a=1')) !== 'a=1'\n    || !searchParams[ITERATOR]\n    // throws in Edge\n    || new URL('https://a@b').username !== 'a'\n    || new URLSearchParams(new URLSearchParams('a=b')).get('a') !== 'b'\n    // not punycoded in Edge\n    || new URL('http://тест').host !== 'xn--e1aybc'\n    // not escaped in Chrome 62-\n    || new URL('http://a#б').hash !== '#%D0%B1'\n    // fails in Chrome 66-\n    || result !== 'a1c3'\n    // throws in Safari\n    || new URL('http://x', undefined).host !== 'x';\n});\n","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.wangEditor = factory());\n}(this, (function () { 'use strict';\n\n/*\n    poly-fill\n*/\n\nvar polyfill = function () {\n\n    // Object.assign\n    if (typeof Object.assign != 'function') {\n        Object.assign = function (target, varArgs) {\n            // .length of function is 2\n            if (target == null) {\n                // TypeError if undefined or null\n                throw new TypeError('Cannot convert undefined or null to object');\n            }\n\n            var to = Object(target);\n\n            for (var index = 1; index < arguments.length; index++) {\n                var nextSource = arguments[index];\n\n                if (nextSource != null) {\n                    // Skip over if undefined or null\n                    for (var nextKey in nextSource) {\n                        // Avoid bugs when hasOwnProperty is shadowed\n                        if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n                            to[nextKey] = nextSource[nextKey];\n                        }\n                    }\n                }\n            }\n            return to;\n        };\n    }\n\n    // IE 中兼容 Element.prototype.matches\n    if (!Element.prototype.matches) {\n        Element.prototype.matches = Element.prototype.matchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector || Element.prototype.oMatchesSelector || Element.prototype.webkitMatchesSelector || function (s) {\n            var matches = (this.document || this.ownerDocument).querySelectorAll(s),\n                i = matches.length;\n            while (--i >= 0 && matches.item(i) !== this) {}\n            return i > -1;\n        };\n    }\n};\n\n/*\n    DOM 操作 API\n*/\n\n// 根据 html 代码片段创建 dom 对象\nfunction createElemByHTML(html) {\n    var div = void 0;\n    div = document.createElement('div');\n    div.innerHTML = html;\n    return div.children;\n}\n\n// 是否是 DOM List\nfunction isDOMList(selector) {\n    if (!selector) {\n        return false;\n    }\n    if (selector instanceof HTMLCollection || selector instanceof NodeList) {\n        return true;\n    }\n    return false;\n}\n\n// 封装 document.querySelectorAll\nfunction querySelectorAll(selector) {\n    var result = document.querySelectorAll(selector);\n    if (isDOMList(result)) {\n        return result;\n    } else {\n        return [result];\n    }\n}\n\n// 记录所有的事件绑定\nvar eventList = [];\n\n// 创建构造函数\nfunction DomElement(selector) {\n    if (!selector) {\n        return;\n    }\n\n    // selector 本来就是 DomElement 对象，直接返回\n    if (selector instanceof DomElement) {\n        return selector;\n    }\n\n    this.selector = selector;\n    var nodeType = selector.nodeType;\n\n    // 根据 selector 得出的结果（如 DOM，DOM List）\n    var selectorResult = [];\n    if (nodeType === 9) {\n        // document 节点\n        selectorResult = [selector];\n    } else if (nodeType === 1) {\n        // 单个 DOM 节点\n        selectorResult = [selector];\n    } else if (isDOMList(selector) || selector instanceof Array) {\n        // DOM List 或者数组\n        selectorResult = selector;\n    } else if (typeof selector === 'string') {\n        // 字符串\n        selector = selector.replace('/\\n/mg', '').trim();\n        if (selector.indexOf('<') === 0) {\n            // 如 <div>\n            selectorResult = createElemByHTML(selector);\n        } else {\n            // 如 #id .class\n            selectorResult = querySelectorAll(selector);\n        }\n    }\n\n    var length = selectorResult.length;\n    if (!length) {\n        // 空数组\n        return this;\n    }\n\n    // 加入 DOM 节点\n    var i = void 0;\n    for (i = 0; i < length; i++) {\n        this[i] = selectorResult[i];\n    }\n    this.length = length;\n}\n\n// 修改原型\nDomElement.prototype = {\n    constructor: DomElement,\n\n    // 类数组，forEach\n    forEach: function forEach(fn) {\n        var i = void 0;\n        for (i = 0; i < this.length; i++) {\n            var elem = this[i];\n            var result = fn.call(elem, elem, i);\n            if (result === false) {\n                break;\n            }\n        }\n        return this;\n    },\n\n    // clone\n    clone: function clone(deep) {\n        var cloneList = [];\n        this.forEach(function (elem) {\n            cloneList.push(elem.cloneNode(!!deep));\n        });\n        return $(cloneList);\n    },\n\n    // 获取第几个元素\n    get: function get(index) {\n        var length = this.length;\n        if (index >= length) {\n            index = index % length;\n        }\n        return $(this[index]);\n    },\n\n    // 第一个\n    first: function first() {\n        return this.get(0);\n    },\n\n    // 最后一个\n    last: function last() {\n        var length = this.length;\n        return this.get(length - 1);\n    },\n\n    // 绑定事件\n    on: function on(type, selector, fn) {\n        // selector 不为空，证明绑定事件要加代理\n        if (!fn) {\n            fn = selector;\n            selector = null;\n        }\n\n        // type 是否有多个\n        var types = [];\n        types = type.split(/\\s+/);\n\n        return this.forEach(function (elem) {\n            types.forEach(function (type) {\n                if (!type) {\n                    return;\n                }\n\n                // 记录下，方便后面解绑\n                eventList.push({\n                    elem: elem,\n                    type: type,\n                    fn: fn\n                });\n\n                if (!selector) {\n                    // 无代理\n                    elem.addEventListener(type, fn);\n                    return;\n                }\n\n                // 有代理\n                elem.addEventListener(type, function (e) {\n                    var target = e.target;\n                    if (target.matches(selector)) {\n                        fn.call(target, e);\n                    }\n                });\n            });\n        });\n    },\n\n    // 取消事件绑定\n    off: function off(type, fn) {\n        return this.forEach(function (elem) {\n            elem.removeEventListener(type, fn);\n        });\n    },\n\n    // 获取/设置 属性\n    attr: function attr(key, val) {\n        if (val == null) {\n            // 获取值\n            return this[0].getAttribute(key);\n        } else {\n            // 设置值\n            return this.forEach(function (elem) {\n                elem.setAttribute(key, val);\n            });\n        }\n    },\n\n    // 添加 class\n    addClass: function addClass(className) {\n        if (!className) {\n            return this;\n        }\n        return this.forEach(function (elem) {\n            var arr = void 0;\n            if (elem.className) {\n                // 解析当前 className 转换为数组\n                arr = elem.className.split(/\\s/);\n                arr = arr.filter(function (item) {\n                    return !!item.trim();\n                });\n                // 添加 class\n                if (arr.indexOf(className) < 0) {\n                    arr.push(className);\n                }\n                // 修改 elem.class\n                elem.className = arr.join(' ');\n            } else {\n                elem.className = className;\n            }\n        });\n    },\n\n    // 删除 class\n    removeClass: function removeClass(className) {\n        if (!className) {\n            return this;\n        }\n        return this.forEach(function (elem) {\n            var arr = void 0;\n            if (elem.className) {\n                // 解析当前 className 转换为数组\n                arr = elem.className.split(/\\s/);\n                arr = arr.filter(function (item) {\n                    item = item.trim();\n                    // 删除 class\n                    if (!item || item === className) {\n                        return false;\n                    }\n                    return true;\n                });\n                // 修改 elem.class\n                elem.className = arr.join(' ');\n            }\n        });\n    },\n\n    // 修改 css\n    css: function css(key, val) {\n        var currentStyle = key + ':' + val + ';';\n        return this.forEach(function (elem) {\n            var style = (elem.getAttribute('style') || '').trim();\n            var styleArr = void 0,\n                resultArr = [];\n            if (style) {\n                // 将 style 按照 ; 拆分为数组\n                styleArr = style.split(';');\n                styleArr.forEach(function (item) {\n                    // 对每项样式，按照 : 拆分为 key 和 value\n                    var arr = item.split(':').map(function (i) {\n                        return i.trim();\n                    });\n                    if (arr.length === 2) {\n                        resultArr.push(arr[0] + ':' + arr[1]);\n                    }\n                });\n                // 替换或者新增\n                resultArr = resultArr.map(function (item) {\n                    if (item.indexOf(key) === 0) {\n                        return currentStyle;\n                    } else {\n                        return item;\n                    }\n                });\n                if (resultArr.indexOf(currentStyle) < 0) {\n                    resultArr.push(currentStyle);\n                }\n                // 结果\n                elem.setAttribute('style', resultArr.join('; '));\n            } else {\n                // style 无值\n                elem.setAttribute('style', currentStyle);\n            }\n        });\n    },\n\n    // 显示\n    show: function show() {\n        return this.css('display', 'block');\n    },\n\n    // 隐藏\n    hide: function hide() {\n        return this.css('display', 'none');\n    },\n\n    // 获取子节点\n    children: function children() {\n        var elem = this[0];\n        if (!elem) {\n            return null;\n        }\n\n        return $(elem.children);\n    },\n\n    // 获取子节点（包括文本节点）\n    childNodes: function childNodes() {\n        var elem = this[0];\n        if (!elem) {\n            return null;\n        }\n\n        return $(elem.childNodes);\n    },\n\n    // 增加子节点\n    append: function append($children) {\n        return this.forEach(function (elem) {\n            $children.forEach(function (child) {\n                elem.appendChild(child);\n            });\n        });\n    },\n\n    // 移除当前节点\n    remove: function remove() {\n        return this.forEach(function (elem) {\n            if (elem.remove) {\n                elem.remove();\n            } else {\n                var parent = elem.parentElement;\n                parent && parent.removeChild(elem);\n            }\n        });\n    },\n\n    // 是否包含某个子节点\n    isContain: function isContain($child) {\n        var elem = this[0];\n        var child = $child[0];\n        return elem.contains(child);\n    },\n\n    // 尺寸数据\n    getSizeData: function getSizeData() {\n        var elem = this[0];\n        return elem.getBoundingClientRect(); // 可得到 bottom height left right top width 的数据\n    },\n\n    // 封装 nodeName\n    getNodeName: function getNodeName() {\n        var elem = this[0];\n        return elem.nodeName;\n    },\n\n    // 从当前元素查找\n    find: function find(selector) {\n        var elem = this[0];\n        return $(elem.querySelectorAll(selector));\n    },\n\n    // 获取当前元素的 text\n    text: function text(val) {\n        if (!val) {\n            // 获取 text\n            var elem = this[0];\n            return elem.innerHTML.replace(/<.*?>/g, function () {\n                return '';\n            });\n        } else {\n            // 设置 text\n            return this.forEach(function (elem) {\n                elem.innerHTML = val;\n            });\n        }\n    },\n\n    // 获取 html\n    html: function html(value) {\n        var elem = this[0];\n        if (value == null) {\n            return elem.innerHTML;\n        } else {\n            elem.innerHTML = value;\n            return this;\n        }\n    },\n\n    // 获取 value\n    val: function val() {\n        var elem = this[0];\n        return elem.value.trim();\n    },\n\n    // focus\n    focus: function focus() {\n        return this.forEach(function (elem) {\n            elem.focus();\n        });\n    },\n\n    // parent\n    parent: function parent() {\n        var elem = this[0];\n        return $(elem.parentElement);\n    },\n\n    // parentUntil 找到符合 selector 的父节点\n    parentUntil: function parentUntil(selector, _currentElem) {\n        var results = document.querySelectorAll(selector);\n        var length = results.length;\n        if (!length) {\n            // 传入的 selector 无效\n            return null;\n        }\n\n        var elem = _currentElem || this[0];\n        if (elem.nodeName === 'BODY') {\n            return null;\n        }\n\n        var parent = elem.parentElement;\n        var i = void 0;\n        for (i = 0; i < length; i++) {\n            if (parent === results[i]) {\n                // 找到，并返回\n                return $(parent);\n            }\n        }\n\n        // 继续查找\n        return this.parentUntil(selector, parent);\n    },\n\n    // 判断两个 elem 是否相等\n    equal: function equal($elem) {\n        if ($elem.nodeType === 1) {\n            return this[0] === $elem;\n        } else {\n            return this[0] === $elem[0];\n        }\n    },\n\n    // 将该元素插入到某个元素前面\n    insertBefore: function insertBefore(selector) {\n        var $referenceNode = $(selector);\n        var referenceNode = $referenceNode[0];\n        if (!referenceNode) {\n            return this;\n        }\n        return this.forEach(function (elem) {\n            var parent = referenceNode.parentNode;\n            parent.insertBefore(elem, referenceNode);\n        });\n    },\n\n    // 将该元素插入到某个元素后面\n    insertAfter: function insertAfter(selector) {\n        var $referenceNode = $(selector);\n        var referenceNode = $referenceNode[0];\n        if (!referenceNode) {\n            return this;\n        }\n        return this.forEach(function (elem) {\n            var parent = referenceNode.parentNode;\n            if (parent.lastChild === referenceNode) {\n                // 最后一个元素\n                parent.appendChild(elem);\n            } else {\n                // 不是最后一个元素\n                parent.insertBefore(elem, referenceNode.nextSibling);\n            }\n        });\n    }\n};\n\n// new 一个对象\nfunction $(selector) {\n    return new DomElement(selector);\n}\n\n// 解绑所有事件，用于销毁编辑器\n$.offAll = function () {\n    eventList.forEach(function (item) {\n        var elem = item.elem;\n        var type = item.type;\n        var fn = item.fn;\n        // 解绑\n        elem.removeEventListener(type, fn);\n    });\n};\n\n/*\n    配置信息\n*/\n\nvar config = {\n\n    // 默认菜单配置\n    menus: ['head', 'bold', 'fontSize', 'fontName', 'italic', 'underline', 'strikeThrough', 'foreColor', 'backColor', 'link', 'list', 'justify', 'quote', 'emoticon', 'image', 'table', 'video', 'code', 'undo', 'redo'],\n\n    fontNames: ['宋体', '微软雅黑', 'Arial', 'Tahoma', 'Verdana'],\n\n    colors: ['#000000', '#eeece0', '#1c487f', '#4d80bf', '#c24f4a', '#8baa4a', '#7b5ba1', '#46acc8', '#f9963b', '#ffffff'],\n\n    // // 语言配置\n    // lang: {\n    //     '设置标题': 'title',\n    //     '正文': 'p',\n    //     '链接文字': 'link text',\n    //     '链接': 'link',\n    //     '插入': 'insert',\n    //     '创建': 'init'\n    // },\n\n    // 表情\n    emotions: [{\n        // tab 的标题\n        title: '默认',\n        // type -> 'emoji' / 'image'\n        type: 'image',\n        // content -> 数组\n        content: [{\n            alt: '[坏笑]',\n            src: 'http://img.t.sinajs.cn/t4/appstyle/expression/ext/normal/50/pcmoren_huaixiao_org.png'\n        }, {\n            alt: '[舔屏]',\n            src: 'http://img.t.sinajs.cn/t4/appstyle/expression/ext/normal/40/pcmoren_tian_org.png'\n        }, {\n            alt: '[污]',\n            src: 'http://img.t.sinajs.cn/t4/appstyle/expression/ext/normal/3c/pcmoren_wu_org.png'\n        }]\n    }, {\n        // tab 的标题\n        title: '新浪',\n        // type -> 'emoji' / 'image'\n        type: 'image',\n        // content -> 数组\n        content: [{\n            src: 'http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/7a/shenshou_thumb.gif',\n            alt: '[草泥马]'\n        }, {\n            src: 'http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/60/horse2_thumb.gif',\n            alt: '[神马]'\n        }, {\n            src: 'http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/bc/fuyun_thumb.gif',\n            alt: '[浮云]'\n        }]\n    }, {\n        // tab 的标题\n        title: 'emoji',\n        // type -> 'emoji' / 'image'\n        type: 'emoji',\n        // content -> 数组\n        content: '😀 😃 😄 😁 😆 😅 😂 😊 😇 🙂 🙃 😉 😓 😪 😴 🙄 🤔 😬 🤐'.split(/\\s/)\n    }],\n\n    // 编辑区域的 z-index\n    zIndex: 10000,\n\n    // 是否开启 debug 模式（debug 模式下错误会 throw error 形式抛出）\n    debug: false,\n\n    // 插入链接时候的格式校验\n    linkCheck: function linkCheck(text, link) {\n        // text 是插入的文字\n        // link 是插入的链接\n        return true; // 返回 true 即表示成功\n        // return '校验失败' // 返回字符串即表示失败的提示信息\n    },\n\n    // 插入网络图片的校验\n    linkImgCheck: function linkImgCheck(src) {\n        // src 即图片的地址\n        return true; // 返回 true 即表示成功\n        // return '校验失败'  // 返回字符串即表示失败的提示信息\n    },\n\n    // 粘贴过滤样式，默认开启\n    pasteFilterStyle: true,\n\n    // 粘贴内容时，忽略图片。默认关闭\n    pasteIgnoreImg: false,\n\n    // 对粘贴的文字进行自定义处理，返回处理后的结果。编辑器会将处理后的结果粘贴到编辑区域中。\n    // IE 暂时不支持\n    pasteTextHandle: function pasteTextHandle(content) {\n        // content 即粘贴过来的内容（html 或 纯文本），可进行自定义处理然后返回\n        return content;\n    },\n\n    // onchange 事件\n    // onchange: function (html) {\n    //     // html 即变化之后的内容\n    //     console.log(html)\n    // },\n\n    // 是否显示添加网络图片的 tab\n    showLinkImg: true,\n\n    // 插入网络图片的回调\n    linkImgCallback: function linkImgCallback(url) {\n        // console.log(url)  // url 即插入图片的地址\n    },\n\n    // 默认上传图片 max size: 5M\n    uploadImgMaxSize: 5 * 1024 * 1024,\n\n    // 配置一次最多上传几个图片\n    // uploadImgMaxLength: 5,\n\n    // 上传图片，是否显示 base64 格式\n    uploadImgShowBase64: false,\n\n    // 上传图片，server 地址（如果有值，则 base64 格式的配置则失效）\n    // uploadImgServer: '/upload',\n\n    // 自定义配置 filename\n    uploadFileName: '',\n\n    // 上传图片的自定义参数\n    uploadImgParams: {\n        // token: 'abcdef12345'\n    },\n\n    // 上传图片的自定义header\n    uploadImgHeaders: {\n        // 'Accept': 'text/x-json'\n    },\n\n    // 配置 XHR withCredentials\n    withCredentials: false,\n\n    // 自定义上传图片超时时间 ms\n    uploadImgTimeout: 10000,\n\n    // 上传图片 hook \n    uploadImgHooks: {\n        // customInsert: function (insertLinkImg, result, editor) {\n        //     console.log('customInsert')\n        //     // 图片上传并返回结果，自定义插入图片的事件，而不是编辑器自动插入图片\n        //     const data = result.data1 || []\n        //     data.forEach(link => {\n        //         insertLinkImg(link)\n        //     })\n        // },\n        before: function before(xhr, editor, files) {\n            // 图片上传之前触发\n\n            // 如果返回的结果是 {prevent: true, msg: 'xxxx'} 则表示用户放弃上传\n            // return {\n            //     prevent: true,\n            //     msg: '放弃上传'\n            // }\n        },\n        success: function success(xhr, editor, result) {\n            // 图片上传并返回结果，图片插入成功之后触发\n        },\n        fail: function fail(xhr, editor, result) {\n            // 图片上传并返回结果，但图片插入错误时触发\n        },\n        error: function error(xhr, editor) {\n            // 图片上传出错时触发\n        },\n        timeout: function timeout(xhr, editor) {\n            // 图片上传超时时触发\n        }\n    },\n\n    // 是否上传七牛云，默认为 false\n    qiniu: false\n\n};\n\n/*\n    工具\n*/\n\n// 和 UA 相关的属性\nvar UA = {\n    _ua: navigator.userAgent,\n\n    // 是否 webkit\n    isWebkit: function isWebkit() {\n        var reg = /webkit/i;\n        return reg.test(this._ua);\n    },\n\n    // 是否 IE\n    isIE: function isIE() {\n        return 'ActiveXObject' in window;\n    }\n};\n\n// 遍历对象\nfunction objForEach(obj, fn) {\n    var key = void 0,\n        result = void 0;\n    for (key in obj) {\n        if (obj.hasOwnProperty(key)) {\n            result = fn.call(obj, key, obj[key]);\n            if (result === false) {\n                break;\n            }\n        }\n    }\n}\n\n// 遍历类数组\nfunction arrForEach(fakeArr, fn) {\n    var i = void 0,\n        item = void 0,\n        result = void 0;\n    var length = fakeArr.length || 0;\n    for (i = 0; i < length; i++) {\n        item = fakeArr[i];\n        result = fn.call(fakeArr, item, i);\n        if (result === false) {\n            break;\n        }\n    }\n}\n\n// 获取随机数\nfunction getRandom(prefix) {\n    return prefix + Math.random().toString().slice(2);\n}\n\n// 替换 html 特殊字符\nfunction replaceHtmlSymbol(html) {\n    if (html == null) {\n        return '';\n    }\n    return html.replace(/</gm, '&lt;').replace(/>/gm, '&gt;').replace(/\"/gm, '&quot;').replace(/(\\r\\n|\\r|\\n)/g, '<br/>');\n}\n\n// 返回百分比的格式\n\n\n// 判断是不是 function\nfunction isFunction(fn) {\n    return typeof fn === 'function';\n}\n\n/*\n    bold-menu\n*/\n// 构造函数\nfunction Bold(editor) {\n    this.editor = editor;\n    this.$elem = $('<div class=\"w-e-menu\">\\n            <i class=\"w-e-icon-bold\"></i>\\n        </div>');\n    this.type = 'click';\n\n    // 当前是否 active 状态\n    this._active = false;\n}\n\n// 原型\nBold.prototype = {\n    constructor: Bold,\n\n    // 点击事件\n    onClick: function onClick(e) {\n        // 点击菜单将触发这里\n\n        var editor = this.editor;\n        var isSeleEmpty = editor.selection.isSelectionEmpty();\n\n        if (isSeleEmpty) {\n            // 选区是空的，插入并选中一个“空白”\n            editor.selection.createEmptyRange();\n        }\n\n        // 执行 bold 命令\n        editor.cmd.do('bold');\n\n        if (isSeleEmpty) {\n            // 需要将选取折叠起来\n            editor.selection.collapseRange();\n            editor.selection.restoreSelection();\n        }\n    },\n\n    // 试图改变 active 状态\n    tryChangeActive: function tryChangeActive(e) {\n        var editor = this.editor;\n        var $elem = this.$elem;\n        if (editor.cmd.queryCommandState('bold')) {\n            this._active = true;\n            $elem.addClass('w-e-active');\n        } else {\n            this._active = false;\n            $elem.removeClass('w-e-active');\n        }\n    }\n};\n\n/*\n    替换多语言\n */\n\nvar replaceLang = function (editor, str) {\n    var langArgs = editor.config.langArgs || [];\n    var result = str;\n\n    langArgs.forEach(function (item) {\n        var reg = item.reg;\n        var val = item.val;\n\n        if (reg.test(result)) {\n            result = result.replace(reg, function () {\n                return val;\n            });\n        }\n    });\n\n    return result;\n};\n\n/*\n    droplist\n*/\nvar _emptyFn = function _emptyFn() {};\n\n// 构造函数\nfunction DropList(menu, opt) {\n    var _this = this;\n\n    // droplist 所依附的菜单\n    var editor = menu.editor;\n    this.menu = menu;\n    this.opt = opt;\n    // 容器\n    var $container = $('<div class=\"w-e-droplist\"></div>');\n\n    // 标题\n    var $title = opt.$title;\n    var titleHtml = void 0;\n    if ($title) {\n        // 替换多语言\n        titleHtml = $title.html();\n        titleHtml = replaceLang(editor, titleHtml);\n        $title.html(titleHtml);\n\n        $title.addClass('w-e-dp-title');\n        $container.append($title);\n    }\n\n    var list = opt.list || [];\n    var type = opt.type || 'list'; // 'list' 列表形式（如“标题”菜单） / 'inline-block' 块状形式（如“颜色”菜单）\n    var onClick = opt.onClick || _emptyFn;\n\n    // 加入 DOM 并绑定事件\n    var $list = $('<ul class=\"' + (type === 'list' ? 'w-e-list' : 'w-e-block') + '\"></ul>');\n    $container.append($list);\n    list.forEach(function (item) {\n        var $elem = item.$elem;\n\n        // 替换多语言\n        var elemHtml = $elem.html();\n        elemHtml = replaceLang(editor, elemHtml);\n        $elem.html(elemHtml);\n\n        var value = item.value;\n        var $li = $('<li class=\"w-e-item\"></li>');\n        if ($elem) {\n            $li.append($elem);\n            $list.append($li);\n            $li.on('click', function (e) {\n                onClick(value);\n\n                // 隐藏\n                _this.hideTimeoutId = setTimeout(function () {\n                    _this.hide();\n                }, 0);\n            });\n        }\n    });\n\n    // 绑定隐藏事件\n    $container.on('mouseleave', function (e) {\n        _this.hideTimeoutId = setTimeout(function () {\n            _this.hide();\n        }, 0);\n    });\n\n    // 记录属性\n    this.$container = $container;\n\n    // 基本属性\n    this._rendered = false;\n    this._show = false;\n}\n\n// 原型\nDropList.prototype = {\n    constructor: DropList,\n\n    // 显示（插入DOM）\n    show: function show() {\n        if (this.hideTimeoutId) {\n            // 清除之前的定时隐藏\n            clearTimeout(this.hideTimeoutId);\n        }\n\n        var menu = this.menu;\n        var $menuELem = menu.$elem;\n        var $container = this.$container;\n        if (this._show) {\n            return;\n        }\n        if (this._rendered) {\n            // 显示\n            $container.show();\n        } else {\n            // 加入 DOM 之前先定位位置\n            var menuHeight = $menuELem.getSizeData().height || 0;\n            var width = this.opt.width || 100; // 默认为 100\n            $container.css('margin-top', menuHeight + 'px').css('width', width + 'px');\n\n            // 加入到 DOM\n            $menuELem.append($container);\n            this._rendered = true;\n        }\n\n        // 修改属性\n        this._show = true;\n    },\n\n    // 隐藏（移除DOM）\n    hide: function hide() {\n        if (this.showTimeoutId) {\n            // 清除之前的定时显示\n            clearTimeout(this.showTimeoutId);\n        }\n\n        var $container = this.$container;\n        if (!this._show) {\n            return;\n        }\n        // 隐藏并需改属性\n        $container.hide();\n        this._show = false;\n    }\n};\n\n/*\n    menu - header\n*/\n// 构造函数\nfunction Head(editor) {\n    var _this = this;\n\n    this.editor = editor;\n    this.$elem = $('<div class=\"w-e-menu\"><i class=\"w-e-icon-header\"></i></div>');\n    this.type = 'droplist';\n\n    // 当前是否 active 状态\n    this._active = false;\n\n    // 初始化 droplist\n    this.droplist = new DropList(this, {\n        width: 100,\n        $title: $('<p>设置标题</p>'),\n        type: 'list', // droplist 以列表形式展示\n        list: [{ $elem: $('<h1>H1</h1>'), value: '<h1>' }, { $elem: $('<h2>H2</h2>'), value: '<h2>' }, { $elem: $('<h3>H3</h3>'), value: '<h3>' }, { $elem: $('<h4>H4</h4>'), value: '<h4>' }, { $elem: $('<h5>H5</h5>'), value: '<h5>' }, { $elem: $('<p>正文</p>'), value: '<p>' }],\n        onClick: function onClick(value) {\n            // 注意 this 是指向当前的 Head 对象\n            _this._command(value);\n        }\n    });\n}\n\n// 原型\nHead.prototype = {\n    constructor: Head,\n\n    // 执行命令\n    _command: function _command(value) {\n        var editor = this.editor;\n\n        var $selectionElem = editor.selection.getSelectionContainerElem();\n        if (editor.$textElem.equal($selectionElem)) {\n            // 不能选中多行来设置标题，否则会出现问题\n            // 例如选中的是 <p>xxx</p><p>yyy</p> 来设置标题，设置之后会成为 <h1>xxx<br>yyy</h1> 不符合预期\n            return;\n        }\n\n        editor.cmd.do('formatBlock', value);\n    },\n\n    // 试图改变 active 状态\n    tryChangeActive: function tryChangeActive(e) {\n        var editor = this.editor;\n        var $elem = this.$elem;\n        var reg = /^h/i;\n        var cmdValue = editor.cmd.queryCommandValue('formatBlock');\n        if (reg.test(cmdValue)) {\n            this._active = true;\n            $elem.addClass('w-e-active');\n        } else {\n            this._active = false;\n            $elem.removeClass('w-e-active');\n        }\n    }\n};\n\n/*\n    menu - fontSize\n*/\n\n// 构造函数\nfunction FontSize(editor) {\n    var _this = this;\n\n    this.editor = editor;\n    this.$elem = $('<div class=\"w-e-menu\"><i class=\"w-e-icon-text-heigh\"></i></div>');\n    this.type = 'droplist';\n\n    // 当前是否 active 状态\n    this._active = false;\n\n    // 初始化 droplist\n    this.droplist = new DropList(this, {\n        width: 160,\n        $title: $('<p>字号</p>'),\n        type: 'list', // droplist 以列表形式展示\n        list: [{ $elem: $('<span style=\"font-size: x-small;\">x-small</span>'), value: '1' }, { $elem: $('<span style=\"font-size: small;\">small</span>'), value: '2' }, { $elem: $('<span>normal</span>'), value: '3' }, { $elem: $('<span style=\"font-size: large;\">large</span>'), value: '4' }, { $elem: $('<span style=\"font-size: x-large;\">x-large</span>'), value: '5' }, { $elem: $('<span style=\"font-size: xx-large;\">xx-large</span>'), value: '6' }],\n        onClick: function onClick(value) {\n            // 注意 this 是指向当前的 FontSize 对象\n            _this._command(value);\n        }\n    });\n}\n\n// 原型\nFontSize.prototype = {\n    constructor: FontSize,\n\n    // 执行命令\n    _command: function _command(value) {\n        var editor = this.editor;\n        editor.cmd.do('fontSize', value);\n    }\n};\n\n/*\n    menu - fontName\n*/\n\n// 构造函数\nfunction FontName(editor) {\n    var _this = this;\n\n    this.editor = editor;\n    this.$elem = $('<div class=\"w-e-menu\"><i class=\"w-e-icon-font\"></i></div>');\n    this.type = 'droplist';\n\n    // 当前是否 active 状态\n    this._active = false;\n\n    // 获取配置的字体\n    var config = editor.config;\n    var fontNames = config.fontNames || [];\n\n    // 初始化 droplist\n    this.droplist = new DropList(this, {\n        width: 100,\n        $title: $('<p>字体</p>'),\n        type: 'list', // droplist 以列表形式展示\n        list: fontNames.map(function (fontName) {\n            return { $elem: $('<span style=\"font-family: ' + fontName + ';\">' + fontName + '</span>'), value: fontName };\n        }),\n        onClick: function onClick(value) {\n            // 注意 this 是指向当前的 FontName 对象\n            _this._command(value);\n        }\n    });\n}\n\n// 原型\nFontName.prototype = {\n    constructor: FontName,\n\n    _command: function _command(value) {\n        var editor = this.editor;\n        editor.cmd.do('fontName', value);\n    }\n};\n\n/*\n    panel\n*/\n\nvar emptyFn = function emptyFn() {};\n\n// 记录已经显示 panel 的菜单\nvar _isCreatedPanelMenus = [];\n\n// 构造函数\nfunction Panel(menu, opt) {\n    this.menu = menu;\n    this.opt = opt;\n}\n\n// 原型\nPanel.prototype = {\n    constructor: Panel,\n\n    // 显示（插入DOM）\n    show: function show() {\n        var _this = this;\n\n        var menu = this.menu;\n        if (_isCreatedPanelMenus.indexOf(menu) >= 0) {\n            // 该菜单已经创建了 panel 不能再创建\n            return;\n        }\n\n        var editor = menu.editor;\n        var $body = $('body');\n        var $textContainerElem = editor.$textContainerElem;\n        var opt = this.opt;\n\n        // panel 的容器\n        var $container = $('<div class=\"w-e-panel-container\"></div>');\n        var width = opt.width || 300; // 默认 300px\n        $container.css('width', width + 'px').css('margin-left', (0 - width) / 2 + 'px');\n\n        // 添加关闭按钮\n        var $closeBtn = $('<i class=\"w-e-icon-close w-e-panel-close\"></i>');\n        $container.append($closeBtn);\n        $closeBtn.on('click', function () {\n            _this.hide();\n        });\n\n        // 准备 tabs 容器\n        var $tabTitleContainer = $('<ul class=\"w-e-panel-tab-title\"></ul>');\n        var $tabContentContainer = $('<div class=\"w-e-panel-tab-content\"></div>');\n        $container.append($tabTitleContainer).append($tabContentContainer);\n\n        // 设置高度\n        var height = opt.height;\n        if (height) {\n            $tabContentContainer.css('height', height + 'px').css('overflow-y', 'auto');\n        }\n\n        // tabs\n        var tabs = opt.tabs || [];\n        var tabTitleArr = [];\n        var tabContentArr = [];\n        tabs.forEach(function (tab, tabIndex) {\n            if (!tab) {\n                return;\n            }\n            var title = tab.title || '';\n            var tpl = tab.tpl || '';\n\n            // 替换多语言\n            title = replaceLang(editor, title);\n            tpl = replaceLang(editor, tpl);\n\n            // 添加到 DOM\n            var $title = $('<li class=\"w-e-item\">' + title + '</li>');\n            $tabTitleContainer.append($title);\n            var $content = $(tpl);\n            $tabContentContainer.append($content);\n\n            // 记录到内存\n            $title._index = tabIndex;\n            tabTitleArr.push($title);\n            tabContentArr.push($content);\n\n            // 设置 active 项\n            if (tabIndex === 0) {\n                $title._active = true;\n                $title.addClass('w-e-active');\n            } else {\n                $content.hide();\n            }\n\n            // 绑定 tab 的事件\n            $title.on('click', function (e) {\n                if ($title._active) {\n                    return;\n                }\n                // 隐藏所有的 tab\n                tabTitleArr.forEach(function ($title) {\n                    $title._active = false;\n                    $title.removeClass('w-e-active');\n                });\n                tabContentArr.forEach(function ($content) {\n                    $content.hide();\n                });\n\n                // 显示当前的 tab\n                $title._active = true;\n                $title.addClass('w-e-active');\n                $content.show();\n            });\n        });\n\n        // 绑定关闭事件\n        $container.on('click', function (e) {\n            // 点击时阻止冒泡\n            e.stopPropagation();\n        });\n        $body.on('click', function (e) {\n            _this.hide();\n        });\n\n        // 添加到 DOM\n        $textContainerElem.append($container);\n\n        // 绑定 opt 的事件，只有添加到 DOM 之后才能绑定成功\n        tabs.forEach(function (tab, index) {\n            if (!tab) {\n                return;\n            }\n            var events = tab.events || [];\n            events.forEach(function (event) {\n                var selector = event.selector;\n                var type = event.type;\n                var fn = event.fn || emptyFn;\n                var $content = tabContentArr[index];\n                $content.find(selector).on(type, function (e) {\n                    e.stopPropagation();\n                    var needToHide = fn(e);\n                    // 执行完事件之后，是否要关闭 panel\n                    if (needToHide) {\n                        _this.hide();\n                    }\n                });\n            });\n        });\n\n        // focus 第一个 elem\n        var $inputs = $container.find('input[type=text],textarea');\n        if ($inputs.length) {\n            $inputs.get(0).focus();\n        }\n\n        // 添加到属性\n        this.$container = $container;\n\n        // 隐藏其他 panel\n        this._hideOtherPanels();\n        // 记录该 menu 已经创建了 panel\n        _isCreatedPanelMenus.push(menu);\n    },\n\n    // 隐藏（移除DOM）\n    hide: function hide() {\n        var menu = this.menu;\n        var $container = this.$container;\n        if ($container) {\n            $container.remove();\n        }\n\n        // 将该 menu 记录中移除\n        _isCreatedPanelMenus = _isCreatedPanelMenus.filter(function (item) {\n            if (item === menu) {\n                return false;\n            } else {\n                return true;\n            }\n        });\n    },\n\n    // 一个 panel 展示时，隐藏其他 panel\n    _hideOtherPanels: function _hideOtherPanels() {\n        if (!_isCreatedPanelMenus.length) {\n            return;\n        }\n        _isCreatedPanelMenus.forEach(function (menu) {\n            var panel = menu.panel || {};\n            if (panel.hide) {\n                panel.hide();\n            }\n        });\n    }\n};\n\n/*\n    menu - link\n*/\n// 构造函数\nfunction Link(editor) {\n    this.editor = editor;\n    this.$elem = $('<div class=\"w-e-menu\"><i class=\"w-e-icon-link\"></i></div>');\n    this.type = 'panel';\n\n    // 当前是否 active 状态\n    this._active = false;\n}\n\n// 原型\nLink.prototype = {\n    constructor: Link,\n\n    // 点击事件\n    onClick: function onClick(e) {\n        var editor = this.editor;\n        var $linkelem = void 0;\n\n        if (this._active) {\n            // 当前选区在链接里面\n            $linkelem = editor.selection.getSelectionContainerElem();\n            if (!$linkelem) {\n                return;\n            }\n            // 将该元素都包含在选取之内，以便后面整体替换\n            editor.selection.createRangeByElem($linkelem);\n            editor.selection.restoreSelection();\n            // 显示 panel\n            this._createPanel($linkelem.text(), $linkelem.attr('href'));\n        } else {\n            // 当前选区不在链接里面\n            if (editor.selection.isSelectionEmpty()) {\n                // 选区是空的，未选中内容\n                this._createPanel('', '');\n            } else {\n                // 选中内容了\n                this._createPanel(editor.selection.getSelectionText(), '');\n            }\n        }\n    },\n\n    // 创建 panel\n    _createPanel: function _createPanel(text, link) {\n        var _this = this;\n\n        // panel 中需要用到的id\n        var inputLinkId = getRandom('input-link');\n        var inputTextId = getRandom('input-text');\n        var btnOkId = getRandom('btn-ok');\n        var btnDelId = getRandom('btn-del');\n\n        // 是否显示“删除链接”\n        var delBtnDisplay = this._active ? 'inline-block' : 'none';\n\n        // 初始化并显示 panel\n        var panel = new Panel(this, {\n            width: 300,\n            // panel 中可包含多个 tab\n            tabs: [{\n                // tab 的标题\n                title: '链接',\n                // 模板\n                tpl: '<div>\\n                            <input id=\"' + inputTextId + '\" type=\"text\" class=\"block\" value=\"' + text + '\" placeholder=\"\\u94FE\\u63A5\\u6587\\u5B57\"/></td>\\n                            <input id=\"' + inputLinkId + '\" type=\"text\" class=\"block\" value=\"' + link + '\" placeholder=\"http://...\"/></td>\\n                            <div class=\"w-e-button-container\">\\n                                <button id=\"' + btnOkId + '\" class=\"right\">\\u63D2\\u5165</button>\\n                                <button id=\"' + btnDelId + '\" class=\"gray right\" style=\"display:' + delBtnDisplay + '\">\\u5220\\u9664\\u94FE\\u63A5</button>\\n                            </div>\\n                        </div>',\n                // 事件绑定\n                events: [\n                // 插入链接\n                {\n                    selector: '#' + btnOkId,\n                    type: 'click',\n                    fn: function fn() {\n                        // 执行插入链接\n                        var $link = $('#' + inputLinkId);\n                        var $text = $('#' + inputTextId);\n                        var link = $link.val();\n                        var text = $text.val();\n                        _this._insertLink(text, link);\n\n                        // 返回 true，表示该事件执行完之后，panel 要关闭。否则 panel 不会关闭\n                        return true;\n                    }\n                },\n                // 删除链接\n                {\n                    selector: '#' + btnDelId,\n                    type: 'click',\n                    fn: function fn() {\n                        // 执行删除链接\n                        _this._delLink();\n\n                        // 返回 true，表示该事件执行完之后，panel 要关闭。否则 panel 不会关闭\n                        return true;\n                    }\n                }]\n            } // tab end\n            ] // tabs end\n        });\n\n        // 显示 panel\n        panel.show();\n\n        // 记录属性\n        this.panel = panel;\n    },\n\n    // 删除当前链接\n    _delLink: function _delLink() {\n        if (!this._active) {\n            return;\n        }\n        var editor = this.editor;\n        var $selectionELem = editor.selection.getSelectionContainerElem();\n        if (!$selectionELem) {\n            return;\n        }\n        var selectionText = editor.selection.getSelectionText();\n        editor.cmd.do('insertHTML', '<span>' + selectionText + '</span>');\n    },\n\n    // 插入链接\n    _insertLink: function _insertLink(text, link) {\n        var editor = this.editor;\n        var config = editor.config;\n        var linkCheck = config.linkCheck;\n        var checkResult = true; // 默认为 true\n        if (linkCheck && typeof linkCheck === 'function') {\n            checkResult = linkCheck(text, link);\n        }\n        if (checkResult === true) {\n            editor.cmd.do('insertHTML', '<a href=\"' + link + '\" target=\"_blank\">' + text + '</a>');\n        } else {\n            alert(checkResult);\n        }\n    },\n\n    // 试图改变 active 状态\n    tryChangeActive: function tryChangeActive(e) {\n        var editor = this.editor;\n        var $elem = this.$elem;\n        var $selectionELem = editor.selection.getSelectionContainerElem();\n        if (!$selectionELem) {\n            return;\n        }\n        if ($selectionELem.getNodeName() === 'A') {\n            this._active = true;\n            $elem.addClass('w-e-active');\n        } else {\n            this._active = false;\n            $elem.removeClass('w-e-active');\n        }\n    }\n};\n\n/*\n    italic-menu\n*/\n// 构造函数\nfunction Italic(editor) {\n    this.editor = editor;\n    this.$elem = $('<div class=\"w-e-menu\">\\n            <i class=\"w-e-icon-italic\"></i>\\n        </div>');\n    this.type = 'click';\n\n    // 当前是否 active 状态\n    this._active = false;\n}\n\n// 原型\nItalic.prototype = {\n    constructor: Italic,\n\n    // 点击事件\n    onClick: function onClick(e) {\n        // 点击菜单将触发这里\n\n        var editor = this.editor;\n        var isSeleEmpty = editor.selection.isSelectionEmpty();\n\n        if (isSeleEmpty) {\n            // 选区是空的，插入并选中一个“空白”\n            editor.selection.createEmptyRange();\n        }\n\n        // 执行 italic 命令\n        editor.cmd.do('italic');\n\n        if (isSeleEmpty) {\n            // 需要将选取折叠起来\n            editor.selection.collapseRange();\n            editor.selection.restoreSelection();\n        }\n    },\n\n    // 试图改变 active 状态\n    tryChangeActive: function tryChangeActive(e) {\n        var editor = this.editor;\n        var $elem = this.$elem;\n        if (editor.cmd.queryCommandState('italic')) {\n            this._active = true;\n            $elem.addClass('w-e-active');\n        } else {\n            this._active = false;\n            $elem.removeClass('w-e-active');\n        }\n    }\n};\n\n/*\n    redo-menu\n*/\n// 构造函数\nfunction Redo(editor) {\n    this.editor = editor;\n    this.$elem = $('<div class=\"w-e-menu\">\\n            <i class=\"w-e-icon-redo\"></i>\\n        </div>');\n    this.type = 'click';\n\n    // 当前是否 active 状态\n    this._active = false;\n}\n\n// 原型\nRedo.prototype = {\n    constructor: Redo,\n\n    // 点击事件\n    onClick: function onClick(e) {\n        // 点击菜单将触发这里\n\n        var editor = this.editor;\n\n        // 执行 redo 命令\n        editor.cmd.do('redo');\n    }\n};\n\n/*\n    strikeThrough-menu\n*/\n// 构造函数\nfunction StrikeThrough(editor) {\n    this.editor = editor;\n    this.$elem = $('<div class=\"w-e-menu\">\\n            <i class=\"w-e-icon-strikethrough\"></i>\\n        </div>');\n    this.type = 'click';\n\n    // 当前是否 active 状态\n    this._active = false;\n}\n\n// 原型\nStrikeThrough.prototype = {\n    constructor: StrikeThrough,\n\n    // 点击事件\n    onClick: function onClick(e) {\n        // 点击菜单将触发这里\n\n        var editor = this.editor;\n        var isSeleEmpty = editor.selection.isSelectionEmpty();\n\n        if (isSeleEmpty) {\n            // 选区是空的，插入并选中一个“空白”\n            editor.selection.createEmptyRange();\n        }\n\n        // 执行 strikeThrough 命令\n        editor.cmd.do('strikeThrough');\n\n        if (isSeleEmpty) {\n            // 需要将选取折叠起来\n            editor.selection.collapseRange();\n            editor.selection.restoreSelection();\n        }\n    },\n\n    // 试图改变 active 状态\n    tryChangeActive: function tryChangeActive(e) {\n        var editor = this.editor;\n        var $elem = this.$elem;\n        if (editor.cmd.queryCommandState('strikeThrough')) {\n            this._active = true;\n            $elem.addClass('w-e-active');\n        } else {\n            this._active = false;\n            $elem.removeClass('w-e-active');\n        }\n    }\n};\n\n/*\n    underline-menu\n*/\n// 构造函数\nfunction Underline(editor) {\n    this.editor = editor;\n    this.$elem = $('<div class=\"w-e-menu\">\\n            <i class=\"w-e-icon-underline\"></i>\\n        </div>');\n    this.type = 'click';\n\n    // 当前是否 active 状态\n    this._active = false;\n}\n\n// 原型\nUnderline.prototype = {\n    constructor: Underline,\n\n    // 点击事件\n    onClick: function onClick(e) {\n        // 点击菜单将触发这里\n\n        var editor = this.editor;\n        var isSeleEmpty = editor.selection.isSelectionEmpty();\n\n        if (isSeleEmpty) {\n            // 选区是空的，插入并选中一个“空白”\n            editor.selection.createEmptyRange();\n        }\n\n        // 执行 underline 命令\n        editor.cmd.do('underline');\n\n        if (isSeleEmpty) {\n            // 需要将选取折叠起来\n            editor.selection.collapseRange();\n            editor.selection.restoreSelection();\n        }\n    },\n\n    // 试图改变 active 状态\n    tryChangeActive: function tryChangeActive(e) {\n        var editor = this.editor;\n        var $elem = this.$elem;\n        if (editor.cmd.queryCommandState('underline')) {\n            this._active = true;\n            $elem.addClass('w-e-active');\n        } else {\n            this._active = false;\n            $elem.removeClass('w-e-active');\n        }\n    }\n};\n\n/*\n    undo-menu\n*/\n// 构造函数\nfunction Undo(editor) {\n    this.editor = editor;\n    this.$elem = $('<div class=\"w-e-menu\">\\n            <i class=\"w-e-icon-undo\"></i>\\n        </div>');\n    this.type = 'click';\n\n    // 当前是否 active 状态\n    this._active = false;\n}\n\n// 原型\nUndo.prototype = {\n    constructor: Undo,\n\n    // 点击事件\n    onClick: function onClick(e) {\n        // 点击菜单将触发这里\n\n        var editor = this.editor;\n\n        // 执行 undo 命令\n        editor.cmd.do('undo');\n    }\n};\n\n/*\n    menu - list\n*/\n// 构造函数\nfunction List(editor) {\n    var _this = this;\n\n    this.editor = editor;\n    this.$elem = $('<div class=\"w-e-menu\"><i class=\"w-e-icon-list2\"></i></div>');\n    this.type = 'droplist';\n\n    // 当前是否 active 状态\n    this._active = false;\n\n    // 初始化 droplist\n    this.droplist = new DropList(this, {\n        width: 120,\n        $title: $('<p>设置列表</p>'),\n        type: 'list', // droplist 以列表形式展示\n        list: [{ $elem: $('<span><i class=\"w-e-icon-list-numbered\"></i> 有序列表</span>'), value: 'insertOrderedList' }, { $elem: $('<span><i class=\"w-e-icon-list2\"></i> 无序列表</span>'), value: 'insertUnorderedList' }],\n        onClick: function onClick(value) {\n            // 注意 this 是指向当前的 List 对象\n            _this._command(value);\n        }\n    });\n}\n\n// 原型\nList.prototype = {\n    constructor: List,\n\n    // 执行命令\n    _command: function _command(value) {\n        var editor = this.editor;\n        var $textElem = editor.$textElem;\n        editor.selection.restoreSelection();\n        if (editor.cmd.queryCommandState(value)) {\n            return;\n        }\n        editor.cmd.do(value);\n\n        // 验证列表是否被包裹在 <p> 之内\n        var $selectionElem = editor.selection.getSelectionContainerElem();\n        if ($selectionElem.getNodeName() === 'LI') {\n            $selectionElem = $selectionElem.parent();\n        }\n        if (/^ol|ul$/i.test($selectionElem.getNodeName()) === false) {\n            return;\n        }\n        if ($selectionElem.equal($textElem)) {\n            // 证明是顶级标签，没有被 <p> 包裹\n            return;\n        }\n        var $parent = $selectionElem.parent();\n        if ($parent.equal($textElem)) {\n            // $parent 是顶级标签，不能删除\n            return;\n        }\n\n        $selectionElem.insertAfter($parent);\n        $parent.remove();\n    },\n\n    // 试图改变 active 状态\n    tryChangeActive: function tryChangeActive(e) {\n        var editor = this.editor;\n        var $elem = this.$elem;\n        if (editor.cmd.queryCommandState('insertUnOrderedList') || editor.cmd.queryCommandState('insertOrderedList')) {\n            this._active = true;\n            $elem.addClass('w-e-active');\n        } else {\n            this._active = false;\n            $elem.removeClass('w-e-active');\n        }\n    }\n};\n\n/*\n    menu - justify\n*/\n// 构造函数\nfunction Justify(editor) {\n    var _this = this;\n\n    this.editor = editor;\n    this.$elem = $('<div class=\"w-e-menu\"><i class=\"w-e-icon-paragraph-left\"></i></div>');\n    this.type = 'droplist';\n\n    // 当前是否 active 状态\n    this._active = false;\n\n    // 初始化 droplist\n    this.droplist = new DropList(this, {\n        width: 100,\n        $title: $('<p>对齐方式</p>'),\n        type: 'list', // droplist 以列表形式展示\n        list: [{ $elem: $('<span><i class=\"w-e-icon-paragraph-left\"></i> 靠左</span>'), value: 'justifyLeft' }, { $elem: $('<span><i class=\"w-e-icon-paragraph-center\"></i> 居中</span>'), value: 'justifyCenter' }, { $elem: $('<span><i class=\"w-e-icon-paragraph-right\"></i> 靠右</span>'), value: 'justifyRight' }],\n        onClick: function onClick(value) {\n            // 注意 this 是指向当前的 List 对象\n            _this._command(value);\n        }\n    });\n}\n\n// 原型\nJustify.prototype = {\n    constructor: Justify,\n\n    // 执行命令\n    _command: function _command(value) {\n        var editor = this.editor;\n        editor.cmd.do(value);\n    }\n};\n\n/*\n    menu - Forecolor\n*/\n// 构造函数\nfunction ForeColor(editor) {\n    var _this = this;\n\n    this.editor = editor;\n    this.$elem = $('<div class=\"w-e-menu\"><i class=\"w-e-icon-pencil2\"></i></div>');\n    this.type = 'droplist';\n\n    // 获取配置的颜色\n    var config = editor.config;\n    var colors = config.colors || [];\n\n    // 当前是否 active 状态\n    this._active = false;\n\n    // 初始化 droplist\n    this.droplist = new DropList(this, {\n        width: 120,\n        $title: $('<p>文字颜色</p>'),\n        type: 'inline-block', // droplist 内容以 block 形式展示\n        list: colors.map(function (color) {\n            return { $elem: $('<i style=\"color:' + color + ';\" class=\"w-e-icon-pencil2\"></i>'), value: color };\n        }),\n        onClick: function onClick(value) {\n            // 注意 this 是指向当前的 ForeColor 对象\n            _this._command(value);\n        }\n    });\n}\n\n// 原型\nForeColor.prototype = {\n    constructor: ForeColor,\n\n    // 执行命令\n    _command: function _command(value) {\n        var editor = this.editor;\n        editor.cmd.do('foreColor', value);\n    }\n};\n\n/*\n    menu - BackColor\n*/\n// 构造函数\nfunction BackColor(editor) {\n    var _this = this;\n\n    this.editor = editor;\n    this.$elem = $('<div class=\"w-e-menu\"><i class=\"w-e-icon-paint-brush\"></i></div>');\n    this.type = 'droplist';\n\n    // 获取配置的颜色\n    var config = editor.config;\n    var colors = config.colors || [];\n\n    // 当前是否 active 状态\n    this._active = false;\n\n    // 初始化 droplist\n    this.droplist = new DropList(this, {\n        width: 120,\n        $title: $('<p>背景色</p>'),\n        type: 'inline-block', // droplist 内容以 block 形式展示\n        list: colors.map(function (color) {\n            return { $elem: $('<i style=\"color:' + color + ';\" class=\"w-e-icon-paint-brush\"></i>'), value: color };\n        }),\n        onClick: function onClick(value) {\n            // 注意 this 是指向当前的 BackColor 对象\n            _this._command(value);\n        }\n    });\n}\n\n// 原型\nBackColor.prototype = {\n    constructor: BackColor,\n\n    // 执行命令\n    _command: function _command(value) {\n        var editor = this.editor;\n        editor.cmd.do('backColor', value);\n    }\n};\n\n/*\n    menu - quote\n*/\n// 构造函数\nfunction Quote(editor) {\n    this.editor = editor;\n    this.$elem = $('<div class=\"w-e-menu\">\\n            <i class=\"w-e-icon-quotes-left\"></i>\\n        </div>');\n    this.type = 'click';\n\n    // 当前是否 active 状态\n    this._active = false;\n}\n\n// 原型\nQuote.prototype = {\n    constructor: Quote,\n\n    onClick: function onClick(e) {\n        var editor = this.editor;\n        var $selectionElem = editor.selection.getSelectionContainerElem();\n        var nodeName = $selectionElem.getNodeName();\n\n        if (!UA.isIE()) {\n            if (nodeName === 'BLOCKQUOTE') {\n                // 撤销 quote\n                editor.cmd.do('formatBlock', '<P>');\n            } else {\n                // 转换为 quote\n                editor.cmd.do('formatBlock', '<BLOCKQUOTE>');\n            }\n            return;\n        }\n\n        // IE 中不支持 formatBlock <BLOCKQUOTE> ，要用其他方式兼容\n        var content = void 0,\n            $targetELem = void 0;\n        if (nodeName === 'P') {\n            // 将 P 转换为 quote\n            content = $selectionElem.text();\n            $targetELem = $('<blockquote>' + content + '</blockquote>');\n            $targetELem.insertAfter($selectionElem);\n            $selectionElem.remove();\n            return;\n        }\n        if (nodeName === 'BLOCKQUOTE') {\n            // 撤销 quote\n            content = $selectionElem.text();\n            $targetELem = $('<p>' + content + '</p>');\n            $targetELem.insertAfter($selectionElem);\n            $selectionElem.remove();\n        }\n    },\n\n    tryChangeActive: function tryChangeActive(e) {\n        var editor = this.editor;\n        var $elem = this.$elem;\n        var reg = /^BLOCKQUOTE$/i;\n        var cmdValue = editor.cmd.queryCommandValue('formatBlock');\n        if (reg.test(cmdValue)) {\n            this._active = true;\n            $elem.addClass('w-e-active');\n        } else {\n            this._active = false;\n            $elem.removeClass('w-e-active');\n        }\n    }\n};\n\n/*\n    menu - code\n*/\n// 构造函数\nfunction Code(editor) {\n    this.editor = editor;\n    this.$elem = $('<div class=\"w-e-menu\">\\n            <i class=\"w-e-icon-terminal\"></i>\\n        </div>');\n    this.type = 'panel';\n\n    // 当前是否 active 状态\n    this._active = false;\n}\n\n// 原型\nCode.prototype = {\n    constructor: Code,\n\n    onClick: function onClick(e) {\n        var editor = this.editor;\n        var $startElem = editor.selection.getSelectionStartElem();\n        var $endElem = editor.selection.getSelectionEndElem();\n        var isSeleEmpty = editor.selection.isSelectionEmpty();\n        var selectionText = editor.selection.getSelectionText();\n        var $code = void 0;\n\n        if (!$startElem.equal($endElem)) {\n            // 跨元素选择，不做处理\n            editor.selection.restoreSelection();\n            return;\n        }\n        if (!isSeleEmpty) {\n            // 选取不是空，用 <code> 包裹即可\n            $code = $('<code>' + selectionText + '</code>');\n            editor.cmd.do('insertElem', $code);\n            editor.selection.createRangeByElem($code, false);\n            editor.selection.restoreSelection();\n            return;\n        }\n\n        // 选取是空，且没有夸元素选择，则插入 <pre><code></code></prev>\n        if (this._active) {\n            // 选中状态，将编辑内容\n            this._createPanel($startElem.html());\n        } else {\n            // 未选中状态，将创建内容\n            this._createPanel();\n        }\n    },\n\n    _createPanel: function _createPanel(value) {\n        var _this = this;\n\n        // value - 要编辑的内容\n        value = value || '';\n        var type = !value ? 'new' : 'edit';\n        var textId = getRandom('texxt');\n        var btnId = getRandom('btn');\n\n        var panel = new Panel(this, {\n            width: 500,\n            // 一个 Panel 包含多个 tab\n            tabs: [{\n                // 标题\n                title: '插入代码',\n                // 模板\n                tpl: '<div>\\n                        <textarea id=\"' + textId + '\" style=\"height:145px;;\">' + value + '</textarea>\\n                        <div class=\"w-e-button-container\">\\n                            <button id=\"' + btnId + '\" class=\"right\">\\u63D2\\u5165</button>\\n                        </div>\\n                    <div>',\n                // 事件绑定\n                events: [\n                // 插入代码\n                {\n                    selector: '#' + btnId,\n                    type: 'click',\n                    fn: function fn() {\n                        var $text = $('#' + textId);\n                        var text = $text.val() || $text.html();\n                        text = replaceHtmlSymbol(text);\n                        if (type === 'new') {\n                            // 新插入\n                            _this._insertCode(text);\n                        } else {\n                            // 编辑更新\n                            _this._updateCode(text);\n                        }\n\n                        // 返回 true，表示该事件执行完之后，panel 要关闭。否则 panel 不会关闭\n                        return true;\n                    }\n                }]\n            } // first tab end\n            ] // tabs end\n        }); // new Panel end\n\n        // 显示 panel\n        panel.show();\n\n        // 记录属性\n        this.panel = panel;\n    },\n\n    // 插入代码\n    _insertCode: function _insertCode(value) {\n        var editor = this.editor;\n        editor.cmd.do('insertHTML', '<pre><code>' + value + '</code></pre><p><br></p>');\n    },\n\n    // 更新代码\n    _updateCode: function _updateCode(value) {\n        var editor = this.editor;\n        var $selectionELem = editor.selection.getSelectionContainerElem();\n        if (!$selectionELem) {\n            return;\n        }\n        $selectionELem.html(value);\n        editor.selection.restoreSelection();\n    },\n\n    // 试图改变 active 状态\n    tryChangeActive: function tryChangeActive(e) {\n        var editor = this.editor;\n        var $elem = this.$elem;\n        var $selectionELem = editor.selection.getSelectionContainerElem();\n        if (!$selectionELem) {\n            return;\n        }\n        var $parentElem = $selectionELem.parent();\n        if ($selectionELem.getNodeName() === 'CODE' && $parentElem.getNodeName() === 'PRE') {\n            this._active = true;\n            $elem.addClass('w-e-active');\n        } else {\n            this._active = false;\n            $elem.removeClass('w-e-active');\n        }\n    }\n};\n\n/*\n    menu - emoticon\n*/\n// 构造函数\nfunction Emoticon(editor) {\n    this.editor = editor;\n    this.$elem = $('<div class=\"w-e-menu\">\\n            <i class=\"w-e-icon-happy\"></i>\\n        </div>');\n    this.type = 'panel';\n\n    // 当前是否 active 状态\n    this._active = false;\n}\n\n// 原型\nEmoticon.prototype = {\n    constructor: Emoticon,\n\n    onClick: function onClick() {\n        this._createPanel();\n    },\n\n    _createPanel: function _createPanel() {\n        var _this = this;\n\n        var editor = this.editor;\n        var config = editor.config;\n        // 获取表情配置\n        var emotions = config.emotions || [];\n\n        // 创建表情 dropPanel 的配置\n        var tabConfig = [];\n        emotions.forEach(function (emotData) {\n            var emotType = emotData.type;\n            var content = emotData.content || [];\n\n            // 这一组表情最终拼接出来的 html\n            var faceHtml = '';\n\n            // emoji 表情\n            if (emotType === 'emoji') {\n                content.forEach(function (item) {\n                    if (item) {\n                        faceHtml += '<span class=\"w-e-item\">' + item + '</span>';\n                    }\n                });\n            }\n            // 图片表情\n            if (emotType === 'image') {\n                content.forEach(function (item) {\n                    var src = item.src;\n                    var alt = item.alt;\n                    if (src) {\n                        // 加一个 data-w-e 属性，点击图片的时候不再提示编辑图片\n                        faceHtml += '<span class=\"w-e-item\"><img src=\"' + src + '\" alt=\"' + alt + '\" data-w-e=\"1\"/></span>';\n                    }\n                });\n            }\n\n            tabConfig.push({\n                title: emotData.title,\n                tpl: '<div class=\"w-e-emoticon-container\">' + faceHtml + '</div>',\n                events: [{\n                    selector: 'span.w-e-item',\n                    type: 'click',\n                    fn: function fn(e) {\n                        var target = e.target;\n                        var $target = $(target);\n                        var nodeName = $target.getNodeName();\n\n                        var insertHtml = void 0;\n                        if (nodeName === 'IMG') {\n                            // 插入图片\n                            insertHtml = $target.parent().html();\n                        } else {\n                            // 插入 emoji\n                            insertHtml = '<span>' + $target.html() + '</span>';\n                        }\n\n                        _this._insert(insertHtml);\n                        // 返回 true，表示该事件执行完之后，panel 要关闭。否则 panel 不会关闭\n                        return true;\n                    }\n                }]\n            });\n        });\n\n        var panel = new Panel(this, {\n            width: 300,\n            height: 200,\n            // 一个 Panel 包含多个 tab\n            tabs: tabConfig\n        });\n\n        // 显示 panel\n        panel.show();\n\n        // 记录属性\n        this.panel = panel;\n    },\n\n    // 插入表情\n    _insert: function _insert(emotHtml) {\n        var editor = this.editor;\n        editor.cmd.do('insertHTML', emotHtml);\n    }\n};\n\n/*\n    menu - table\n*/\n// 构造函数\nfunction Table(editor) {\n    this.editor = editor;\n    this.$elem = $('<div class=\"w-e-menu\"><i class=\"w-e-icon-table2\"></i></div>');\n    this.type = 'panel';\n\n    // 当前是否 active 状态\n    this._active = false;\n}\n\n// 原型\nTable.prototype = {\n    constructor: Table,\n\n    onClick: function onClick() {\n        if (this._active) {\n            // 编辑现有表格\n            this._createEditPanel();\n        } else {\n            // 插入新表格\n            this._createInsertPanel();\n        }\n    },\n\n    // 创建插入新表格的 panel\n    _createInsertPanel: function _createInsertPanel() {\n        var _this = this;\n\n        // 用到的 id\n        var btnInsertId = getRandom('btn');\n        var textRowNum = getRandom('row');\n        var textColNum = getRandom('col');\n\n        var panel = new Panel(this, {\n            width: 250,\n            // panel 包含多个 tab\n            tabs: [{\n                // 标题\n                title: '插入表格',\n                // 模板\n                tpl: '<div>\\n                        <p style=\"text-align:left; padding:5px 0;\">\\n                            \\u521B\\u5EFA\\n                            <input id=\"' + textRowNum + '\" type=\"text\" value=\"5\" style=\"width:40px;text-align:center;\"/>\\n                            \\u884C\\n                            <input id=\"' + textColNum + '\" type=\"text\" value=\"5\" style=\"width:40px;text-align:center;\"/>\\n                            \\u5217\\u7684\\u8868\\u683C\\n                        </p>\\n                        <div class=\"w-e-button-container\">\\n                            <button id=\"' + btnInsertId + '\" class=\"right\">\\u63D2\\u5165</button>\\n                        </div>\\n                    </div>',\n                // 事件绑定\n                events: [{\n                    // 点击按钮，插入表格\n                    selector: '#' + btnInsertId,\n                    type: 'click',\n                    fn: function fn() {\n                        var rowNum = parseInt($('#' + textRowNum).val());\n                        var colNum = parseInt($('#' + textColNum).val());\n\n                        if (rowNum && colNum && rowNum > 0 && colNum > 0) {\n                            // form 数据有效\n                            _this._insert(rowNum, colNum);\n                        }\n\n                        // 返回 true，表示该事件执行完之后，panel 要关闭。否则 panel 不会关闭\n                        return true;\n                    }\n                }]\n            } // first tab end\n            ] // tabs end\n        }); // panel end\n\n        // 展示 panel\n        panel.show();\n\n        // 记录属性\n        this.panel = panel;\n    },\n\n    // 插入表格\n    _insert: function _insert(rowNum, colNum) {\n        // 拼接 table 模板\n        var r = void 0,\n            c = void 0;\n        var html = '<table border=\"0\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\">';\n        for (r = 0; r < rowNum; r++) {\n            html += '<tr>';\n            if (r === 0) {\n                for (c = 0; c < colNum; c++) {\n                    html += '<th>&nbsp;</th>';\n                }\n            } else {\n                for (c = 0; c < colNum; c++) {\n                    html += '<td>&nbsp;</td>';\n                }\n            }\n            html += '</tr>';\n        }\n        html += '</table><p><br></p>';\n\n        // 执行命令\n        var editor = this.editor;\n        editor.cmd.do('insertHTML', html);\n\n        // 防止 firefox 下出现 resize 的控制点\n        editor.cmd.do('enableObjectResizing', false);\n        editor.cmd.do('enableInlineTableEditing', false);\n    },\n\n    // 创建编辑表格的 panel\n    _createEditPanel: function _createEditPanel() {\n        var _this2 = this;\n\n        // 可用的 id\n        var addRowBtnId = getRandom('add-row');\n        var addColBtnId = getRandom('add-col');\n        var delRowBtnId = getRandom('del-row');\n        var delColBtnId = getRandom('del-col');\n        var delTableBtnId = getRandom('del-table');\n\n        // 创建 panel 对象\n        var panel = new Panel(this, {\n            width: 320,\n            // panel 包含多个 tab\n            tabs: [{\n                // 标题\n                title: '编辑表格',\n                // 模板\n                tpl: '<div>\\n                        <div class=\"w-e-button-container\" style=\"border-bottom:1px solid #f1f1f1;padding-bottom:5px;margin-bottom:5px;\">\\n                            <button id=\"' + addRowBtnId + '\" class=\"left\">\\u589E\\u52A0\\u884C</button>\\n                            <button id=\"' + delRowBtnId + '\" class=\"red left\">\\u5220\\u9664\\u884C</button>\\n                            <button id=\"' + addColBtnId + '\" class=\"left\">\\u589E\\u52A0\\u5217</button>\\n                            <button id=\"' + delColBtnId + '\" class=\"red left\">\\u5220\\u9664\\u5217</button>\\n                        </div>\\n                        <div class=\"w-e-button-container\">\\n                            <button id=\"' + delTableBtnId + '\" class=\"gray left\">\\u5220\\u9664\\u8868\\u683C</button>\\n                        </dv>\\n                    </div>',\n                // 事件绑定\n                events: [{\n                    // 增加行\n                    selector: '#' + addRowBtnId,\n                    type: 'click',\n                    fn: function fn() {\n                        _this2._addRow();\n                        // 返回 true，表示该事件执行完之后，panel 要关闭。否则 panel 不会关闭\n                        return true;\n                    }\n                }, {\n                    // 增加列\n                    selector: '#' + addColBtnId,\n                    type: 'click',\n                    fn: function fn() {\n                        _this2._addCol();\n                        // 返回 true，表示该事件执行完之后，panel 要关闭。否则 panel 不会关闭\n                        return true;\n                    }\n                }, {\n                    // 删除行\n                    selector: '#' + delRowBtnId,\n                    type: 'click',\n                    fn: function fn() {\n                        _this2._delRow();\n                        // 返回 true，表示该事件执行完之后，panel 要关闭。否则 panel 不会关闭\n                        return true;\n                    }\n                }, {\n                    // 删除列\n                    selector: '#' + delColBtnId,\n                    type: 'click',\n                    fn: function fn() {\n                        _this2._delCol();\n                        // 返回 true，表示该事件执行完之后，panel 要关闭。否则 panel 不会关闭\n                        return true;\n                    }\n                }, {\n                    // 删除表格\n                    selector: '#' + delTableBtnId,\n                    type: 'click',\n                    fn: function fn() {\n                        _this2._delTable();\n                        // 返回 true，表示该事件执行完之后，panel 要关闭。否则 panel 不会关闭\n                        return true;\n                    }\n                }]\n            }]\n        });\n        // 显示 panel\n        panel.show();\n    },\n\n    // 获取选中的单元格的位置信息\n    _getLocationData: function _getLocationData() {\n        var result = {};\n        var editor = this.editor;\n        var $selectionELem = editor.selection.getSelectionContainerElem();\n        if (!$selectionELem) {\n            return;\n        }\n        var nodeName = $selectionELem.getNodeName();\n        if (nodeName !== 'TD' && nodeName !== 'TH') {\n            return;\n        }\n\n        // 获取 td index\n        var $tr = $selectionELem.parent();\n        var $tds = $tr.children();\n        var tdLength = $tds.length;\n        $tds.forEach(function (td, index) {\n            if (td === $selectionELem[0]) {\n                // 记录并跳出循环\n                result.td = {\n                    index: index,\n                    elem: td,\n                    length: tdLength\n                };\n                return false;\n            }\n        });\n\n        // 获取 tr index\n        var $tbody = $tr.parent();\n        var $trs = $tbody.children();\n        var trLength = $trs.length;\n        $trs.forEach(function (tr, index) {\n            if (tr === $tr[0]) {\n                // 记录并跳出循环\n                result.tr = {\n                    index: index,\n                    elem: tr,\n                    length: trLength\n                };\n                return false;\n            }\n        });\n\n        // 返回结果\n        return result;\n    },\n\n    // 增加行\n    _addRow: function _addRow() {\n        // 获取当前单元格的位置信息\n        var locationData = this._getLocationData();\n        if (!locationData) {\n            return;\n        }\n        var trData = locationData.tr;\n        var $currentTr = $(trData.elem);\n        var tdData = locationData.td;\n        var tdLength = tdData.length;\n\n        // 拼接即将插入的字符串\n        var newTr = document.createElement('tr');\n        var tpl = '',\n            i = void 0;\n        for (i = 0; i < tdLength; i++) {\n            tpl += '<td>&nbsp;</td>';\n        }\n        newTr.innerHTML = tpl;\n        // 插入\n        $(newTr).insertAfter($currentTr);\n    },\n\n    // 增加列\n    _addCol: function _addCol() {\n        // 获取当前单元格的位置信息\n        var locationData = this._getLocationData();\n        if (!locationData) {\n            return;\n        }\n        var trData = locationData.tr;\n        var tdData = locationData.td;\n        var tdIndex = tdData.index;\n        var $currentTr = $(trData.elem);\n        var $trParent = $currentTr.parent();\n        var $trs = $trParent.children();\n\n        // 遍历所有行\n        $trs.forEach(function (tr) {\n            var $tr = $(tr);\n            var $tds = $tr.children();\n            var $currentTd = $tds.get(tdIndex);\n            var name = $currentTd.getNodeName().toLowerCase();\n\n            // new 一个 td，并插入\n            var newTd = document.createElement(name);\n            $(newTd).insertAfter($currentTd);\n        });\n    },\n\n    // 删除行\n    _delRow: function _delRow() {\n        // 获取当前单元格的位置信息\n        var locationData = this._getLocationData();\n        if (!locationData) {\n            return;\n        }\n        var trData = locationData.tr;\n        var $currentTr = $(trData.elem);\n        $currentTr.remove();\n    },\n\n    // 删除列\n    _delCol: function _delCol() {\n        // 获取当前单元格的位置信息\n        var locationData = this._getLocationData();\n        if (!locationData) {\n            return;\n        }\n        var trData = locationData.tr;\n        var tdData = locationData.td;\n        var tdIndex = tdData.index;\n        var $currentTr = $(trData.elem);\n        var $trParent = $currentTr.parent();\n        var $trs = $trParent.children();\n\n        // 遍历所有行\n        $trs.forEach(function (tr) {\n            var $tr = $(tr);\n            var $tds = $tr.children();\n            var $currentTd = $tds.get(tdIndex);\n            // 删除\n            $currentTd.remove();\n        });\n    },\n\n    // 删除表格\n    _delTable: function _delTable() {\n        var editor = this.editor;\n        var $selectionELem = editor.selection.getSelectionContainerElem();\n        if (!$selectionELem) {\n            return;\n        }\n        var $table = $selectionELem.parentUntil('table');\n        if (!$table) {\n            return;\n        }\n        $table.remove();\n    },\n\n    // 试图改变 active 状态\n    tryChangeActive: function tryChangeActive(e) {\n        var editor = this.editor;\n        var $elem = this.$elem;\n        var $selectionELem = editor.selection.getSelectionContainerElem();\n        if (!$selectionELem) {\n            return;\n        }\n        var nodeName = $selectionELem.getNodeName();\n        if (nodeName === 'TD' || nodeName === 'TH') {\n            this._active = true;\n            $elem.addClass('w-e-active');\n        } else {\n            this._active = false;\n            $elem.removeClass('w-e-active');\n        }\n    }\n};\n\n/*\n    menu - video\n*/\n// 构造函数\nfunction Video(editor) {\n    this.editor = editor;\n    this.$elem = $('<div class=\"w-e-menu\"><i class=\"w-e-icon-play\"></i></div>');\n    this.type = 'panel';\n\n    // 当前是否 active 状态\n    this._active = false;\n}\n\n// 原型\nVideo.prototype = {\n    constructor: Video,\n\n    onClick: function onClick() {\n        this._createPanel();\n    },\n\n    _createPanel: function _createPanel() {\n        var _this = this;\n\n        // 创建 id\n        var textValId = getRandom('text-val');\n        var btnId = getRandom('btn');\n\n        // 创建 panel\n        var panel = new Panel(this, {\n            width: 350,\n            // 一个 panel 多个 tab\n            tabs: [{\n                // 标题\n                title: '插入视频',\n                // 模板\n                tpl: '<div>\\n                        <input id=\"' + textValId + '\" type=\"text\" class=\"block\" placeholder=\"\\u683C\\u5F0F\\u5982\\uFF1A<iframe src=... ></iframe>\"/>\\n                        <div class=\"w-e-button-container\">\\n                            <button id=\"' + btnId + '\" class=\"right\">\\u63D2\\u5165</button>\\n                        </div>\\n                    </div>',\n                // 事件绑定\n                events: [{\n                    selector: '#' + btnId,\n                    type: 'click',\n                    fn: function fn() {\n                        var $text = $('#' + textValId);\n                        var val = $text.val().trim();\n\n                        // 测试用视频地址\n                        // <iframe height=498 width=510 src='http://player.youku.com/embed/XMjcwMzc3MzM3Mg==' frameborder=0 'allowfullscreen'></iframe>\n\n                        if (val) {\n                            // 插入视频\n                            _this._insert(val);\n                        }\n\n                        // 返回 true，表示该事件执行完之后，panel 要关闭。否则 panel 不会关闭\n                        return true;\n                    }\n                }]\n            } // first tab end\n            ] // tabs end\n        }); // panel end\n\n        // 显示 panel\n        panel.show();\n\n        // 记录属性\n        this.panel = panel;\n    },\n\n    // 插入视频\n    _insert: function _insert(val) {\n        var editor = this.editor;\n        editor.cmd.do('insertHTML', val + '<p><br></p>');\n    }\n};\n\n/*\n    menu - img\n*/\n// 构造函数\nfunction Image(editor) {\n    this.editor = editor;\n    var imgMenuId = getRandom('w-e-img');\n    this.$elem = $('<div class=\"w-e-menu\" id=\"' + imgMenuId + '\"><i class=\"w-e-icon-image\"></i></div>');\n    editor.imgMenuId = imgMenuId;\n    this.type = 'panel';\n\n    // 当前是否 active 状态\n    this._active = false;\n}\n\n// 原型\nImage.prototype = {\n    constructor: Image,\n\n    onClick: function onClick() {\n        var editor = this.editor;\n        var config = editor.config;\n        if (config.qiniu) {\n            return;\n        }\n        if (this._active) {\n            this._createEditPanel();\n        } else {\n            this._createInsertPanel();\n        }\n    },\n\n    _createEditPanel: function _createEditPanel() {\n        var editor = this.editor;\n\n        // id\n        var width30 = getRandom('width-30');\n        var width50 = getRandom('width-50');\n        var width100 = getRandom('width-100');\n        var delBtn = getRandom('del-btn');\n\n        // tab 配置\n        var tabsConfig = [{\n            title: '编辑图片',\n            tpl: '<div>\\n                    <div class=\"w-e-button-container\" style=\"border-bottom:1px solid #f1f1f1;padding-bottom:5px;margin-bottom:5px;\">\\n                        <span style=\"float:left;font-size:14px;margin:4px 5px 0 5px;color:#333;\">\\u6700\\u5927\\u5BBD\\u5EA6\\uFF1A</span>\\n                        <button id=\"' + width30 + '\" class=\"left\">30%</button>\\n                        <button id=\"' + width50 + '\" class=\"left\">50%</button>\\n                        <button id=\"' + width100 + '\" class=\"left\">100%</button>\\n                    </div>\\n                    <div class=\"w-e-button-container\">\\n                        <button id=\"' + delBtn + '\" class=\"gray left\">\\u5220\\u9664\\u56FE\\u7247</button>\\n                    </dv>\\n                </div>',\n            events: [{\n                selector: '#' + width30,\n                type: 'click',\n                fn: function fn() {\n                    var $img = editor._selectedImg;\n                    if ($img) {\n                        $img.css('max-width', '30%');\n                    }\n                    // 返回 true，表示该事件执行完之后，panel 要关闭。否则 panel 不会关闭\n                    return true;\n                }\n            }, {\n                selector: '#' + width50,\n                type: 'click',\n                fn: function fn() {\n                    var $img = editor._selectedImg;\n                    if ($img) {\n                        $img.css('max-width', '50%');\n                    }\n                    // 返回 true，表示该事件执行完之后，panel 要关闭。否则 panel 不会关闭\n                    return true;\n                }\n            }, {\n                selector: '#' + width100,\n                type: 'click',\n                fn: function fn() {\n                    var $img = editor._selectedImg;\n                    if ($img) {\n                        $img.css('max-width', '100%');\n                    }\n                    // 返回 true，表示该事件执行完之后，panel 要关闭。否则 panel 不会关闭\n                    return true;\n                }\n            }, {\n                selector: '#' + delBtn,\n                type: 'click',\n                fn: function fn() {\n                    var $img = editor._selectedImg;\n                    if ($img) {\n                        $img.remove();\n                    }\n                    // 返回 true，表示该事件执行完之后，panel 要关闭。否则 panel 不会关闭\n                    return true;\n                }\n            }]\n        }];\n\n        // 创建 panel 并显示\n        var panel = new Panel(this, {\n            width: 300,\n            tabs: tabsConfig\n        });\n        panel.show();\n\n        // 记录属性\n        this.panel = panel;\n    },\n\n    _createInsertPanel: function _createInsertPanel() {\n        var editor = this.editor;\n        var uploadImg = editor.uploadImg;\n        var config = editor.config;\n\n        // id\n        var upTriggerId = getRandom('up-trigger');\n        var upFileId = getRandom('up-file');\n        var linkUrlId = getRandom('link-url');\n        var linkBtnId = getRandom('link-btn');\n\n        // tabs 的配置\n        var tabsConfig = [{\n            title: '上传图片',\n            tpl: '<div class=\"w-e-up-img-container\">\\n                    <div id=\"' + upTriggerId + '\" class=\"w-e-up-btn\">\\n                        <i class=\"w-e-icon-upload2\"></i>\\n                    </div>\\n                    <div style=\"display:none;\">\\n                        <input id=\"' + upFileId + '\" type=\"file\" multiple=\"multiple\" accept=\"image/jpg,image/jpeg,image/png,image/gif,image/bmp\"/>\\n                    </div>\\n                </div>',\n            events: [{\n                // 触发选择图片\n                selector: '#' + upTriggerId,\n                type: 'click',\n                fn: function fn() {\n                    var $file = $('#' + upFileId);\n                    var fileElem = $file[0];\n                    if (fileElem) {\n                        fileElem.click();\n                    } else {\n                        // 返回 true 可关闭 panel\n                        return true;\n                    }\n                }\n            }, {\n                // 选择图片完毕\n                selector: '#' + upFileId,\n                type: 'change',\n                fn: function fn() {\n                    var $file = $('#' + upFileId);\n                    var fileElem = $file[0];\n                    if (!fileElem) {\n                        // 返回 true 可关闭 panel\n                        return true;\n                    }\n\n                    // 获取选中的 file 对象列表\n                    var fileList = fileElem.files;\n                    if (fileList.length) {\n                        uploadImg.uploadImg(fileList);\n                    }\n\n                    // 返回 true 可关闭 panel\n                    return true;\n                }\n            }]\n        }, // first tab end\n        {\n            title: '网络图片',\n            tpl: '<div>\\n                    <input id=\"' + linkUrlId + '\" type=\"text\" class=\"block\" placeholder=\"\\u56FE\\u7247\\u94FE\\u63A5\"/></td>\\n                    <div class=\"w-e-button-container\">\\n                        <button id=\"' + linkBtnId + '\" class=\"right\">\\u63D2\\u5165</button>\\n                    </div>\\n                </div>',\n            events: [{\n                selector: '#' + linkBtnId,\n                type: 'click',\n                fn: function fn() {\n                    var $linkUrl = $('#' + linkUrlId);\n                    var url = $linkUrl.val().trim();\n\n                    if (url) {\n                        uploadImg.insertLinkImg(url);\n                    }\n\n                    // 返回 true 表示函数执行结束之后关闭 panel\n                    return true;\n                }\n            }]\n        } // second tab end\n        ]; // tabs end\n\n        // 判断 tabs 的显示\n        var tabsConfigResult = [];\n        if ((config.uploadImgShowBase64 || config.uploadImgServer || config.customUploadImg) && window.FileReader) {\n            // 显示“上传图片”\n            tabsConfigResult.push(tabsConfig[0]);\n        }\n        if (config.showLinkImg) {\n            // 显示“网络图片”\n            tabsConfigResult.push(tabsConfig[1]);\n        }\n\n        // 创建 panel 并显示\n        var panel = new Panel(this, {\n            width: 300,\n            tabs: tabsConfigResult\n        });\n        panel.show();\n\n        // 记录属性\n        this.panel = panel;\n    },\n\n    // 试图改变 active 状态\n    tryChangeActive: function tryChangeActive(e) {\n        var editor = this.editor;\n        var $elem = this.$elem;\n        if (editor._selectedImg) {\n            this._active = true;\n            $elem.addClass('w-e-active');\n        } else {\n            this._active = false;\n            $elem.removeClass('w-e-active');\n        }\n    }\n};\n\n/*\n    所有菜单的汇总\n*/\n\n// 存储菜单的构造函数\nvar MenuConstructors = {};\n\nMenuConstructors.bold = Bold;\n\nMenuConstructors.head = Head;\n\nMenuConstructors.fontSize = FontSize;\n\nMenuConstructors.fontName = FontName;\n\nMenuConstructors.link = Link;\n\nMenuConstructors.italic = Italic;\n\nMenuConstructors.redo = Redo;\n\nMenuConstructors.strikeThrough = StrikeThrough;\n\nMenuConstructors.underline = Underline;\n\nMenuConstructors.undo = Undo;\n\nMenuConstructors.list = List;\n\nMenuConstructors.justify = Justify;\n\nMenuConstructors.foreColor = ForeColor;\n\nMenuConstructors.backColor = BackColor;\n\nMenuConstructors.quote = Quote;\n\nMenuConstructors.code = Code;\n\nMenuConstructors.emoticon = Emoticon;\n\nMenuConstructors.table = Table;\n\nMenuConstructors.video = Video;\n\nMenuConstructors.image = Image;\n\n/*\n    菜单集合\n*/\n// 构造函数\nfunction Menus(editor) {\n    this.editor = editor;\n    this.menus = {};\n}\n\n// 修改原型\nMenus.prototype = {\n    constructor: Menus,\n\n    // 初始化菜单\n    init: function init() {\n        var _this = this;\n\n        var editor = this.editor;\n        var config = editor.config || {};\n        var configMenus = config.menus || []; // 获取配置中的菜单\n\n        // 根据配置信息，创建菜单\n        configMenus.forEach(function (menuKey) {\n            var MenuConstructor = MenuConstructors[menuKey];\n            if (MenuConstructor && typeof MenuConstructor === 'function') {\n                // 创建单个菜单\n                _this.menus[menuKey] = new MenuConstructor(editor);\n            }\n        });\n\n        // 添加到菜单栏\n        this._addToToolbar();\n\n        // 绑定事件\n        this._bindEvent();\n    },\n\n    // 添加到菜单栏\n    _addToToolbar: function _addToToolbar() {\n        var editor = this.editor;\n        var $toolbarElem = editor.$toolbarElem;\n        var menus = this.menus;\n        var config = editor.config;\n        // config.zIndex 是配置的编辑区域的 z-index，菜单的 z-index 得在其基础上 +1\n        var zIndex = config.zIndex + 1;\n        objForEach(menus, function (key, menu) {\n            var $elem = menu.$elem;\n            if ($elem) {\n                // 设置 z-index\n                $elem.css('z-index', zIndex);\n                $toolbarElem.append($elem);\n            }\n        });\n    },\n\n    // 绑定菜单 click mouseenter 事件\n    _bindEvent: function _bindEvent() {\n        var menus = this.menus;\n        var editor = this.editor;\n        objForEach(menus, function (key, menu) {\n            var type = menu.type;\n            if (!type) {\n                return;\n            }\n            var $elem = menu.$elem;\n            var droplist = menu.droplist;\n            var panel = menu.panel;\n\n            // 点击类型，例如 bold\n            if (type === 'click' && menu.onClick) {\n                $elem.on('click', function (e) {\n                    if (editor.selection.getRange() == null) {\n                        return;\n                    }\n                    menu.onClick(e);\n                });\n            }\n\n            // 下拉框，例如 head\n            if (type === 'droplist' && droplist) {\n                $elem.on('mouseenter', function (e) {\n                    if (editor.selection.getRange() == null) {\n                        return;\n                    }\n                    // 显示\n                    droplist.showTimeoutId = setTimeout(function () {\n                        droplist.show();\n                    }, 200);\n                }).on('mouseleave', function (e) {\n                    // 隐藏\n                    droplist.hideTimeoutId = setTimeout(function () {\n                        droplist.hide();\n                    }, 0);\n                });\n            }\n\n            // 弹框类型，例如 link\n            if (type === 'panel' && menu.onClick) {\n                $elem.on('click', function (e) {\n                    e.stopPropagation();\n                    if (editor.selection.getRange() == null) {\n                        return;\n                    }\n                    // 在自定义事件中显示 panel\n                    menu.onClick(e);\n                });\n            }\n        });\n    },\n\n    // 尝试修改菜单状态\n    changeActive: function changeActive() {\n        var menus = this.menus;\n        objForEach(menus, function (key, menu) {\n            if (menu.tryChangeActive) {\n                setTimeout(function () {\n                    menu.tryChangeActive();\n                }, 100);\n            }\n        });\n    }\n};\n\n/*\n    粘贴信息的处理\n*/\n\n// 获取粘贴的纯文本\nfunction getPasteText(e) {\n    var clipboardData = e.clipboardData || e.originalEvent && e.originalEvent.clipboardData;\n    var pasteText = void 0;\n    if (clipboardData == null) {\n        pasteText = window.clipboardData && window.clipboardData.getData('text');\n    } else {\n        pasteText = clipboardData.getData('text/plain');\n    }\n\n    return replaceHtmlSymbol(pasteText);\n}\n\n// 获取粘贴的html\nfunction getPasteHtml(e, filterStyle, ignoreImg) {\n    var clipboardData = e.clipboardData || e.originalEvent && e.originalEvent.clipboardData;\n    var pasteText = void 0,\n        pasteHtml = void 0;\n    if (clipboardData == null) {\n        pasteText = window.clipboardData && window.clipboardData.getData('text');\n    } else {\n        pasteText = clipboardData.getData('text/plain');\n        pasteHtml = clipboardData.getData('text/html');\n    }\n    if (!pasteHtml && pasteText) {\n        pasteHtml = '<p>' + replaceHtmlSymbol(pasteText) + '</p>';\n    }\n    if (!pasteHtml) {\n        return;\n    }\n\n    // 过滤word中状态过来的无用字符\n    var docSplitHtml = pasteHtml.split('</html>');\n    if (docSplitHtml.length === 2) {\n        pasteHtml = docSplitHtml[0];\n    }\n\n    // 过滤无用标签\n    pasteHtml = pasteHtml.replace(/<(meta|script|link).+?>/igm, '');\n    // 去掉注释\n    pasteHtml = pasteHtml.replace(/<!--.*?-->/mg, '');\n    // 过滤 data-xxx 属性\n    pasteHtml = pasteHtml.replace(/\\s?data-.+?=('|\").+?('|\")/igm, '');\n\n    if (ignoreImg) {\n        // 忽略图片\n        pasteHtml = pasteHtml.replace(/<img.+?>/igm, '');\n    }\n\n    if (filterStyle) {\n        // 过滤样式\n        pasteHtml = pasteHtml.replace(/\\s?(class|style)=('|\").*?('|\")/igm, '');\n    } else {\n        // 保留样式\n        pasteHtml = pasteHtml.replace(/\\s?class=('|\").*?('|\")/igm, '');\n    }\n\n    return pasteHtml;\n}\n\n// 获取粘贴的图片文件\nfunction getPasteImgs(e) {\n    var result = [];\n    var txt = getPasteText(e);\n    if (txt) {\n        // 有文字，就忽略图片\n        return result;\n    }\n\n    var clipboardData = e.clipboardData || e.originalEvent && e.originalEvent.clipboardData || {};\n    var items = clipboardData.items;\n    if (!items) {\n        return result;\n    }\n\n    objForEach(items, function (key, value) {\n        var type = value.type;\n        if (/image/i.test(type)) {\n            result.push(value.getAsFile());\n        }\n    });\n\n    return result;\n}\n\n/*\n    编辑区域\n*/\n\n// 获取一个 elem.childNodes 的 JSON 数据\nfunction getChildrenJSON($elem) {\n    var result = [];\n    var $children = $elem.childNodes() || []; // 注意 childNodes() 可以获取文本节点\n    $children.forEach(function (curElem) {\n        var elemResult = void 0;\n        var nodeType = curElem.nodeType;\n\n        // 文本节点\n        if (nodeType === 3) {\n            elemResult = curElem.textContent;\n            elemResult = replaceHtmlSymbol(elemResult);\n        }\n\n        // 普通 DOM 节点\n        if (nodeType === 1) {\n            elemResult = {};\n\n            // tag\n            elemResult.tag = curElem.nodeName.toLowerCase();\n            // attr\n            var attrData = [];\n            var attrList = curElem.attributes || {};\n            var attrListLength = attrList.length || 0;\n            for (var i = 0; i < attrListLength; i++) {\n                var attr = attrList[i];\n                attrData.push({\n                    name: attr.name,\n                    value: attr.value\n                });\n            }\n            elemResult.attrs = attrData;\n            // children（递归）\n            elemResult.children = getChildrenJSON($(curElem));\n        }\n\n        result.push(elemResult);\n    });\n    return result;\n}\n\n// 构造函数\nfunction Text(editor) {\n    this.editor = editor;\n}\n\n// 修改原型\nText.prototype = {\n    constructor: Text,\n\n    // 初始化\n    init: function init() {\n        // 绑定事件\n        this._bindEvent();\n    },\n\n    // 清空内容\n    clear: function clear() {\n        this.html('<p><br></p>');\n    },\n\n    // 获取 设置 html\n    html: function html(val) {\n        var editor = this.editor;\n        var $textElem = editor.$textElem;\n        var html = void 0;\n        if (val == null) {\n            html = $textElem.html();\n            // 未选中任何内容的时候点击“加粗”或者“斜体”等按钮，就得需要一个空的占位符 &#8203 ，这里替换掉\n            html = html.replace(/\\u200b/gm, '');\n            return html;\n        } else {\n            $textElem.html(val);\n\n            // 初始化选取，将光标定位到内容尾部\n            editor.initSelection();\n        }\n    },\n\n    // 获取 JSON\n    getJSON: function getJSON() {\n        var editor = this.editor;\n        var $textElem = editor.$textElem;\n        return getChildrenJSON($textElem);\n    },\n\n    // 获取 设置 text\n    text: function text(val) {\n        var editor = this.editor;\n        var $textElem = editor.$textElem;\n        var text = void 0;\n        if (val == null) {\n            text = $textElem.text();\n            // 未选中任何内容的时候点击“加粗”或者“斜体”等按钮，就得需要一个空的占位符 &#8203 ，这里替换掉\n            text = text.replace(/\\u200b/gm, '');\n            return text;\n        } else {\n            $textElem.text('<p>' + val + '</p>');\n\n            // 初始化选取，将光标定位到内容尾部\n            editor.initSelection();\n        }\n    },\n\n    // 追加内容\n    append: function append(html) {\n        var editor = this.editor;\n        var $textElem = editor.$textElem;\n        $textElem.append($(html));\n\n        // 初始化选取，将光标定位到内容尾部\n        editor.initSelection();\n    },\n\n    // 绑定事件\n    _bindEvent: function _bindEvent() {\n        // 实时保存选取\n        this._saveRangeRealTime();\n\n        // 按回车建时的特殊处理\n        this._enterKeyHandle();\n\n        // 清空时保留 <p><br></p>\n        this._clearHandle();\n\n        // 粘贴事件（粘贴文字，粘贴图片）\n        this._pasteHandle();\n\n        // tab 特殊处理\n        this._tabHandle();\n\n        // img 点击\n        this._imgHandle();\n\n        // 拖拽事件\n        this._dragHandle();\n    },\n\n    // 实时保存选取\n    _saveRangeRealTime: function _saveRangeRealTime() {\n        var editor = this.editor;\n        var $textElem = editor.$textElem;\n\n        // 保存当前的选区\n        function saveRange(e) {\n            // 随时保存选区\n            editor.selection.saveRange();\n            // 更新按钮 ative 状态\n            editor.menus.changeActive();\n        }\n        // 按键后保存\n        $textElem.on('keyup', saveRange);\n        $textElem.on('mousedown', function (e) {\n            // mousedown 状态下，鼠标滑动到编辑区域外面，也需要保存选区\n            $textElem.on('mouseleave', saveRange);\n        });\n        $textElem.on('mouseup', function (e) {\n            saveRange();\n            // 在编辑器区域之内完成点击，取消鼠标滑动到编辑区外面的事件\n            $textElem.off('mouseleave', saveRange);\n        });\n    },\n\n    // 按回车键时的特殊处理\n    _enterKeyHandle: function _enterKeyHandle() {\n        var editor = this.editor;\n        var $textElem = editor.$textElem;\n\n        function insertEmptyP($selectionElem) {\n            var $p = $('<p><br></p>');\n            $p.insertBefore($selectionElem);\n            editor.selection.createRangeByElem($p, true);\n            editor.selection.restoreSelection();\n            $selectionElem.remove();\n        }\n\n        // 将回车之后生成的非 <p> 的顶级标签，改为 <p>\n        function pHandle(e) {\n            var $selectionElem = editor.selection.getSelectionContainerElem();\n            var $parentElem = $selectionElem.parent();\n\n            if ($parentElem.html() === '<code><br></code>') {\n                // 回车之前光标所在一个 <p><code>.....</code></p> ，忽然回车生成一个空的 <p><code><br></code></p>\n                // 而且继续回车跳不出去，因此只能特殊处理\n                insertEmptyP($selectionElem);\n                return;\n            }\n\n            if (!$parentElem.equal($textElem)) {\n                // 不是顶级标签\n                return;\n            }\n\n            var nodeName = $selectionElem.getNodeName();\n            if (nodeName === 'P') {\n                // 当前的标签是 P ，不用做处理\n                return;\n            }\n\n            if ($selectionElem.text()) {\n                // 有内容，不做处理\n                return;\n            }\n\n            // 插入 <p> ，并将选取定位到 <p>，删除当前标签\n            insertEmptyP($selectionElem);\n        }\n\n        $textElem.on('keyup', function (e) {\n            if (e.keyCode !== 13) {\n                // 不是回车键\n                return;\n            }\n            // 将回车之后生成的非 <p> 的顶级标签，改为 <p>\n            pHandle(e);\n        });\n\n        // <pre><code></code></pre> 回车时 特殊处理\n        function codeHandle(e) {\n            var $selectionElem = editor.selection.getSelectionContainerElem();\n            if (!$selectionElem) {\n                return;\n            }\n            var $parentElem = $selectionElem.parent();\n            var selectionNodeName = $selectionElem.getNodeName();\n            var parentNodeName = $parentElem.getNodeName();\n\n            if (selectionNodeName !== 'CODE' || parentNodeName !== 'PRE') {\n                // 不符合要求 忽略\n                return;\n            }\n\n            if (!editor.cmd.queryCommandSupported('insertHTML')) {\n                // 必须原生支持 insertHTML 命令\n                return;\n            }\n\n            // 处理：光标定位到代码末尾，联系点击两次回车，即跳出代码块\n            if (editor._willBreakCode === true) {\n                // 此时可以跳出代码块\n                // 插入 <p> ，并将选取定位到 <p>\n                var $p = $('<p><br></p>');\n                $p.insertAfter($parentElem);\n                editor.selection.createRangeByElem($p, true);\n                editor.selection.restoreSelection();\n\n                // 修改状态\n                editor._willBreakCode = false;\n\n                e.preventDefault();\n                return;\n            }\n\n            var _startOffset = editor.selection.getRange().startOffset;\n\n            // 处理：回车时，不能插入 <br> 而是插入 \\n ，因为是在 pre 标签里面\n            editor.cmd.do('insertHTML', '\\n');\n            editor.selection.saveRange();\n            if (editor.selection.getRange().startOffset === _startOffset) {\n                // 没起作用，再来一遍\n                editor.cmd.do('insertHTML', '\\n');\n            }\n\n            var codeLength = $selectionElem.html().length;\n            if (editor.selection.getRange().startOffset + 1 === codeLength) {\n                // 说明光标在代码最后的位置，执行了回车操作\n                // 记录下来，以便下次回车时候跳出 code\n                editor._willBreakCode = true;\n            }\n\n            // 阻止默认行为\n            e.preventDefault();\n        }\n\n        $textElem.on('keydown', function (e) {\n            if (e.keyCode !== 13) {\n                // 不是回车键\n                // 取消即将跳转代码块的记录\n                editor._willBreakCode = false;\n                return;\n            }\n            // <pre><code></code></pre> 回车时 特殊处理\n            codeHandle(e);\n        });\n    },\n\n    // 清空时保留 <p><br></p>\n    _clearHandle: function _clearHandle() {\n        var editor = this.editor;\n        var $textElem = editor.$textElem;\n\n        $textElem.on('keydown', function (e) {\n            if (e.keyCode !== 8) {\n                return;\n            }\n            var txtHtml = $textElem.html().toLowerCase().trim();\n            if (txtHtml === '<p><br></p>') {\n                // 最后剩下一个空行，就不再删除了\n                e.preventDefault();\n                return;\n            }\n        });\n\n        $textElem.on('keyup', function (e) {\n            if (e.keyCode !== 8) {\n                return;\n            }\n            var $p = void 0;\n            var txtHtml = $textElem.html().toLowerCase().trim();\n\n            // firefox 时用 txtHtml === '<br>' 判断，其他用 !txtHtml 判断\n            if (!txtHtml || txtHtml === '<br>') {\n                // 内容空了\n                $p = $('<p><br/></p>');\n                $textElem.html(''); // 一定要先清空，否则在 firefox 下有问题\n                $textElem.append($p);\n                editor.selection.createRangeByElem($p, false, true);\n                editor.selection.restoreSelection();\n            }\n        });\n    },\n\n    // 粘贴事件（粘贴文字 粘贴图片）\n    _pasteHandle: function _pasteHandle() {\n        var editor = this.editor;\n        var config = editor.config;\n        var pasteFilterStyle = config.pasteFilterStyle;\n        var pasteTextHandle = config.pasteTextHandle;\n        var ignoreImg = config.pasteIgnoreImg;\n        var $textElem = editor.$textElem;\n\n        // 粘贴图片、文本的事件，每次只能执行一个\n        // 判断该次粘贴事件是否可以执行\n        var pasteTime = 0;\n        function canDo() {\n            var now = Date.now();\n            var flag = false;\n            if (now - pasteTime >= 100) {\n                // 间隔大于 100 ms ，可以执行\n                flag = true;\n            }\n            pasteTime = now;\n            return flag;\n        }\n        function resetTime() {\n            pasteTime = 0;\n        }\n\n        // 粘贴文字\n        $textElem.on('paste', function (e) {\n            if (UA.isIE()) {\n                return;\n            } else {\n                // 阻止默认行为，使用 execCommand 的粘贴命令\n                e.preventDefault();\n            }\n\n            // 粘贴图片和文本，只能同时使用一个\n            if (!canDo()) {\n                return;\n            }\n\n            // 获取粘贴的文字\n            var pasteHtml = getPasteHtml(e, pasteFilterStyle, ignoreImg);\n            var pasteText = getPasteText(e);\n            pasteText = pasteText.replace(/\\n/gm, '<br>');\n\n            var $selectionElem = editor.selection.getSelectionContainerElem();\n            if (!$selectionElem) {\n                return;\n            }\n            var nodeName = $selectionElem.getNodeName();\n\n            // code 中只能粘贴纯文本\n            if (nodeName === 'CODE' || nodeName === 'PRE') {\n                if (pasteTextHandle && isFunction(pasteTextHandle)) {\n                    // 用户自定义过滤处理粘贴内容\n                    pasteText = '' + (pasteTextHandle(pasteText) || '');\n                }\n                editor.cmd.do('insertHTML', '<p>' + pasteText + '</p>');\n                return;\n            }\n\n            // 先放开注释，有问题再追查 ————\n            // // 表格中忽略，可能会出现异常问题\n            // if (nodeName === 'TD' || nodeName === 'TH') {\n            //     return\n            // }\n\n            if (!pasteHtml) {\n                // 没有内容，可继续执行下面的图片粘贴\n                resetTime();\n                return;\n            }\n            try {\n                // firefox 中，获取的 pasteHtml 可能是没有 <ul> 包裹的 <li>\n                // 因此执行 insertHTML 会报错\n                if (pasteTextHandle && isFunction(pasteTextHandle)) {\n                    // 用户自定义过滤处理粘贴内容\n                    pasteHtml = '' + (pasteTextHandle(pasteHtml) || '');\n                }\n                editor.cmd.do('insertHTML', pasteHtml);\n            } catch (ex) {\n                // 此时使用 pasteText 来兼容一下\n                if (pasteTextHandle && isFunction(pasteTextHandle)) {\n                    // 用户自定义过滤处理粘贴内容\n                    pasteText = '' + (pasteTextHandle(pasteText) || '');\n                }\n                editor.cmd.do('insertHTML', '<p>' + pasteText + '</p>');\n            }\n        });\n\n        // 粘贴图片\n        $textElem.on('paste', function (e) {\n            if (UA.isIE()) {\n                return;\n            } else {\n                e.preventDefault();\n            }\n\n            // 粘贴图片和文本，只能同时使用一个\n            if (!canDo()) {\n                return;\n            }\n\n            // 获取粘贴的图片\n            var pasteFiles = getPasteImgs(e);\n            if (!pasteFiles || !pasteFiles.length) {\n                return;\n            }\n\n            // 获取当前的元素\n            var $selectionElem = editor.selection.getSelectionContainerElem();\n            if (!$selectionElem) {\n                return;\n            }\n            var nodeName = $selectionElem.getNodeName();\n\n            // code 中粘贴忽略\n            if (nodeName === 'CODE' || nodeName === 'PRE') {\n                return;\n            }\n\n            // 上传图片\n            var uploadImg = editor.uploadImg;\n            uploadImg.uploadImg(pasteFiles);\n        });\n    },\n\n    // tab 特殊处理\n    _tabHandle: function _tabHandle() {\n        var editor = this.editor;\n        var $textElem = editor.$textElem;\n\n        $textElem.on('keydown', function (e) {\n            if (e.keyCode !== 9) {\n                return;\n            }\n            if (!editor.cmd.queryCommandSupported('insertHTML')) {\n                // 必须原生支持 insertHTML 命令\n                return;\n            }\n            var $selectionElem = editor.selection.getSelectionContainerElem();\n            if (!$selectionElem) {\n                return;\n            }\n            var $parentElem = $selectionElem.parent();\n            var selectionNodeName = $selectionElem.getNodeName();\n            var parentNodeName = $parentElem.getNodeName();\n\n            if (selectionNodeName === 'CODE' && parentNodeName === 'PRE') {\n                // <pre><code> 里面\n                editor.cmd.do('insertHTML', '    ');\n            } else {\n                // 普通文字\n                editor.cmd.do('insertHTML', '&nbsp;&nbsp;&nbsp;&nbsp;');\n            }\n\n            e.preventDefault();\n        });\n    },\n\n    // img 点击\n    _imgHandle: function _imgHandle() {\n        var editor = this.editor;\n        var $textElem = editor.$textElem;\n\n        // 为图片增加 selected 样式\n        $textElem.on('click', 'img', function (e) {\n            var img = this;\n            var $img = $(img);\n\n            if ($img.attr('data-w-e') === '1') {\n                // 是表情图片，忽略\n                return;\n            }\n\n            // 记录当前点击过的图片\n            editor._selectedImg = $img;\n\n            // 修改选区并 restore ，防止用户此时点击退格键，会删除其他内容\n            editor.selection.createRangeByElem($img);\n            editor.selection.restoreSelection();\n        });\n\n        // 去掉图片的 selected 样式\n        $textElem.on('click  keyup', function (e) {\n            if (e.target.matches('img')) {\n                // 点击的是图片，忽略\n                return;\n            }\n            // 删除记录\n            editor._selectedImg = null;\n        });\n    },\n\n    // 拖拽事件\n    _dragHandle: function _dragHandle() {\n        var editor = this.editor;\n\n        // 禁用 document 拖拽事件\n        var $document = $(document);\n        $document.on('dragleave drop dragenter dragover', function (e) {\n            e.preventDefault();\n        });\n\n        // 添加编辑区域拖拽事件\n        var $textElem = editor.$textElem;\n        $textElem.on('drop', function (e) {\n            e.preventDefault();\n            var files = e.dataTransfer && e.dataTransfer.files;\n            if (!files || !files.length) {\n                return;\n            }\n\n            // 上传图片\n            var uploadImg = editor.uploadImg;\n            uploadImg.uploadImg(files);\n        });\n    }\n};\n\n/*\n    命令，封装 document.execCommand\n*/\n\n// 构造函数\nfunction Command(editor) {\n    this.editor = editor;\n}\n\n// 修改原型\nCommand.prototype = {\n    constructor: Command,\n\n    // 执行命令\n    do: function _do(name, value) {\n        var editor = this.editor;\n\n        // 使用 styleWithCSS\n        if (!editor._useStyleWithCSS) {\n            document.execCommand('styleWithCSS', null, true);\n            editor._useStyleWithCSS = true;\n        }\n\n        // 如果无选区，忽略\n        if (!editor.selection.getRange()) {\n            return;\n        }\n\n        // 恢复选取\n        editor.selection.restoreSelection();\n\n        // 执行\n        var _name = '_' + name;\n        if (this[_name]) {\n            // 有自定义事件\n            this[_name](value);\n        } else {\n            // 默认 command\n            this._execCommand(name, value);\n        }\n\n        // 修改菜单状态\n        editor.menus.changeActive();\n\n        // 最后，恢复选取保证光标在原来的位置闪烁\n        editor.selection.saveRange();\n        editor.selection.restoreSelection();\n\n        // 触发 onchange\n        editor.change && editor.change();\n    },\n\n    // 自定义 insertHTML 事件\n    _insertHTML: function _insertHTML(html) {\n        var editor = this.editor;\n        var range = editor.selection.getRange();\n\n        if (this.queryCommandSupported('insertHTML')) {\n            // W3C\n            this._execCommand('insertHTML', html);\n        } else if (range.insertNode) {\n            // IE\n            range.deleteContents();\n            range.insertNode($(html)[0]);\n        } else if (range.pasteHTML) {\n            // IE <= 10\n            range.pasteHTML(html);\n        }\n    },\n\n    // 插入 elem\n    _insertElem: function _insertElem($elem) {\n        var editor = this.editor;\n        var range = editor.selection.getRange();\n\n        if (range.insertNode) {\n            range.deleteContents();\n            range.insertNode($elem[0]);\n        }\n    },\n\n    // 封装 execCommand\n    _execCommand: function _execCommand(name, value) {\n        document.execCommand(name, false, value);\n    },\n\n    // 封装 document.queryCommandValue\n    queryCommandValue: function queryCommandValue(name) {\n        return document.queryCommandValue(name);\n    },\n\n    // 封装 document.queryCommandState\n    queryCommandState: function queryCommandState(name) {\n        return document.queryCommandState(name);\n    },\n\n    // 封装 document.queryCommandSupported\n    queryCommandSupported: function queryCommandSupported(name) {\n        return document.queryCommandSupported(name);\n    }\n};\n\n/*\n    selection range API\n*/\n\n// 构造函数\nfunction API(editor) {\n    this.editor = editor;\n    this._currentRange = null;\n}\n\n// 修改原型\nAPI.prototype = {\n    constructor: API,\n\n    // 获取 range 对象\n    getRange: function getRange() {\n        return this._currentRange;\n    },\n\n    // 保存选区\n    saveRange: function saveRange(_range) {\n        if (_range) {\n            // 保存已有选区\n            this._currentRange = _range;\n            return;\n        }\n\n        // 获取当前的选区\n        var selection = window.getSelection();\n        if (selection.rangeCount === 0) {\n            return;\n        }\n        var range = selection.getRangeAt(0);\n\n        // 判断选区内容是否在编辑内容之内\n        var $containerElem = this.getSelectionContainerElem(range);\n        if (!$containerElem) {\n            return;\n        }\n\n        // 判断选区内容是否在不可编辑区域之内\n        if ($containerElem.attr('contenteditable') === 'false' || $containerElem.parentUntil('[contenteditable=false]')) {\n            return;\n        }\n\n        var editor = this.editor;\n        var $textElem = editor.$textElem;\n        if ($textElem.isContain($containerElem)) {\n            // 是编辑内容之内的\n            this._currentRange = range;\n        }\n    },\n\n    // 折叠选区\n    collapseRange: function collapseRange(toStart) {\n        if (toStart == null) {\n            // 默认为 false\n            toStart = false;\n        }\n        var range = this._currentRange;\n        if (range) {\n            range.collapse(toStart);\n        }\n    },\n\n    // 选中区域的文字\n    getSelectionText: function getSelectionText() {\n        var range = this._currentRange;\n        if (range) {\n            return this._currentRange.toString();\n        } else {\n            return '';\n        }\n    },\n\n    // 选区的 $Elem\n    getSelectionContainerElem: function getSelectionContainerElem(range) {\n        range = range || this._currentRange;\n        var elem = void 0;\n        if (range) {\n            elem = range.commonAncestorContainer;\n            return $(elem.nodeType === 1 ? elem : elem.parentNode);\n        }\n    },\n    getSelectionStartElem: function getSelectionStartElem(range) {\n        range = range || this._currentRange;\n        var elem = void 0;\n        if (range) {\n            elem = range.startContainer;\n            return $(elem.nodeType === 1 ? elem : elem.parentNode);\n        }\n    },\n    getSelectionEndElem: function getSelectionEndElem(range) {\n        range = range || this._currentRange;\n        var elem = void 0;\n        if (range) {\n            elem = range.endContainer;\n            return $(elem.nodeType === 1 ? elem : elem.parentNode);\n        }\n    },\n\n    // 选区是否为空\n    isSelectionEmpty: function isSelectionEmpty() {\n        var range = this._currentRange;\n        if (range && range.startContainer) {\n            if (range.startContainer === range.endContainer) {\n                if (range.startOffset === range.endOffset) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    },\n\n    // 恢复选区\n    restoreSelection: function restoreSelection() {\n        var selection = window.getSelection();\n        selection.removeAllRanges();\n        selection.addRange(this._currentRange);\n    },\n\n    // 创建一个空白（即 &#8203 字符）选区\n    createEmptyRange: function createEmptyRange() {\n        var editor = this.editor;\n        var range = this.getRange();\n        var $elem = void 0;\n\n        if (!range) {\n            // 当前无 range\n            return;\n        }\n        if (!this.isSelectionEmpty()) {\n            // 当前选区必须没有内容才可以\n            return;\n        }\n\n        try {\n            // 目前只支持 webkit 内核\n            if (UA.isWebkit()) {\n                // 插入 &#8203\n                editor.cmd.do('insertHTML', '&#8203;');\n                // 修改 offset 位置\n                range.setEnd(range.endContainer, range.endOffset + 1);\n                // 存储\n                this.saveRange(range);\n            } else {\n                $elem = $('<strong>&#8203;</strong>');\n                editor.cmd.do('insertElem', $elem);\n                this.createRangeByElem($elem, true);\n            }\n        } catch (ex) {\n            // 部分情况下会报错，兼容一下\n        }\n    },\n\n    // 根据 $Elem 设置选区\n    createRangeByElem: function createRangeByElem($elem, toStart, isContent) {\n        // $elem - 经过封装的 elem\n        // toStart - true 开始位置，false 结束位置\n        // isContent - 是否选中Elem的内容\n        if (!$elem.length) {\n            return;\n        }\n\n        var elem = $elem[0];\n        var range = document.createRange();\n\n        if (isContent) {\n            range.selectNodeContents(elem);\n        } else {\n            range.selectNode(elem);\n        }\n\n        if (typeof toStart === 'boolean') {\n            range.collapse(toStart);\n        }\n\n        // 存储 range\n        this.saveRange(range);\n    }\n};\n\n/*\n    上传进度条\n*/\n\nfunction Progress(editor) {\n    this.editor = editor;\n    this._time = 0;\n    this._isShow = false;\n    this._isRender = false;\n    this._timeoutId = 0;\n    this.$textContainer = editor.$textContainerElem;\n    this.$bar = $('<div class=\"w-e-progress\"></div>');\n}\n\nProgress.prototype = {\n    constructor: Progress,\n\n    show: function show(progress) {\n        var _this = this;\n\n        // 状态处理\n        if (this._isShow) {\n            return;\n        }\n        this._isShow = true;\n\n        // 渲染\n        var $bar = this.$bar;\n        if (!this._isRender) {\n            var $textContainer = this.$textContainer;\n            $textContainer.append($bar);\n        } else {\n            this._isRender = true;\n        }\n\n        // 改变进度（节流，100ms 渲染一次）\n        if (Date.now() - this._time > 100) {\n            if (progress <= 1) {\n                $bar.css('width', progress * 100 + '%');\n                this._time = Date.now();\n            }\n        }\n\n        // 隐藏\n        var timeoutId = this._timeoutId;\n        if (timeoutId) {\n            clearTimeout(timeoutId);\n        }\n        timeoutId = setTimeout(function () {\n            _this._hide();\n        }, 500);\n    },\n\n    _hide: function _hide() {\n        var $bar = this.$bar;\n        $bar.remove();\n\n        // 修改状态\n        this._time = 0;\n        this._isShow = false;\n        this._isRender = false;\n    }\n};\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\n/*\n    上传图片\n*/\n\n// 构造函数\nfunction UploadImg(editor) {\n    this.editor = editor;\n}\n\n// 原型\nUploadImg.prototype = {\n    constructor: UploadImg,\n\n    // 根据 debug 弹出不同的信息\n    _alert: function _alert(alertInfo, debugInfo) {\n        var editor = this.editor;\n        var debug = editor.config.debug;\n        var customAlert = editor.config.customAlert;\n\n        if (debug) {\n            throw new Error('wangEditor: ' + (debugInfo || alertInfo));\n        } else {\n            if (customAlert && typeof customAlert === 'function') {\n                customAlert(alertInfo);\n            } else {\n                alert(alertInfo);\n            }\n        }\n    },\n\n    // 根据链接插入图片\n    insertLinkImg: function insertLinkImg(link) {\n        var _this2 = this;\n\n        if (!link) {\n            return;\n        }\n        var editor = this.editor;\n        var config = editor.config;\n\n        // 校验格式\n        var linkImgCheck = config.linkImgCheck;\n        var checkResult = void 0;\n        if (linkImgCheck && typeof linkImgCheck === 'function') {\n            checkResult = linkImgCheck(link);\n            if (typeof checkResult === 'string') {\n                // 校验失败，提示信息\n                alert(checkResult);\n                return;\n            }\n        }\n\n        editor.cmd.do('insertHTML', '<img src=\"' + link + '\" style=\"max-width:100%;\"/>');\n\n        // 验证图片 url 是否有效，无效的话给出提示\n        var img = document.createElement('img');\n        img.onload = function () {\n            var callback = config.linkImgCallback;\n            if (callback && typeof callback === 'function') {\n                callback(link);\n            }\n\n            img = null;\n        };\n        img.onerror = function () {\n            img = null;\n            // 无法成功下载图片\n            _this2._alert('插入图片错误', 'wangEditor: \\u63D2\\u5165\\u56FE\\u7247\\u51FA\\u9519\\uFF0C\\u56FE\\u7247\\u94FE\\u63A5\\u662F \"' + link + '\"\\uFF0C\\u4E0B\\u8F7D\\u8BE5\\u94FE\\u63A5\\u5931\\u8D25');\n            return;\n        };\n        img.onabort = function () {\n            img = null;\n        };\n        img.src = link;\n    },\n\n    // 上传图片\n    uploadImg: function uploadImg(files) {\n        var _this3 = this;\n\n        if (!files || !files.length) {\n            return;\n        }\n\n        // ------------------------------ 获取配置信息 ------------------------------\n        var editor = this.editor;\n        var config = editor.config;\n        var uploadImgServer = config.uploadImgServer;\n        var uploadImgShowBase64 = config.uploadImgShowBase64;\n\n        var maxSize = config.uploadImgMaxSize;\n        var maxSizeM = maxSize / 1024 / 1024;\n        var maxLength = config.uploadImgMaxLength || 10000;\n        var uploadFileName = config.uploadFileName || '';\n        var uploadImgParams = config.uploadImgParams || {};\n        var uploadImgParamsWithUrl = config.uploadImgParamsWithUrl;\n        var uploadImgHeaders = config.uploadImgHeaders || {};\n        var hooks = config.uploadImgHooks || {};\n        var timeout = config.uploadImgTimeout || 3000;\n        var withCredentials = config.withCredentials;\n        if (withCredentials == null) {\n            withCredentials = false;\n        }\n        var customUploadImg = config.customUploadImg;\n\n        if (!customUploadImg) {\n            // 没有 customUploadImg 的情况下，需要如下两个配置才能继续进行图片上传\n            if (!uploadImgServer && !uploadImgShowBase64) {\n                return;\n            }\n        }\n\n        // ------------------------------ 验证文件信息 ------------------------------\n        var resultFiles = [];\n        var errInfo = [];\n        arrForEach(files, function (file) {\n            var name = file.name;\n            var size = file.size;\n\n            // chrome 低版本 name === undefined\n            if (!name || !size) {\n                return;\n            }\n\n            if (/\\.(jpg|jpeg|png|bmp|gif|webp)$/i.test(name) === false) {\n                // 后缀名不合法，不是图片\n                errInfo.push('\\u3010' + name + '\\u3011\\u4E0D\\u662F\\u56FE\\u7247');\n                return;\n            }\n            if (maxSize < size) {\n                // 上传图片过大\n                errInfo.push('\\u3010' + name + '\\u3011\\u5927\\u4E8E ' + maxSizeM + 'M');\n                return;\n            }\n\n            // 验证通过的加入结果列表\n            resultFiles.push(file);\n        });\n        // 抛出验证信息\n        if (errInfo.length) {\n            this._alert('图片验证未通过: \\n' + errInfo.join('\\n'));\n            return;\n        }\n        if (resultFiles.length > maxLength) {\n            this._alert('一次最多上传' + maxLength + '张图片');\n            return;\n        }\n\n        // ------------------------------ 自定义上传 ------------------------------\n        if (customUploadImg && typeof customUploadImg === 'function') {\n            customUploadImg(resultFiles, this.insertLinkImg.bind(this));\n\n            // 阻止以下代码执行\n            return;\n        }\n\n        // 添加图片数据\n        var formdata = new FormData();\n        arrForEach(resultFiles, function (file) {\n            var name = uploadFileName || file.name;\n            formdata.append(name, file);\n        });\n\n        // ------------------------------ 上传图片 ------------------------------\n        if (uploadImgServer && typeof uploadImgServer === 'string') {\n            // 添加参数\n            var uploadImgServerArr = uploadImgServer.split('#');\n            uploadImgServer = uploadImgServerArr[0];\n            var uploadImgServerHash = uploadImgServerArr[1] || '';\n            objForEach(uploadImgParams, function (key, val) {\n                // 因使用者反应，自定义参数不能默认 encode ，由 v3.1.1 版本开始注释掉\n                // val = encodeURIComponent(val)\n\n                // 第一，将参数拼接到 url 中\n                if (uploadImgParamsWithUrl) {\n                    if (uploadImgServer.indexOf('?') > 0) {\n                        uploadImgServer += '&';\n                    } else {\n                        uploadImgServer += '?';\n                    }\n                    uploadImgServer = uploadImgServer + key + '=' + val;\n                }\n\n                // 第二，将参数添加到 formdata 中\n                formdata.append(key, val);\n            });\n            if (uploadImgServerHash) {\n                uploadImgServer += '#' + uploadImgServerHash;\n            }\n\n            // 定义 xhr\n            var xhr = new XMLHttpRequest();\n            xhr.open('POST', uploadImgServer);\n\n            // 设置超时\n            xhr.timeout = timeout;\n            xhr.ontimeout = function () {\n                // hook - timeout\n                if (hooks.timeout && typeof hooks.timeout === 'function') {\n                    hooks.timeout(xhr, editor);\n                }\n\n                _this3._alert('上传图片超时');\n            };\n\n            // 监控 progress\n            if (xhr.upload) {\n                xhr.upload.onprogress = function (e) {\n                    var percent = void 0;\n                    // 进度条\n                    var progressBar = new Progress(editor);\n                    if (e.lengthComputable) {\n                        percent = e.loaded / e.total;\n                        progressBar.show(percent);\n                    }\n                };\n            }\n\n            // 返回数据\n            xhr.onreadystatechange = function () {\n                var result = void 0;\n                if (xhr.readyState === 4) {\n                    if (xhr.status < 200 || xhr.status >= 300) {\n                        // hook - error\n                        if (hooks.error && typeof hooks.error === 'function') {\n                            hooks.error(xhr, editor);\n                        }\n\n                        // xhr 返回状态错误\n                        _this3._alert('上传图片发生错误', '\\u4E0A\\u4F20\\u56FE\\u7247\\u53D1\\u751F\\u9519\\u8BEF\\uFF0C\\u670D\\u52A1\\u5668\\u8FD4\\u56DE\\u72B6\\u6001\\u662F ' + xhr.status);\n                        return;\n                    }\n\n                    result = xhr.responseText;\n                    if ((typeof result === 'undefined' ? 'undefined' : _typeof(result)) !== 'object') {\n                        try {\n                            result = JSON.parse(result);\n                        } catch (ex) {\n                            // hook - fail\n                            if (hooks.fail && typeof hooks.fail === 'function') {\n                                hooks.fail(xhr, editor, result);\n                            }\n\n                            _this3._alert('上传图片失败', '上传图片返回结果错误，返回结果是: ' + result);\n                            return;\n                        }\n                    }\n                    if (!hooks.customInsert && result.errno != '0') {\n                        // hook - fail\n                        if (hooks.fail && typeof hooks.fail === 'function') {\n                            hooks.fail(xhr, editor, result);\n                        }\n\n                        // 数据错误\n                        _this3._alert('上传图片失败', '上传图片返回结果错误，返回结果 errno=' + result.errno);\n                    } else {\n                        if (hooks.customInsert && typeof hooks.customInsert === 'function') {\n                            // 使用者自定义插入方法\n                            hooks.customInsert(_this3.insertLinkImg.bind(_this3), result, editor);\n                        } else {\n                            // 将图片插入编辑器\n                            var data = result.data || [];\n                            data.forEach(function (link) {\n                                _this3.insertLinkImg(link);\n                            });\n                        }\n\n                        // hook - success\n                        if (hooks.success && typeof hooks.success === 'function') {\n                            hooks.success(xhr, editor, result);\n                        }\n                    }\n                }\n            };\n\n            // hook - before\n            if (hooks.before && typeof hooks.before === 'function') {\n                var beforeResult = hooks.before(xhr, editor, resultFiles);\n                if (beforeResult && (typeof beforeResult === 'undefined' ? 'undefined' : _typeof(beforeResult)) === 'object') {\n                    if (beforeResult.prevent) {\n                        // 如果返回的结果是 {prevent: true, msg: 'xxxx'} 则表示用户放弃上传\n                        this._alert(beforeResult.msg);\n                        return;\n                    }\n                }\n            }\n\n            // 自定义 headers\n            objForEach(uploadImgHeaders, function (key, val) {\n                xhr.setRequestHeader(key, val);\n            });\n\n            // 跨域传 cookie\n            xhr.withCredentials = withCredentials;\n\n            // 发送请求\n            xhr.send(formdata);\n\n            // 注意，要 return 。不去操作接下来的 base64 显示方式\n            return;\n        }\n\n        // ------------------------------ 显示 base64 格式 ------------------------------\n        if (uploadImgShowBase64) {\n            arrForEach(files, function (file) {\n                var _this = _this3;\n                var reader = new FileReader();\n                reader.readAsDataURL(file);\n                reader.onload = function () {\n                    _this.insertLinkImg(this.result);\n                };\n            });\n        }\n    }\n};\n\n/*\n    编辑器构造函数\n*/\n\n// id，累加\nvar editorId = 1;\n\n// 构造函数\nfunction Editor(toolbarSelector, textSelector) {\n    if (toolbarSelector == null) {\n        // 没有传入任何参数，报错\n        throw new Error('错误：初始化编辑器时候未传入任何参数，请查阅文档');\n    }\n    // id，用以区分单个页面不同的编辑器对象\n    this.id = 'wangEditor-' + editorId++;\n\n    this.toolbarSelector = toolbarSelector;\n    this.textSelector = textSelector;\n\n    // 自定义配置\n    this.customConfig = {};\n}\n\n// 修改原型\nEditor.prototype = {\n    constructor: Editor,\n\n    // 初始化配置\n    _initConfig: function _initConfig() {\n        // _config 是默认配置，this.customConfig 是用户自定义配置，将它们 merge 之后再赋值\n        var target = {};\n        this.config = Object.assign(target, config, this.customConfig);\n\n        // 将语言配置，生成正则表达式\n        var langConfig = this.config.lang || {};\n        var langArgs = [];\n        objForEach(langConfig, function (key, val) {\n            // key 即需要生成正则表达式的规则，如“插入链接”\n            // val 即需要被替换成的语言，如“insert link”\n            langArgs.push({\n                reg: new RegExp(key, 'img'),\n                val: val\n\n            });\n        });\n        this.config.langArgs = langArgs;\n    },\n\n    // 初始化 DOM\n    _initDom: function _initDom() {\n        var _this = this;\n\n        var toolbarSelector = this.toolbarSelector;\n        var $toolbarSelector = $(toolbarSelector);\n        var textSelector = this.textSelector;\n\n        var config$$1 = this.config;\n        var zIndex = config$$1.zIndex;\n\n        // 定义变量\n        var $toolbarElem = void 0,\n            $textContainerElem = void 0,\n            $textElem = void 0,\n            $children = void 0;\n\n        if (textSelector == null) {\n            // 只传入一个参数，即是容器的选择器或元素，toolbar 和 text 的元素自行创建\n            $toolbarElem = $('<div></div>');\n            $textContainerElem = $('<div></div>');\n\n            // 将编辑器区域原有的内容，暂存起来\n            $children = $toolbarSelector.children();\n\n            // 添加到 DOM 结构中\n            $toolbarSelector.append($toolbarElem).append($textContainerElem);\n\n            // 自行创建的，需要配置默认的样式\n            $toolbarElem.css('background-color', '#f1f1f1').css('border', '1px solid #ccc');\n            $textContainerElem.css('border', '1px solid #ccc').css('border-top', 'none').css('height', '300px');\n        } else {\n            // toolbar 和 text 的选择器都有值，记录属性\n            $toolbarElem = $toolbarSelector;\n            $textContainerElem = $(textSelector);\n            // 将编辑器区域原有的内容，暂存起来\n            $children = $textContainerElem.children();\n        }\n\n        // 编辑区域\n        $textElem = $('<div></div>');\n        $textElem.attr('contenteditable', 'true').css('width', '100%').css('height', '100%');\n\n        // 初始化编辑区域内容\n        if ($children && $children.length) {\n            $textElem.append($children);\n        } else {\n            $textElem.append($('<p><br></p>'));\n        }\n\n        // 编辑区域加入DOM\n        $textContainerElem.append($textElem);\n\n        // 设置通用的 class\n        $toolbarElem.addClass('w-e-toolbar');\n        $textContainerElem.addClass('w-e-text-container');\n        $textContainerElem.css('z-index', zIndex);\n        $textElem.addClass('w-e-text');\n\n        // 添加 ID\n        var toolbarElemId = getRandom('toolbar-elem');\n        $toolbarElem.attr('id', toolbarElemId);\n        var textElemId = getRandom('text-elem');\n        $textElem.attr('id', textElemId);\n\n        // 记录属性\n        this.$toolbarElem = $toolbarElem;\n        this.$textContainerElem = $textContainerElem;\n        this.$textElem = $textElem;\n        this.toolbarElemId = toolbarElemId;\n        this.textElemId = textElemId;\n\n        // 记录输入法的开始和结束\n        var compositionEnd = true;\n        $textContainerElem.on('compositionstart', function () {\n            // 输入法开始输入\n            compositionEnd = false;\n        });\n        $textContainerElem.on('compositionend', function () {\n            // 输入法结束输入\n            compositionEnd = true;\n        });\n\n        // 绑定 onchange\n        $textContainerElem.on('click keyup', function () {\n            // 输入法结束才出发 onchange\n            compositionEnd && _this.change && _this.change();\n        });\n        $toolbarElem.on('click', function () {\n            this.change && this.change();\n        });\n\n        //绑定 onfocus 与 onblur 事件\n        if (config$$1.onfocus || config$$1.onblur) {\n            // 当前编辑器是否是焦点状态\n            this.isFocus = false;\n\n            $(document).on('click', function (e) {\n                //判断当前点击元素是否在编辑器内\n                var isChild = $textElem.isContain($(e.target));\n\n                //判断当前点击元素是否为工具栏\n                var isToolbar = $toolbarElem.isContain($(e.target));\n                var isMenu = $toolbarElem[0] == e.target ? true : false;\n\n                if (!isChild) {\n                    //若为选择工具栏中的功能，则不视为成blur操作\n                    if (isToolbar && !isMenu) {\n                        return;\n                    }\n\n                    if (_this.isFocus) {\n                        _this.onblur && _this.onblur();\n                    }\n                    _this.isFocus = false;\n                } else {\n                    if (!_this.isFocus) {\n                        _this.onfocus && _this.onfocus();\n                    }\n                    _this.isFocus = true;\n                }\n            });\n        }\n    },\n\n    // 封装 command\n    _initCommand: function _initCommand() {\n        this.cmd = new Command(this);\n    },\n\n    // 封装 selection range API\n    _initSelectionAPI: function _initSelectionAPI() {\n        this.selection = new API(this);\n    },\n\n    // 添加图片上传\n    _initUploadImg: function _initUploadImg() {\n        this.uploadImg = new UploadImg(this);\n    },\n\n    // 初始化菜单\n    _initMenus: function _initMenus() {\n        this.menus = new Menus(this);\n        this.menus.init();\n    },\n\n    // 添加 text 区域\n    _initText: function _initText() {\n        this.txt = new Text(this);\n        this.txt.init();\n    },\n\n    // 初始化选区，将光标定位到内容尾部\n    initSelection: function initSelection(newLine) {\n        var $textElem = this.$textElem;\n        var $children = $textElem.children();\n        if (!$children.length) {\n            // 如果编辑器区域无内容，添加一个空行，重新设置选区\n            $textElem.append($('<p><br></p>'));\n            this.initSelection();\n            return;\n        }\n\n        var $last = $children.last();\n\n        if (newLine) {\n            // 新增一个空行\n            var html = $last.html().toLowerCase();\n            var nodeName = $last.getNodeName();\n            if (html !== '<br>' && html !== '<br\\/>' || nodeName !== 'P') {\n                // 最后一个元素不是 <p><br></p>，添加一个空行，重新设置选区\n                $textElem.append($('<p><br></p>'));\n                this.initSelection();\n                return;\n            }\n        }\n\n        this.selection.createRangeByElem($last, false, true);\n        this.selection.restoreSelection();\n    },\n\n    // 绑定事件\n    _bindEvent: function _bindEvent() {\n        // -------- 绑定 onchange 事件 --------\n        var onChangeTimeoutId = 0;\n        var beforeChangeHtml = this.txt.html();\n        var config$$1 = this.config;\n\n        // onchange 触发延迟时间\n        var onchangeTimeout = config$$1.onchangeTimeout;\n        onchangeTimeout = parseInt(onchangeTimeout, 10);\n        if (!onchangeTimeout || onchangeTimeout <= 0) {\n            onchangeTimeout = 200;\n        }\n\n        var onchange = config$$1.onchange;\n        if (onchange && typeof onchange === 'function') {\n            // 触发 change 的有三个场景：\n            // 1. $textContainerElem.on('click keyup')\n            // 2. $toolbarElem.on('click')\n            // 3. editor.cmd.do()\n            this.change = function () {\n                // 判断是否有变化\n                var currentHtml = this.txt.html();\n\n                if (currentHtml.length === beforeChangeHtml.length) {\n                    // 需要比较每一个字符\n                    if (currentHtml === beforeChangeHtml) {\n                        return;\n                    }\n                }\n\n                // 执行，使用节流\n                if (onChangeTimeoutId) {\n                    clearTimeout(onChangeTimeoutId);\n                }\n                onChangeTimeoutId = setTimeout(function () {\n                    // 触发配置的 onchange 函数\n                    onchange(currentHtml);\n                    beforeChangeHtml = currentHtml;\n                }, onchangeTimeout);\n            };\n        }\n\n        // -------- 绑定 onblur 事件 --------\n        var onblur = config$$1.onblur;\n        if (onblur && typeof onblur === 'function') {\n            this.onblur = function () {\n                var currentHtml = this.txt.html();\n                onblur(currentHtml);\n            };\n        }\n\n        // -------- 绑定 onfocus 事件 --------\n        var onfocus = config$$1.onfocus;\n        if (onfocus && typeof onfocus === 'function') {\n            this.onfocus = function () {\n                onfocus();\n            };\n        }\n    },\n\n    // 创建编辑器\n    create: function create() {\n        // 初始化配置信息\n        this._initConfig();\n\n        // 初始化 DOM\n        this._initDom();\n\n        // 封装 command API\n        this._initCommand();\n\n        // 封装 selection range API\n        this._initSelectionAPI();\n\n        // 添加 text\n        this._initText();\n\n        // 初始化菜单\n        this._initMenus();\n\n        // 添加 图片上传\n        this._initUploadImg();\n\n        // 初始化选区，将光标定位到内容尾部\n        this.initSelection(true);\n\n        // 绑定事件\n        this._bindEvent();\n    },\n\n    // 解绑所有事件（暂时不对外开放）\n    _offAllEvent: function _offAllEvent() {\n        $.offAll();\n    }\n};\n\n// 检验是否浏览器环境\ntry {\n    document;\n} catch (ex) {\n    throw new Error('请在浏览器环境下运行');\n}\n\n// polyfill\npolyfill();\n\n// 这里的 `inlinecss` 将被替换成 css 代码的内容，详情可去 ./gulpfile.js 中搜索 `inlinecss` 关键字\nvar inlinecss = '.w-e-toolbar,.w-e-text-container,.w-e-menu-panel {  padding: 0;  margin: 0;  box-sizing: border-box;}.w-e-toolbar *,.w-e-text-container *,.w-e-menu-panel * {  padding: 0;  margin: 0;  box-sizing: border-box;}.w-e-clear-fix:after {  content: \"\";  display: table;  clear: both;}.w-e-toolbar .w-e-droplist {  position: absolute;  left: 0;  top: 0;  background-color: #fff;  border: 1px solid #f1f1f1;  border-right-color: #ccc;  border-bottom-color: #ccc;}.w-e-toolbar .w-e-droplist .w-e-dp-title {  text-align: center;  color: #999;  line-height: 2;  border-bottom: 1px solid #f1f1f1;  font-size: 13px;}.w-e-toolbar .w-e-droplist ul.w-e-list {  list-style: none;  line-height: 1;}.w-e-toolbar .w-e-droplist ul.w-e-list li.w-e-item {  color: #333;  padding: 5px 0;}.w-e-toolbar .w-e-droplist ul.w-e-list li.w-e-item:hover {  background-color: #f1f1f1;}.w-e-toolbar .w-e-droplist ul.w-e-block {  list-style: none;  text-align: left;  padding: 5px;}.w-e-toolbar .w-e-droplist ul.w-e-block li.w-e-item {  display: inline-block;  *display: inline;  *zoom: 1;  padding: 3px 5px;}.w-e-toolbar .w-e-droplist ul.w-e-block li.w-e-item:hover {  background-color: #f1f1f1;}@font-face {  font-family: \\'w-e-icon\\';  src: url(data:application/x-font-woff;charset=utf-8;base64,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) format(\\'truetype\\');  font-weight: normal;  font-style: normal;}[class^=\"w-e-icon-\"],[class*=\" w-e-icon-\"] {  /* use !important to prevent issues with browser extensions that change fonts */  font-family: \\'w-e-icon\\' !important;  speak: none;  font-style: normal;  font-weight: normal;  font-variant: normal;  text-transform: none;  line-height: 1;  /* Better Font Rendering =========== */  -webkit-font-smoothing: antialiased;  -moz-osx-font-smoothing: grayscale;}.w-e-icon-close:before {  content: \"\\\\f00d\";}.w-e-icon-upload2:before {  content: \"\\\\e9c6\";}.w-e-icon-trash-o:before {  content: \"\\\\f014\";}.w-e-icon-header:before {  content: \"\\\\f1dc\";}.w-e-icon-pencil2:before {  content: \"\\\\e906\";}.w-e-icon-paint-brush:before {  content: \"\\\\f1fc\";}.w-e-icon-image:before {  content: \"\\\\e90d\";}.w-e-icon-play:before {  content: \"\\\\e912\";}.w-e-icon-location:before {  content: \"\\\\e947\";}.w-e-icon-undo:before {  content: \"\\\\e965\";}.w-e-icon-redo:before {  content: \"\\\\e966\";}.w-e-icon-quotes-left:before {  content: \"\\\\e977\";}.w-e-icon-list-numbered:before {  content: \"\\\\e9b9\";}.w-e-icon-list2:before {  content: \"\\\\e9bb\";}.w-e-icon-link:before {  content: \"\\\\e9cb\";}.w-e-icon-happy:before {  content: \"\\\\e9df\";}.w-e-icon-bold:before {  content: \"\\\\ea62\";}.w-e-icon-underline:before {  content: \"\\\\ea63\";}.w-e-icon-italic:before {  content: \"\\\\ea64\";}.w-e-icon-strikethrough:before {  content: \"\\\\ea65\";}.w-e-icon-table2:before {  content: \"\\\\ea71\";}.w-e-icon-paragraph-left:before {  content: \"\\\\ea77\";}.w-e-icon-paragraph-center:before {  content: \"\\\\ea78\";}.w-e-icon-paragraph-right:before {  content: \"\\\\ea79\";}.w-e-icon-terminal:before {  content: \"\\\\f120\";}.w-e-icon-page-break:before {  content: \"\\\\ea68\";}.w-e-icon-cancel-circle:before {  content: \"\\\\ea0d\";}.w-e-icon-font:before {  content: \"\\\\ea5c\";}.w-e-icon-text-heigh:before {  content: \"\\\\ea5f\";}.w-e-toolbar {  display: -webkit-box;  display: -ms-flexbox;  display: flex;  padding: 0 5px;  /* flex-wrap: wrap; */  /* 单个菜单 */}.w-e-toolbar .w-e-menu {  position: relative;  text-align: center;  padding: 5px 10px;  cursor: pointer;}.w-e-toolbar .w-e-menu i {  color: #999;}.w-e-toolbar .w-e-menu:hover i {  color: #333;}.w-e-toolbar .w-e-active i {  color: #1e88e5;}.w-e-toolbar .w-e-active:hover i {  color: #1e88e5;}.w-e-text-container .w-e-panel-container {  position: absolute;  top: 0;  left: 50%;  border: 1px solid #ccc;  border-top: 0;  box-shadow: 1px 1px 2px #ccc;  color: #333;  background-color: #fff;  /* 为 emotion panel 定制的样式 */  /* 上传图片的 panel 定制样式 */}.w-e-text-container .w-e-panel-container .w-e-panel-close {  position: absolute;  right: 0;  top: 0;  padding: 5px;  margin: 2px 5px 0 0;  cursor: pointer;  color: #999;}.w-e-text-container .w-e-panel-container .w-e-panel-close:hover {  color: #333;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-title {  list-style: none;  display: -webkit-box;  display: -ms-flexbox;  display: flex;  font-size: 14px;  margin: 2px 10px 0 10px;  border-bottom: 1px solid #f1f1f1;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-title .w-e-item {  padding: 3px 5px;  color: #999;  cursor: pointer;  margin: 0 3px;  position: relative;  top: 1px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-title .w-e-active {  color: #333;  border-bottom: 1px solid #333;  cursor: default;  font-weight: 700;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content {  padding: 10px 15px 10px 15px;  font-size: 16px;  /* 输入框的样式 */  /* 按钮的样式 */}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input:focus,.w-e-text-container .w-e-panel-container .w-e-panel-tab-content textarea:focus,.w-e-text-container .w-e-panel-container .w-e-panel-tab-content button:focus {  outline: none;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content textarea {  width: 100%;  border: 1px solid #ccc;  padding: 5px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content textarea:focus {  border-color: #1e88e5;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text] {  border: none;  border-bottom: 1px solid #ccc;  font-size: 14px;  height: 20px;  color: #333;  text-align: left;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text].small {  width: 30px;  text-align: center;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text].block {  display: block;  width: 100%;  margin: 10px 0;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text]:focus {  border-bottom: 2px solid #1e88e5;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button {  font-size: 14px;  color: #1e88e5;  border: none;  padding: 5px 10px;  background-color: #fff;  cursor: pointer;  border-radius: 3px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.left {  float: left;  margin-right: 10px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.right {  float: right;  margin-left: 10px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.gray {  color: #999;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.red {  color: #c24f4a;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button:hover {  background-color: #f1f1f1;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container:after {  content: \"\";  display: table;  clear: both;}.w-e-text-container .w-e-panel-container .w-e-emoticon-container .w-e-item {  cursor: pointer;  font-size: 18px;  padding: 0 3px;  display: inline-block;  *display: inline;  *zoom: 1;}.w-e-text-container .w-e-panel-container .w-e-up-img-container {  text-align: center;}.w-e-text-container .w-e-panel-container .w-e-up-img-container .w-e-up-btn {  display: inline-block;  *display: inline;  *zoom: 1;  color: #999;  cursor: pointer;  font-size: 60px;  line-height: 1;}.w-e-text-container .w-e-panel-container .w-e-up-img-container .w-e-up-btn:hover {  color: #333;}.w-e-text-container {  position: relative;}.w-e-text-container .w-e-progress {  position: absolute;  background-color: #1e88e5;  bottom: 0;  left: 0;  height: 1px;}.w-e-text {  padding: 0 10px;  overflow-y: scroll;}.w-e-text p,.w-e-text h1,.w-e-text h2,.w-e-text h3,.w-e-text h4,.w-e-text h5,.w-e-text table,.w-e-text pre {  margin: 10px 0;  line-height: 1.5;}.w-e-text ul,.w-e-text ol {  margin: 10px 0 10px 20px;}.w-e-text blockquote {  display: block;  border-left: 8px solid #d0e5f2;  padding: 5px 10px;  margin: 10px 0;  line-height: 1.4;  font-size: 100%;  background-color: #f1f1f1;}.w-e-text code {  display: inline-block;  *display: inline;  *zoom: 1;  background-color: #f1f1f1;  border-radius: 3px;  padding: 3px 5px;  margin: 0 3px;}.w-e-text pre code {  display: block;}.w-e-text table {  border-top: 1px solid #ccc;  border-left: 1px solid #ccc;}.w-e-text table td,.w-e-text table th {  border-bottom: 1px solid #ccc;  border-right: 1px solid #ccc;  padding: 3px 5px;}.w-e-text table th {  border-bottom: 2px solid #ccc;  text-align: center;}.w-e-text:focus {  outline: none;}.w-e-text img {  cursor: pointer;}.w-e-text img:hover {  box-shadow: 0 0 5px #333;}';\n\n// 将 css 代码添加到 <style> 中\nvar style = document.createElement('style');\nstyle.type = 'text/css';\nstyle.innerHTML = inlinecss;\ndocument.getElementsByTagName('HEAD').item(0).appendChild(style);\n\n// 返回\nvar index = window.wangEditor || Editor;\n\nreturn index;\n\n})));\n","'use strict';\n// TODO: in core-js@4, move /modules/ dependencies to public entries for better optimization by tools like `preset-env`\nrequire('../modules/es.string.iterator');\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar USE_NATIVE_URL = require('../internals/native-url');\nvar global = require('../internals/global');\nvar defineProperties = require('../internals/object-define-properties');\nvar redefine = require('../internals/redefine');\nvar anInstance = require('../internals/an-instance');\nvar has = require('../internals/has');\nvar assign = require('../internals/object-assign');\nvar arrayFrom = require('../internals/array-from');\nvar codeAt = require('../internals/string-multibyte').codeAt;\nvar toASCII = require('../internals/string-punycode-to-ascii');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar URLSearchParamsModule = require('../modules/web.url-search-params');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar NativeURL = global.URL;\nvar URLSearchParams = URLSearchParamsModule.URLSearchParams;\nvar getInternalSearchParamsState = URLSearchParamsModule.getState;\nvar setInternalState = InternalStateModule.set;\nvar getInternalURLState = InternalStateModule.getterFor('URL');\nvar floor = Math.floor;\nvar pow = Math.pow;\n\nvar INVALID_AUTHORITY = 'Invalid authority';\nvar INVALID_SCHEME = 'Invalid scheme';\nvar INVALID_HOST = 'Invalid host';\nvar INVALID_PORT = 'Invalid port';\n\nvar ALPHA = /[A-Za-z]/;\nvar ALPHANUMERIC = /[\\d+-.A-Za-z]/;\nvar DIGIT = /\\d/;\nvar HEX_START = /^(0x|0X)/;\nvar OCT = /^[0-7]+$/;\nvar DEC = /^\\d+$/;\nvar HEX = /^[\\dA-Fa-f]+$/;\n// eslint-disable-next-line no-control-regex\nvar FORBIDDEN_HOST_CODE_POINT = /[\\u0000\\u0009\\u000A\\u000D #%/:?@[\\\\]]/;\n// eslint-disable-next-line no-control-regex\nvar FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT = /[\\u0000\\u0009\\u000A\\u000D #/:?@[\\\\]]/;\n// eslint-disable-next-line no-control-regex\nvar LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE = /^[\\u0000-\\u001F ]+|[\\u0000-\\u001F ]+$/g;\n// eslint-disable-next-line no-control-regex\nvar TAB_AND_NEW_LINE = /[\\u0009\\u000A\\u000D]/g;\nvar EOF;\n\nvar parseHost = function (url, input) {\n  var result, codePoints, index;\n  if (input.charAt(0) == '[') {\n    if (input.charAt(input.length - 1) != ']') return INVALID_HOST;\n    result = parseIPv6(input.slice(1, -1));\n    if (!result) return INVALID_HOST;\n    url.host = result;\n  // opaque host\n  } else if (!isSpecial(url)) {\n    if (FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT.test(input)) return INVALID_HOST;\n    result = '';\n    codePoints = arrayFrom(input);\n    for (index = 0; index < codePoints.length; index++) {\n      result += percentEncode(codePoints[index], C0ControlPercentEncodeSet);\n    }\n    url.host = result;\n  } else {\n    input = toASCII(input);\n    if (FORBIDDEN_HOST_CODE_POINT.test(input)) return INVALID_HOST;\n    result = parseIPv4(input);\n    if (result === null) return INVALID_HOST;\n    url.host = result;\n  }\n};\n\nvar parseIPv4 = function (input) {\n  var parts = input.split('.');\n  var partsLength, numbers, index, part, radix, number, ipv4;\n  if (parts.length && parts[parts.length - 1] == '') {\n    parts.pop();\n  }\n  partsLength = parts.length;\n  if (partsLength > 4) return input;\n  numbers = [];\n  for (index = 0; index < partsLength; index++) {\n    part = parts[index];\n    if (part == '') return input;\n    radix = 10;\n    if (part.length > 1 && part.charAt(0) == '0') {\n      radix = HEX_START.test(part) ? 16 : 8;\n      part = part.slice(radix == 8 ? 1 : 2);\n    }\n    if (part === '') {\n      number = 0;\n    } else {\n      if (!(radix == 10 ? DEC : radix == 8 ? OCT : HEX).test(part)) return input;\n      number = parseInt(part, radix);\n    }\n    numbers.push(number);\n  }\n  for (index = 0; index < partsLength; index++) {\n    number = numbers[index];\n    if (index == partsLength - 1) {\n      if (number >= pow(256, 5 - partsLength)) return null;\n    } else if (number > 255) return null;\n  }\n  ipv4 = numbers.pop();\n  for (index = 0; index < numbers.length; index++) {\n    ipv4 += numbers[index] * pow(256, 3 - index);\n  }\n  return ipv4;\n};\n\n// eslint-disable-next-line max-statements\nvar parseIPv6 = function (input) {\n  var address = [0, 0, 0, 0, 0, 0, 0, 0];\n  var pieceIndex = 0;\n  var compress = null;\n  var pointer = 0;\n  var value, length, numbersSeen, ipv4Piece, number, swaps, swap;\n\n  var char = function () {\n    return input.charAt(pointer);\n  };\n\n  if (char() == ':') {\n    if (input.charAt(1) != ':') return;\n    pointer += 2;\n    pieceIndex++;\n    compress = pieceIndex;\n  }\n  while (char()) {\n    if (pieceIndex == 8) return;\n    if (char() == ':') {\n      if (compress !== null) return;\n      pointer++;\n      pieceIndex++;\n      compress = pieceIndex;\n      continue;\n    }\n    value = length = 0;\n    while (length < 4 && HEX.test(char())) {\n      value = value * 16 + parseInt(char(), 16);\n      pointer++;\n      length++;\n    }\n    if (char() == '.') {\n      if (length == 0) return;\n      pointer -= length;\n      if (pieceIndex > 6) return;\n      numbersSeen = 0;\n      while (char()) {\n        ipv4Piece = null;\n        if (numbersSeen > 0) {\n          if (char() == '.' && numbersSeen < 4) pointer++;\n          else return;\n        }\n        if (!DIGIT.test(char())) return;\n        while (DIGIT.test(char())) {\n          number = parseInt(char(), 10);\n          if (ipv4Piece === null) ipv4Piece = number;\n          else if (ipv4Piece == 0) return;\n          else ipv4Piece = ipv4Piece * 10 + number;\n          if (ipv4Piece > 255) return;\n          pointer++;\n        }\n        address[pieceIndex] = address[pieceIndex] * 256 + ipv4Piece;\n        numbersSeen++;\n        if (numbersSeen == 2 || numbersSeen == 4) pieceIndex++;\n      }\n      if (numbersSeen != 4) return;\n      break;\n    } else if (char() == ':') {\n      pointer++;\n      if (!char()) return;\n    } else if (char()) return;\n    address[pieceIndex++] = value;\n  }\n  if (compress !== null) {\n    swaps = pieceIndex - compress;\n    pieceIndex = 7;\n    while (pieceIndex != 0 && swaps > 0) {\n      swap = address[pieceIndex];\n      address[pieceIndex--] = address[compress + swaps - 1];\n      address[compress + --swaps] = swap;\n    }\n  } else if (pieceIndex != 8) return;\n  return address;\n};\n\nvar findLongestZeroSequence = function (ipv6) {\n  var maxIndex = null;\n  var maxLength = 1;\n  var currStart = null;\n  var currLength = 0;\n  var index = 0;\n  for (; index < 8; index++) {\n    if (ipv6[index] !== 0) {\n      if (currLength > maxLength) {\n        maxIndex = currStart;\n        maxLength = currLength;\n      }\n      currStart = null;\n      currLength = 0;\n    } else {\n      if (currStart === null) currStart = index;\n      ++currLength;\n    }\n  }\n  if (currLength > maxLength) {\n    maxIndex = currStart;\n    maxLength = currLength;\n  }\n  return maxIndex;\n};\n\nvar serializeHost = function (host) {\n  var result, index, compress, ignore0;\n  // ipv4\n  if (typeof host == 'number') {\n    result = [];\n    for (index = 0; index < 4; index++) {\n      result.unshift(host % 256);\n      host = floor(host / 256);\n    } return result.join('.');\n  // ipv6\n  } else if (typeof host == 'object') {\n    result = '';\n    compress = findLongestZeroSequence(host);\n    for (index = 0; index < 8; index++) {\n      if (ignore0 && host[index] === 0) continue;\n      if (ignore0) ignore0 = false;\n      if (compress === index) {\n        result += index ? ':' : '::';\n        ignore0 = true;\n      } else {\n        result += host[index].toString(16);\n        if (index < 7) result += ':';\n      }\n    }\n    return '[' + result + ']';\n  } return host;\n};\n\nvar C0ControlPercentEncodeSet = {};\nvar fragmentPercentEncodeSet = assign({}, C0ControlPercentEncodeSet, {\n  ' ': 1, '\"': 1, '<': 1, '>': 1, '`': 1\n});\nvar pathPercentEncodeSet = assign({}, fragmentPercentEncodeSet, {\n  '#': 1, '?': 1, '{': 1, '}': 1\n});\nvar userinfoPercentEncodeSet = assign({}, pathPercentEncodeSet, {\n  '/': 1, ':': 1, ';': 1, '=': 1, '@': 1, '[': 1, '\\\\': 1, ']': 1, '^': 1, '|': 1\n});\n\nvar percentEncode = function (char, set) {\n  var code = codeAt(char, 0);\n  return code > 0x20 && code < 0x7F && !has(set, char) ? char : encodeURIComponent(char);\n};\n\nvar specialSchemes = {\n  ftp: 21,\n  file: null,\n  http: 80,\n  https: 443,\n  ws: 80,\n  wss: 443\n};\n\nvar isSpecial = function (url) {\n  return has(specialSchemes, url.scheme);\n};\n\nvar includesCredentials = function (url) {\n  return url.username != '' || url.password != '';\n};\n\nvar cannotHaveUsernamePasswordPort = function (url) {\n  return !url.host || url.cannotBeABaseURL || url.scheme == 'file';\n};\n\nvar isWindowsDriveLetter = function (string, normalized) {\n  var second;\n  return string.length == 2 && ALPHA.test(string.charAt(0))\n    && ((second = string.charAt(1)) == ':' || (!normalized && second == '|'));\n};\n\nvar startsWithWindowsDriveLetter = function (string) {\n  var third;\n  return string.length > 1 && isWindowsDriveLetter(string.slice(0, 2)) && (\n    string.length == 2 ||\n    ((third = string.charAt(2)) === '/' || third === '\\\\' || third === '?' || third === '#')\n  );\n};\n\nvar shortenURLsPath = function (url) {\n  var path = url.path;\n  var pathSize = path.length;\n  if (pathSize && (url.scheme != 'file' || pathSize != 1 || !isWindowsDriveLetter(path[0], true))) {\n    path.pop();\n  }\n};\n\nvar isSingleDot = function (segment) {\n  return segment === '.' || segment.toLowerCase() === '%2e';\n};\n\nvar isDoubleDot = function (segment) {\n  segment = segment.toLowerCase();\n  return segment === '..' || segment === '%2e.' || segment === '.%2e' || segment === '%2e%2e';\n};\n\n// States:\nvar SCHEME_START = {};\nvar SCHEME = {};\nvar NO_SCHEME = {};\nvar SPECIAL_RELATIVE_OR_AUTHORITY = {};\nvar PATH_OR_AUTHORITY = {};\nvar RELATIVE = {};\nvar RELATIVE_SLASH = {};\nvar SPECIAL_AUTHORITY_SLASHES = {};\nvar SPECIAL_AUTHORITY_IGNORE_SLASHES = {};\nvar AUTHORITY = {};\nvar HOST = {};\nvar HOSTNAME = {};\nvar PORT = {};\nvar FILE = {};\nvar FILE_SLASH = {};\nvar FILE_HOST = {};\nvar PATH_START = {};\nvar PATH = {};\nvar CANNOT_BE_A_BASE_URL_PATH = {};\nvar QUERY = {};\nvar FRAGMENT = {};\n\n// eslint-disable-next-line max-statements\nvar parseURL = function (url, input, stateOverride, base) {\n  var state = stateOverride || SCHEME_START;\n  var pointer = 0;\n  var buffer = '';\n  var seenAt = false;\n  var seenBracket = false;\n  var seenPasswordToken = false;\n  var codePoints, char, bufferCodePoints, failure;\n\n  if (!stateOverride) {\n    url.scheme = '';\n    url.username = '';\n    url.password = '';\n    url.host = null;\n    url.port = null;\n    url.path = [];\n    url.query = null;\n    url.fragment = null;\n    url.cannotBeABaseURL = false;\n    input = input.replace(LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE, '');\n  }\n\n  input = input.replace(TAB_AND_NEW_LINE, '');\n\n  codePoints = arrayFrom(input);\n\n  while (pointer <= codePoints.length) {\n    char = codePoints[pointer];\n    switch (state) {\n      case SCHEME_START:\n        if (char && ALPHA.test(char)) {\n          buffer += char.toLowerCase();\n          state = SCHEME;\n        } else if (!stateOverride) {\n          state = NO_SCHEME;\n          continue;\n        } else return INVALID_SCHEME;\n        break;\n\n      case SCHEME:\n        if (char && (ALPHANUMERIC.test(char) || char == '+' || char == '-' || char == '.')) {\n          buffer += char.toLowerCase();\n        } else if (char == ':') {\n          if (stateOverride && (\n            (isSpecial(url) != has(specialSchemes, buffer)) ||\n            (buffer == 'file' && (includesCredentials(url) || url.port !== null)) ||\n            (url.scheme == 'file' && !url.host)\n          )) return;\n          url.scheme = buffer;\n          if (stateOverride) {\n            if (isSpecial(url) && specialSchemes[url.scheme] == url.port) url.port = null;\n            return;\n          }\n          buffer = '';\n          if (url.scheme == 'file') {\n            state = FILE;\n          } else if (isSpecial(url) && base && base.scheme == url.scheme) {\n            state = SPECIAL_RELATIVE_OR_AUTHORITY;\n          } else if (isSpecial(url)) {\n            state = SPECIAL_AUTHORITY_SLASHES;\n          } else if (codePoints[pointer + 1] == '/') {\n            state = PATH_OR_AUTHORITY;\n            pointer++;\n          } else {\n            url.cannotBeABaseURL = true;\n            url.path.push('');\n            state = CANNOT_BE_A_BASE_URL_PATH;\n          }\n        } else if (!stateOverride) {\n          buffer = '';\n          state = NO_SCHEME;\n          pointer = 0;\n          continue;\n        } else return INVALID_SCHEME;\n        break;\n\n      case NO_SCHEME:\n        if (!base || (base.cannotBeABaseURL && char != '#')) return INVALID_SCHEME;\n        if (base.cannotBeABaseURL && char == '#') {\n          url.scheme = base.scheme;\n          url.path = base.path.slice();\n          url.query = base.query;\n          url.fragment = '';\n          url.cannotBeABaseURL = true;\n          state = FRAGMENT;\n          break;\n        }\n        state = base.scheme == 'file' ? FILE : RELATIVE;\n        continue;\n\n      case SPECIAL_RELATIVE_OR_AUTHORITY:\n        if (char == '/' && codePoints[pointer + 1] == '/') {\n          state = SPECIAL_AUTHORITY_IGNORE_SLASHES;\n          pointer++;\n        } else {\n          state = RELATIVE;\n          continue;\n        } break;\n\n      case PATH_OR_AUTHORITY:\n        if (char == '/') {\n          state = AUTHORITY;\n          break;\n        } else {\n          state = PATH;\n          continue;\n        }\n\n      case RELATIVE:\n        url.scheme = base.scheme;\n        if (char == EOF) {\n          url.username = base.username;\n          url.password = base.password;\n          url.host = base.host;\n          url.port = base.port;\n          url.path = base.path.slice();\n          url.query = base.query;\n        } else if (char == '/' || (char == '\\\\' && isSpecial(url))) {\n          state = RELATIVE_SLASH;\n        } else if (char == '?') {\n          url.username = base.username;\n          url.password = base.password;\n          url.host = base.host;\n          url.port = base.port;\n          url.path = base.path.slice();\n          url.query = '';\n          state = QUERY;\n        } else if (char == '#') {\n          url.username = base.username;\n          url.password = base.password;\n          url.host = base.host;\n          url.port = base.port;\n          url.path = base.path.slice();\n          url.query = base.query;\n          url.fragment = '';\n          state = FRAGMENT;\n        } else {\n          url.username = base.username;\n          url.password = base.password;\n          url.host = base.host;\n          url.port = base.port;\n          url.path = base.path.slice();\n          url.path.pop();\n          state = PATH;\n          continue;\n        } break;\n\n      case RELATIVE_SLASH:\n        if (isSpecial(url) && (char == '/' || char == '\\\\')) {\n          state = SPECIAL_AUTHORITY_IGNORE_SLASHES;\n        } else if (char == '/') {\n          state = AUTHORITY;\n        } else {\n          url.username = base.username;\n          url.password = base.password;\n          url.host = base.host;\n          url.port = base.port;\n          state = PATH;\n          continue;\n        } break;\n\n      case SPECIAL_AUTHORITY_SLASHES:\n        state = SPECIAL_AUTHORITY_IGNORE_SLASHES;\n        if (char != '/' || buffer.charAt(pointer + 1) != '/') continue;\n        pointer++;\n        break;\n\n      case SPECIAL_AUTHORITY_IGNORE_SLASHES:\n        if (char != '/' && char != '\\\\') {\n          state = AUTHORITY;\n          continue;\n        } break;\n\n      case AUTHORITY:\n        if (char == '@') {\n          if (seenAt) buffer = '%40' + buffer;\n          seenAt = true;\n          bufferCodePoints = arrayFrom(buffer);\n          for (var i = 0; i < bufferCodePoints.length; i++) {\n            var codePoint = bufferCodePoints[i];\n            if (codePoint == ':' && !seenPasswordToken) {\n              seenPasswordToken = true;\n              continue;\n            }\n            var encodedCodePoints = percentEncode(codePoint, userinfoPercentEncodeSet);\n            if (seenPasswordToken) url.password += encodedCodePoints;\n            else url.username += encodedCodePoints;\n          }\n          buffer = '';\n        } else if (\n          char == EOF || char == '/' || char == '?' || char == '#' ||\n          (char == '\\\\' && isSpecial(url))\n        ) {\n          if (seenAt && buffer == '') return INVALID_AUTHORITY;\n          pointer -= arrayFrom(buffer).length + 1;\n          buffer = '';\n          state = HOST;\n        } else buffer += char;\n        break;\n\n      case HOST:\n      case HOSTNAME:\n        if (stateOverride && url.scheme == 'file') {\n          state = FILE_HOST;\n          continue;\n        } else if (char == ':' && !seenBracket) {\n          if (buffer == '') return INVALID_HOST;\n          failure = parseHost(url, buffer);\n          if (failure) return failure;\n          buffer = '';\n          state = PORT;\n          if (stateOverride == HOSTNAME) return;\n        } else if (\n          char == EOF || char == '/' || char == '?' || char == '#' ||\n          (char == '\\\\' && isSpecial(url))\n        ) {\n          if (isSpecial(url) && buffer == '') return INVALID_HOST;\n          if (stateOverride && buffer == '' && (includesCredentials(url) || url.port !== null)) return;\n          failure = parseHost(url, buffer);\n          if (failure) return failure;\n          buffer = '';\n          state = PATH_START;\n          if (stateOverride) return;\n          continue;\n        } else {\n          if (char == '[') seenBracket = true;\n          else if (char == ']') seenBracket = false;\n          buffer += char;\n        } break;\n\n      case PORT:\n        if (DIGIT.test(char)) {\n          buffer += char;\n        } else if (\n          char == EOF || char == '/' || char == '?' || char == '#' ||\n          (char == '\\\\' && isSpecial(url)) ||\n          stateOverride\n        ) {\n          if (buffer != '') {\n            var port = parseInt(buffer, 10);\n            if (port > 0xFFFF) return INVALID_PORT;\n            url.port = (isSpecial(url) && port === specialSchemes[url.scheme]) ? null : port;\n            buffer = '';\n          }\n          if (stateOverride) return;\n          state = PATH_START;\n          continue;\n        } else return INVALID_PORT;\n        break;\n\n      case FILE:\n        url.scheme = 'file';\n        if (char == '/' || char == '\\\\') state = FILE_SLASH;\n        else if (base && base.scheme == 'file') {\n          if (char == EOF) {\n            url.host = base.host;\n            url.path = base.path.slice();\n            url.query = base.query;\n          } else if (char == '?') {\n            url.host = base.host;\n            url.path = base.path.slice();\n            url.query = '';\n            state = QUERY;\n          } else if (char == '#') {\n            url.host = base.host;\n            url.path = base.path.slice();\n            url.query = base.query;\n            url.fragment = '';\n            state = FRAGMENT;\n          } else {\n            if (!startsWithWindowsDriveLetter(codePoints.slice(pointer).join(''))) {\n              url.host = base.host;\n              url.path = base.path.slice();\n              shortenURLsPath(url);\n            }\n            state = PATH;\n            continue;\n          }\n        } else {\n          state = PATH;\n          continue;\n        } break;\n\n      case FILE_SLASH:\n        if (char == '/' || char == '\\\\') {\n          state = FILE_HOST;\n          break;\n        }\n        if (base && base.scheme == 'file' && !startsWithWindowsDriveLetter(codePoints.slice(pointer).join(''))) {\n          if (isWindowsDriveLetter(base.path[0], true)) url.path.push(base.path[0]);\n          else url.host = base.host;\n        }\n        state = PATH;\n        continue;\n\n      case FILE_HOST:\n        if (char == EOF || char == '/' || char == '\\\\' || char == '?' || char == '#') {\n          if (!stateOverride && isWindowsDriveLetter(buffer)) {\n            state = PATH;\n          } else if (buffer == '') {\n            url.host = '';\n            if (stateOverride) return;\n            state = PATH_START;\n          } else {\n            failure = parseHost(url, buffer);\n            if (failure) return failure;\n            if (url.host == 'localhost') url.host = '';\n            if (stateOverride) return;\n            buffer = '';\n            state = PATH_START;\n          } continue;\n        } else buffer += char;\n        break;\n\n      case PATH_START:\n        if (isSpecial(url)) {\n          state = PATH;\n          if (char != '/' && char != '\\\\') continue;\n        } else if (!stateOverride && char == '?') {\n          url.query = '';\n          state = QUERY;\n        } else if (!stateOverride && char == '#') {\n          url.fragment = '';\n          state = FRAGMENT;\n        } else if (char != EOF) {\n          state = PATH;\n          if (char != '/') continue;\n        } break;\n\n      case PATH:\n        if (\n          char == EOF || char == '/' ||\n          (char == '\\\\' && isSpecial(url)) ||\n          (!stateOverride && (char == '?' || char == '#'))\n        ) {\n          if (isDoubleDot(buffer)) {\n            shortenURLsPath(url);\n            if (char != '/' && !(char == '\\\\' && isSpecial(url))) {\n              url.path.push('');\n            }\n          } else if (isSingleDot(buffer)) {\n            if (char != '/' && !(char == '\\\\' && isSpecial(url))) {\n              url.path.push('');\n            }\n          } else {\n            if (url.scheme == 'file' && !url.path.length && isWindowsDriveLetter(buffer)) {\n              if (url.host) url.host = '';\n              buffer = buffer.charAt(0) + ':'; // normalize windows drive letter\n            }\n            url.path.push(buffer);\n          }\n          buffer = '';\n          if (url.scheme == 'file' && (char == EOF || char == '?' || char == '#')) {\n            while (url.path.length > 1 && url.path[0] === '') {\n              url.path.shift();\n            }\n          }\n          if (char == '?') {\n            url.query = '';\n            state = QUERY;\n          } else if (char == '#') {\n            url.fragment = '';\n            state = FRAGMENT;\n          }\n        } else {\n          buffer += percentEncode(char, pathPercentEncodeSet);\n        } break;\n\n      case CANNOT_BE_A_BASE_URL_PATH:\n        if (char == '?') {\n          url.query = '';\n          state = QUERY;\n        } else if (char == '#') {\n          url.fragment = '';\n          state = FRAGMENT;\n        } else if (char != EOF) {\n          url.path[0] += percentEncode(char, C0ControlPercentEncodeSet);\n        } break;\n\n      case QUERY:\n        if (!stateOverride && char == '#') {\n          url.fragment = '';\n          state = FRAGMENT;\n        } else if (char != EOF) {\n          if (char == \"'\" && isSpecial(url)) url.query += '%27';\n          else if (char == '#') url.query += '%23';\n          else url.query += percentEncode(char, C0ControlPercentEncodeSet);\n        } break;\n\n      case FRAGMENT:\n        if (char != EOF) url.fragment += percentEncode(char, fragmentPercentEncodeSet);\n        break;\n    }\n\n    pointer++;\n  }\n};\n\n// `URL` constructor\n// https://url.spec.whatwg.org/#url-class\nvar URLConstructor = function URL(url /* , base */) {\n  var that = anInstance(this, URLConstructor, 'URL');\n  var base = arguments.length > 1 ? arguments[1] : undefined;\n  var urlString = String(url);\n  var state = setInternalState(that, { type: 'URL' });\n  var baseState, failure;\n  if (base !== undefined) {\n    if (base instanceof URLConstructor) baseState = getInternalURLState(base);\n    else {\n      failure = parseURL(baseState = {}, String(base));\n      if (failure) throw TypeError(failure);\n    }\n  }\n  failure = parseURL(state, urlString, null, baseState);\n  if (failure) throw TypeError(failure);\n  var searchParams = state.searchParams = new URLSearchParams();\n  var searchParamsState = getInternalSearchParamsState(searchParams);\n  searchParamsState.updateSearchParams(state.query);\n  searchParamsState.updateURL = function () {\n    state.query = String(searchParams) || null;\n  };\n  if (!DESCRIPTORS) {\n    that.href = serializeURL.call(that);\n    that.origin = getOrigin.call(that);\n    that.protocol = getProtocol.call(that);\n    that.username = getUsername.call(that);\n    that.password = getPassword.call(that);\n    that.host = getHost.call(that);\n    that.hostname = getHostname.call(that);\n    that.port = getPort.call(that);\n    that.pathname = getPathname.call(that);\n    that.search = getSearch.call(that);\n    that.searchParams = getSearchParams.call(that);\n    that.hash = getHash.call(that);\n  }\n};\n\nvar URLPrototype = URLConstructor.prototype;\n\nvar serializeURL = function () {\n  var url = getInternalURLState(this);\n  var scheme = url.scheme;\n  var username = url.username;\n  var password = url.password;\n  var host = url.host;\n  var port = url.port;\n  var path = url.path;\n  var query = url.query;\n  var fragment = url.fragment;\n  var output = scheme + ':';\n  if (host !== null) {\n    output += '//';\n    if (includesCredentials(url)) {\n      output += username + (password ? ':' + password : '') + '@';\n    }\n    output += serializeHost(host);\n    if (port !== null) output += ':' + port;\n  } else if (scheme == 'file') output += '//';\n  output += url.cannotBeABaseURL ? path[0] : path.length ? '/' + path.join('/') : '';\n  if (query !== null) output += '?' + query;\n  if (fragment !== null) output += '#' + fragment;\n  return output;\n};\n\nvar getOrigin = function () {\n  var url = getInternalURLState(this);\n  var scheme = url.scheme;\n  var port = url.port;\n  if (scheme == 'blob') try {\n    return new URL(scheme.path[0]).origin;\n  } catch (error) {\n    return 'null';\n  }\n  if (scheme == 'file' || !isSpecial(url)) return 'null';\n  return scheme + '://' + serializeHost(url.host) + (port !== null ? ':' + port : '');\n};\n\nvar getProtocol = function () {\n  return getInternalURLState(this).scheme + ':';\n};\n\nvar getUsername = function () {\n  return getInternalURLState(this).username;\n};\n\nvar getPassword = function () {\n  return getInternalURLState(this).password;\n};\n\nvar getHost = function () {\n  var url = getInternalURLState(this);\n  var host = url.host;\n  var port = url.port;\n  return host === null ? ''\n    : port === null ? serializeHost(host)\n    : serializeHost(host) + ':' + port;\n};\n\nvar getHostname = function () {\n  var host = getInternalURLState(this).host;\n  return host === null ? '' : serializeHost(host);\n};\n\nvar getPort = function () {\n  var port = getInternalURLState(this).port;\n  return port === null ? '' : String(port);\n};\n\nvar getPathname = function () {\n  var url = getInternalURLState(this);\n  var path = url.path;\n  return url.cannotBeABaseURL ? path[0] : path.length ? '/' + path.join('/') : '';\n};\n\nvar getSearch = function () {\n  var query = getInternalURLState(this).query;\n  return query ? '?' + query : '';\n};\n\nvar getSearchParams = function () {\n  return getInternalURLState(this).searchParams;\n};\n\nvar getHash = function () {\n  var fragment = getInternalURLState(this).fragment;\n  return fragment ? '#' + fragment : '';\n};\n\nvar accessorDescriptor = function (getter, setter) {\n  return { get: getter, set: setter, configurable: true, enumerable: true };\n};\n\nif (DESCRIPTORS) {\n  defineProperties(URLPrototype, {\n    // `URL.prototype.href` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-href\n    href: accessorDescriptor(serializeURL, function (href) {\n      var url = getInternalURLState(this);\n      var urlString = String(href);\n      var failure = parseURL(url, urlString);\n      if (failure) throw TypeError(failure);\n      getInternalSearchParamsState(url.searchParams).updateSearchParams(url.query);\n    }),\n    // `URL.prototype.origin` getter\n    // https://url.spec.whatwg.org/#dom-url-origin\n    origin: accessorDescriptor(getOrigin),\n    // `URL.prototype.protocol` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-protocol\n    protocol: accessorDescriptor(getProtocol, function (protocol) {\n      var url = getInternalURLState(this);\n      parseURL(url, String(protocol) + ':', SCHEME_START);\n    }),\n    // `URL.prototype.username` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-username\n    username: accessorDescriptor(getUsername, function (username) {\n      var url = getInternalURLState(this);\n      var codePoints = arrayFrom(String(username));\n      if (cannotHaveUsernamePasswordPort(url)) return;\n      url.username = '';\n      for (var i = 0; i < codePoints.length; i++) {\n        url.username += percentEncode(codePoints[i], userinfoPercentEncodeSet);\n      }\n    }),\n    // `URL.prototype.password` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-password\n    password: accessorDescriptor(getPassword, function (password) {\n      var url = getInternalURLState(this);\n      var codePoints = arrayFrom(String(password));\n      if (cannotHaveUsernamePasswordPort(url)) return;\n      url.password = '';\n      for (var i = 0; i < codePoints.length; i++) {\n        url.password += percentEncode(codePoints[i], userinfoPercentEncodeSet);\n      }\n    }),\n    // `URL.prototype.host` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-host\n    host: accessorDescriptor(getHost, function (host) {\n      var url = getInternalURLState(this);\n      if (url.cannotBeABaseURL) return;\n      parseURL(url, String(host), HOST);\n    }),\n    // `URL.prototype.hostname` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-hostname\n    hostname: accessorDescriptor(getHostname, function (hostname) {\n      var url = getInternalURLState(this);\n      if (url.cannotBeABaseURL) return;\n      parseURL(url, String(hostname), HOSTNAME);\n    }),\n    // `URL.prototype.port` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-port\n    port: accessorDescriptor(getPort, function (port) {\n      var url = getInternalURLState(this);\n      if (cannotHaveUsernamePasswordPort(url)) return;\n      port = String(port);\n      if (port == '') url.port = null;\n      else parseURL(url, port, PORT);\n    }),\n    // `URL.prototype.pathname` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-pathname\n    pathname: accessorDescriptor(getPathname, function (pathname) {\n      var url = getInternalURLState(this);\n      if (url.cannotBeABaseURL) return;\n      url.path = [];\n      parseURL(url, pathname + '', PATH_START);\n    }),\n    // `URL.prototype.search` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-search\n    search: accessorDescriptor(getSearch, function (search) {\n      var url = getInternalURLState(this);\n      search = String(search);\n      if (search == '') {\n        url.query = null;\n      } else {\n        if ('?' == search.charAt(0)) search = search.slice(1);\n        url.query = '';\n        parseURL(url, search, QUERY);\n      }\n      getInternalSearchParamsState(url.searchParams).updateSearchParams(url.query);\n    }),\n    // `URL.prototype.searchParams` getter\n    // https://url.spec.whatwg.org/#dom-url-searchparams\n    searchParams: accessorDescriptor(getSearchParams),\n    // `URL.prototype.hash` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-hash\n    hash: accessorDescriptor(getHash, function (hash) {\n      var url = getInternalURLState(this);\n      hash = String(hash);\n      if (hash == '') {\n        url.fragment = null;\n        return;\n      }\n      if ('#' == hash.charAt(0)) hash = hash.slice(1);\n      url.fragment = '';\n      parseURL(url, hash, FRAGMENT);\n    })\n  });\n}\n\n// `URL.prototype.toJSON` method\n// https://url.spec.whatwg.org/#dom-url-tojson\nredefine(URLPrototype, 'toJSON', function toJSON() {\n  return serializeURL.call(this);\n}, { enumerable: true });\n\n// `URL.prototype.toString` method\n// https://url.spec.whatwg.org/#URL-stringification-behavior\nredefine(URLPrototype, 'toString', function toString() {\n  return serializeURL.call(this);\n}, { enumerable: true });\n\nif (NativeURL) {\n  var nativeCreateObjectURL = NativeURL.createObjectURL;\n  var nativeRevokeObjectURL = NativeURL.revokeObjectURL;\n  // `URL.createObjectURL` method\n  // https://developer.mozilla.org/en-US/docs/Web/API/URL/createObjectURL\n  // eslint-disable-next-line no-unused-vars\n  if (nativeCreateObjectURL) redefine(URLConstructor, 'createObjectURL', function createObjectURL(blob) {\n    return nativeCreateObjectURL.apply(NativeURL, arguments);\n  });\n  // `URL.revokeObjectURL` method\n  // https://developer.mozilla.org/en-US/docs/Web/API/URL/revokeObjectURL\n  // eslint-disable-next-line no-unused-vars\n  if (nativeRevokeObjectURL) redefine(URLConstructor, 'revokeObjectURL', function revokeObjectURL(url) {\n    return nativeRevokeObjectURL.apply(NativeURL, arguments);\n  });\n}\n\nsetToStringTag(URLConstructor, 'URL');\n\n$({ global: true, forced: !USE_NATIVE_URL, sham: !DESCRIPTORS }, {\n  URL: URLConstructor\n});\n","'use strict';\nvar collection = require('../internals/collection');\nvar collectionStrong = require('../internals/collection-strong');\n\n// `Map` constructor\n// https://tc39.github.io/ecma262/#sec-map-objects\nmodule.exports = collection('Map', function (init) {\n  return function Map() { return init(this, arguments.length ? arguments[0] : undefined); };\n}, collectionStrong);\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar createProperty = require('../internals/create-property');\n\nvar ISNT_GENERIC = fails(function () {\n  function F() { /* empty */ }\n  return !(Array.of.call(F) instanceof F);\n});\n\n// `Array.of` method\n// https://tc39.github.io/ecma262/#sec-array.of\n// WebKit Array.of isn't generic\n$({ target: 'Array', stat: true, forced: ISNT_GENERIC }, {\n  of: function of(/* ...args */) {\n    var index = 0;\n    var argumentsLength = arguments.length;\n    var result = new (typeof this == 'function' ? this : Array)(argumentsLength);\n    while (argumentsLength > index) createProperty(result, index, arguments[index++]);\n    result.length = argumentsLength;\n    return result;\n  }\n});\n","'use strict';\n// based on https://github.com/bestiejs/punycode.js/blob/master/punycode.js\nvar maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1\nvar base = 36;\nvar tMin = 1;\nvar tMax = 26;\nvar skew = 38;\nvar damp = 700;\nvar initialBias = 72;\nvar initialN = 128; // 0x80\nvar delimiter = '-'; // '\\x2D'\nvar regexNonASCII = /[^\\0-\\u007E]/; // non-ASCII chars\nvar regexSeparators = /[.\\u3002\\uFF0E\\uFF61]/g; // RFC 3490 separators\nvar OVERFLOW_ERROR = 'Overflow: input needs wider integers to process';\nvar baseMinusTMin = base - tMin;\nvar floor = Math.floor;\nvar stringFromCharCode = String.fromCharCode;\n\n/**\n * Creates an array containing the numeric code points of each Unicode\n * character in the string. While JavaScript uses UCS-2 internally,\n * this function will convert a pair of surrogate halves (each of which\n * UCS-2 exposes as separate characters) into a single code point,\n * matching UTF-16.\n */\nvar ucs2decode = function (string) {\n  var output = [];\n  var counter = 0;\n  var length = string.length;\n  while (counter < length) {\n    var value = string.charCodeAt(counter++);\n    if (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n      // It's a high surrogate, and there is a next character.\n      var extra = string.charCodeAt(counter++);\n      if ((extra & 0xFC00) == 0xDC00) { // Low surrogate.\n        output.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n      } else {\n        // It's an unmatched surrogate; only append this code unit, in case the\n        // next code unit is the high surrogate of a surrogate pair.\n        output.push(value);\n        counter--;\n      }\n    } else {\n      output.push(value);\n    }\n  }\n  return output;\n};\n\n/**\n * Converts a digit/integer into a basic code point.\n */\nvar digitToBasic = function (digit) {\n  //  0..25 map to ASCII a..z or A..Z\n  // 26..35 map to ASCII 0..9\n  return digit + 22 + 75 * (digit < 26);\n};\n\n/**\n * Bias adaptation function as per section 3.4 of RFC 3492.\n * https://tools.ietf.org/html/rfc3492#section-3.4\n */\nvar adapt = function (delta, numPoints, firstTime) {\n  var k = 0;\n  delta = firstTime ? floor(delta / damp) : delta >> 1;\n  delta += floor(delta / numPoints);\n  for (; delta > baseMinusTMin * tMax >> 1; k += base) {\n    delta = floor(delta / baseMinusTMin);\n  }\n  return floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n};\n\n/**\n * Converts a string of Unicode symbols (e.g. a domain name label) to a\n * Punycode string of ASCII-only symbols.\n */\n// eslint-disable-next-line  max-statements\nvar encode = function (input) {\n  var output = [];\n\n  // Convert the input in UCS-2 to an array of Unicode code points.\n  input = ucs2decode(input);\n\n  // Cache the length.\n  var inputLength = input.length;\n\n  // Initialize the state.\n  var n = initialN;\n  var delta = 0;\n  var bias = initialBias;\n  var i, currentValue;\n\n  // Handle the basic code points.\n  for (i = 0; i < input.length; i++) {\n    currentValue = input[i];\n    if (currentValue < 0x80) {\n      output.push(stringFromCharCode(currentValue));\n    }\n  }\n\n  var basicLength = output.length; // number of basic code points.\n  var handledCPCount = basicLength; // number of code points that have been handled;\n\n  // Finish the basic string with a delimiter unless it's empty.\n  if (basicLength) {\n    output.push(delimiter);\n  }\n\n  // Main encoding loop:\n  while (handledCPCount < inputLength) {\n    // All non-basic code points < n have been handled already. Find the next larger one:\n    var m = maxInt;\n    for (i = 0; i < input.length; i++) {\n      currentValue = input[i];\n      if (currentValue >= n && currentValue < m) {\n        m = currentValue;\n      }\n    }\n\n    // Increase `delta` enough to advance the decoder's <n,i> state to <m,0>, but guard against overflow.\n    var handledCPCountPlusOne = handledCPCount + 1;\n    if (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n      throw RangeError(OVERFLOW_ERROR);\n    }\n\n    delta += (m - n) * handledCPCountPlusOne;\n    n = m;\n\n    for (i = 0; i < input.length; i++) {\n      currentValue = input[i];\n      if (currentValue < n && ++delta > maxInt) {\n        throw RangeError(OVERFLOW_ERROR);\n      }\n      if (currentValue == n) {\n        // Represent delta as a generalized variable-length integer.\n        var q = delta;\n        for (var k = base; /* no condition */; k += base) {\n          var t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n          if (q < t) break;\n          var qMinusT = q - t;\n          var baseMinusT = base - t;\n          output.push(stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT)));\n          q = floor(qMinusT / baseMinusT);\n        }\n\n        output.push(stringFromCharCode(digitToBasic(q)));\n        bias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n        delta = 0;\n        ++handledCPCount;\n      }\n    }\n\n    ++delta;\n    ++n;\n  }\n  return output.join('');\n};\n\nmodule.exports = function (input) {\n  var encoded = [];\n  var labels = input.toLowerCase().replace(regexSeparators, '\\u002E').split('.');\n  var i, label;\n  for (i = 0; i < labels.length; i++) {\n    label = labels[i];\n    encoded.push(regexNonASCII.test(label) ? 'xn--' + encode(label) : label);\n  }\n  return encoded.join('.');\n};\n","'use strict';\nvar defineProperty = require('../internals/object-define-property').f;\nvar create = require('../internals/object-create');\nvar redefineAll = require('../internals/redefine-all');\nvar bind = require('../internals/function-bind-context');\nvar anInstance = require('../internals/an-instance');\nvar iterate = require('../internals/iterate');\nvar defineIterator = require('../internals/define-iterator');\nvar setSpecies = require('../internals/set-species');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fastKey = require('../internals/internal-metadata').fastKey;\nvar InternalStateModule = require('../internals/internal-state');\n\nvar setInternalState = InternalStateModule.set;\nvar internalStateGetterFor = InternalStateModule.getterFor;\n\nmodule.exports = {\n  getConstructor: function (wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, CONSTRUCTOR_NAME);\n      setInternalState(that, {\n        type: CONSTRUCTOR_NAME,\n        index: create(null),\n        first: undefined,\n        last: undefined,\n        size: 0\n      });\n      if (!DESCRIPTORS) that.size = 0;\n      if (iterable != undefined) iterate(iterable, that[ADDER], that, IS_MAP);\n    });\n\n    var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);\n\n    var define = function (that, key, value) {\n      var state = getInternalState(that);\n      var entry = getEntry(that, key);\n      var previous, index;\n      // change existing entry\n      if (entry) {\n        entry.value = value;\n      // create new entry\n      } else {\n        state.last = entry = {\n          index: index = fastKey(key, true),\n          key: key,\n          value: value,\n          previous: previous = state.last,\n          next: undefined,\n          removed: false\n        };\n        if (!state.first) state.first = entry;\n        if (previous) previous.next = entry;\n        if (DESCRIPTORS) state.size++;\n        else that.size++;\n        // add to index\n        if (index !== 'F') state.index[index] = entry;\n      } return that;\n    };\n\n    var getEntry = function (that, key) {\n      var state = getInternalState(that);\n      // fast case\n      var index = fastKey(key);\n      var entry;\n      if (index !== 'F') return state.index[index];\n      // frozen object case\n      for (entry = state.first; entry; entry = entry.next) {\n        if (entry.key == key) return entry;\n      }\n    };\n\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        var that = this;\n        var state = getInternalState(that);\n        var data = state.index;\n        var entry = state.first;\n        while (entry) {\n          entry.removed = true;\n          if (entry.previous) entry.previous = entry.previous.next = undefined;\n          delete data[entry.index];\n          entry = entry.next;\n        }\n        state.first = state.last = undefined;\n        if (DESCRIPTORS) state.size = 0;\n        else that.size = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = this;\n        var state = getInternalState(that);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.next;\n          var prev = entry.previous;\n          delete state.index[entry.index];\n          entry.removed = true;\n          if (prev) prev.next = next;\n          if (next) next.previous = prev;\n          if (state.first == entry) state.first = next;\n          if (state.last == entry) state.last = prev;\n          if (DESCRIPTORS) state.size--;\n          else that.size--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        var state = getInternalState(this);\n        var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.next : state.first) {\n          boundFunction(entry.value, entry.key, this);\n          // revert to the last existing entry\n          while (entry && entry.removed) entry = entry.previous;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(this, key);\n      }\n    });\n\n    redefineAll(C.prototype, IS_MAP ? {\n      // 23.1.3.6 Map.prototype.get(key)\n      get: function get(key) {\n        var entry = getEntry(this, key);\n        return entry && entry.value;\n      },\n      // 23.1.3.9 Map.prototype.set(key, value)\n      set: function set(key, value) {\n        return define(this, key === 0 ? 0 : key, value);\n      }\n    } : {\n      // 23.2.3.1 Set.prototype.add(value)\n      add: function add(value) {\n        return define(this, value = value === 0 ? 0 : value, value);\n      }\n    });\n    if (DESCRIPTORS) defineProperty(C.prototype, 'size', {\n      get: function () {\n        return getInternalState(this).size;\n      }\n    });\n    return C;\n  },\n  setStrong: function (C, CONSTRUCTOR_NAME, IS_MAP) {\n    var ITERATOR_NAME = CONSTRUCTOR_NAME + ' Iterator';\n    var getInternalCollectionState = internalStateGetterFor(CONSTRUCTOR_NAME);\n    var getInternalIteratorState = internalStateGetterFor(ITERATOR_NAME);\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    defineIterator(C, CONSTRUCTOR_NAME, function (iterated, kind) {\n      setInternalState(this, {\n        type: ITERATOR_NAME,\n        target: iterated,\n        state: getInternalCollectionState(iterated),\n        kind: kind,\n        last: undefined\n      });\n    }, function () {\n      var state = getInternalIteratorState(this);\n      var kind = state.kind;\n      var entry = state.last;\n      // revert to the last existing entry\n      while (entry && entry.removed) entry = entry.previous;\n      // get next entry\n      if (!state.target || !(state.last = entry = entry ? entry.next : state.state.first)) {\n        // or finish the iteration\n        state.target = undefined;\n        return { value: undefined, done: true };\n      }\n      // return step by kind\n      if (kind == 'keys') return { value: entry.key, done: false };\n      if (kind == 'values') return { value: entry.value, done: false };\n      return { value: [entry.key, entry.value], done: false };\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(CONSTRUCTOR_NAME);\n  }\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar InternalMetadataModule = require('../internals/internal-metadata');\nvar iterate = require('../internals/iterate');\nvar anInstance = require('../internals/an-instance');\nvar isObject = require('../internals/is-object');\nvar fails = require('../internals/fails');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar inheritIfRequired = require('../internals/inherit-if-required');\n\nmodule.exports = function (CONSTRUCTOR_NAME, wrapper, common) {\n  var IS_MAP = CONSTRUCTOR_NAME.indexOf('Map') !== -1;\n  var IS_WEAK = CONSTRUCTOR_NAME.indexOf('Weak') !== -1;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var NativeConstructor = global[CONSTRUCTOR_NAME];\n  var NativePrototype = NativeConstructor && NativeConstructor.prototype;\n  var Constructor = NativeConstructor;\n  var exported = {};\n\n  var fixMethod = function (KEY) {\n    var nativeMethod = NativePrototype[KEY];\n    redefine(NativePrototype, KEY,\n      KEY == 'add' ? function add(value) {\n        nativeMethod.call(this, value === 0 ? 0 : value);\n        return this;\n      } : KEY == 'delete' ? function (key) {\n        return IS_WEAK && !isObject(key) ? false : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : KEY == 'get' ? function get(key) {\n        return IS_WEAK && !isObject(key) ? undefined : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : KEY == 'has' ? function has(key) {\n        return IS_WEAK && !isObject(key) ? false : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : function set(key, value) {\n        nativeMethod.call(this, key === 0 ? 0 : key, value);\n        return this;\n      }\n    );\n  };\n\n  // eslint-disable-next-line max-len\n  if (isForced(CONSTRUCTOR_NAME, typeof NativeConstructor != 'function' || !(IS_WEAK || NativePrototype.forEach && !fails(function () {\n    new NativeConstructor().entries().next();\n  })))) {\n    // create collection constructor\n    Constructor = common.getConstructor(wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER);\n    InternalMetadataModule.REQUIRED = true;\n  } else if (isForced(CONSTRUCTOR_NAME, true)) {\n    var instance = new Constructor();\n    // early implementations not supports chaining\n    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;\n    // V8 ~ Chromium 40- weak-collections throws on primitives, but should return false\n    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });\n    // most early implementations doesn't supports iterables, most modern - not close it correctly\n    // eslint-disable-next-line no-new\n    var ACCEPT_ITERABLES = checkCorrectnessOfIteration(function (iterable) { new NativeConstructor(iterable); });\n    // for early implementations -0 and +0 not the same\n    var BUGGY_ZERO = !IS_WEAK && fails(function () {\n      // V8 ~ Chromium 42- fails only with 5+ elements\n      var $instance = new NativeConstructor();\n      var index = 5;\n      while (index--) $instance[ADDER](index, index);\n      return !$instance.has(-0);\n    });\n\n    if (!ACCEPT_ITERABLES) {\n      Constructor = wrapper(function (dummy, iterable) {\n        anInstance(dummy, Constructor, CONSTRUCTOR_NAME);\n        var that = inheritIfRequired(new NativeConstructor(), dummy, Constructor);\n        if (iterable != undefined) iterate(iterable, that[ADDER], that, IS_MAP);\n        return that;\n      });\n      Constructor.prototype = NativePrototype;\n      NativePrototype.constructor = Constructor;\n    }\n\n    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n\n    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);\n\n    // weak collections should not contains .clear method\n    if (IS_WEAK && NativePrototype.clear) delete NativePrototype.clear;\n  }\n\n  exported[CONSTRUCTOR_NAME] = Constructor;\n  $({ global: true, forced: Constructor != NativeConstructor }, exported);\n\n  setToStringTag(Constructor, CONSTRUCTOR_NAME);\n\n  if (!IS_WEAK) common.setStrong(Constructor, CONSTRUCTOR_NAME, IS_MAP);\n\n  return Constructor;\n};\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Resource.vue?vue&type=style&index=0&id=515cf404&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Resource.vue?vue&type=style&index=0&id=515cf404&lang=less&scoped=true&\"","'use strict';\n// TODO: in core-js@4, move /modules/ dependencies to public entries for better optimization by tools like `preset-env`\nrequire('../modules/es.array.iterator');\nvar $ = require('../internals/export');\nvar getBuiltIn = require('../internals/get-built-in');\nvar USE_NATIVE_URL = require('../internals/native-url');\nvar redefine = require('../internals/redefine');\nvar redefineAll = require('../internals/redefine-all');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar createIteratorConstructor = require('../internals/create-iterator-constructor');\nvar InternalStateModule = require('../internals/internal-state');\nvar anInstance = require('../internals/an-instance');\nvar hasOwn = require('../internals/has');\nvar bind = require('../internals/function-bind-context');\nvar classof = require('../internals/classof');\nvar anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar getIterator = require('../internals/get-iterator');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar $fetch = getBuiltIn('fetch');\nvar Headers = getBuiltIn('Headers');\nvar ITERATOR = wellKnownSymbol('iterator');\nvar URL_SEARCH_PARAMS = 'URLSearchParams';\nvar URL_SEARCH_PARAMS_ITERATOR = URL_SEARCH_PARAMS + 'Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalParamsState = InternalStateModule.getterFor(URL_SEARCH_PARAMS);\nvar getInternalIteratorState = InternalStateModule.getterFor(URL_SEARCH_PARAMS_ITERATOR);\n\nvar plus = /\\+/g;\nvar sequences = Array(4);\n\nvar percentSequence = function (bytes) {\n  return sequences[bytes - 1] || (sequences[bytes - 1] = RegExp('((?:%[\\\\da-f]{2}){' + bytes + '})', 'gi'));\n};\n\nvar percentDecode = function (sequence) {\n  try {\n    return decodeURIComponent(sequence);\n  } catch (error) {\n    return sequence;\n  }\n};\n\nvar deserialize = function (it) {\n  var result = it.replace(plus, ' ');\n  var bytes = 4;\n  try {\n    return decodeURIComponent(result);\n  } catch (error) {\n    while (bytes) {\n      result = result.replace(percentSequence(bytes--), percentDecode);\n    }\n    return result;\n  }\n};\n\nvar find = /[!'()~]|%20/g;\n\nvar replace = {\n  '!': '%21',\n  \"'\": '%27',\n  '(': '%28',\n  ')': '%29',\n  '~': '%7E',\n  '%20': '+'\n};\n\nvar replacer = function (match) {\n  return replace[match];\n};\n\nvar serialize = function (it) {\n  return encodeURIComponent(it).replace(find, replacer);\n};\n\nvar parseSearchParams = function (result, query) {\n  if (query) {\n    var attributes = query.split('&');\n    var index = 0;\n    var attribute, entry;\n    while (index < attributes.length) {\n      attribute = attributes[index++];\n      if (attribute.length) {\n        entry = attribute.split('=');\n        result.push({\n          key: deserialize(entry.shift()),\n          value: deserialize(entry.join('='))\n        });\n      }\n    }\n  }\n};\n\nvar updateSearchParams = function (query) {\n  this.entries.length = 0;\n  parseSearchParams(this.entries, query);\n};\n\nvar validateArgumentsLength = function (passed, required) {\n  if (passed < required) throw TypeError('Not enough arguments');\n};\n\nvar URLSearchParamsIterator = createIteratorConstructor(function Iterator(params, kind) {\n  setInternalState(this, {\n    type: URL_SEARCH_PARAMS_ITERATOR,\n    iterator: getIterator(getInternalParamsState(params).entries),\n    kind: kind\n  });\n}, 'Iterator', function next() {\n  var state = getInternalIteratorState(this);\n  var kind = state.kind;\n  var step = state.iterator.next();\n  var entry = step.value;\n  if (!step.done) {\n    step.value = kind === 'keys' ? entry.key : kind === 'values' ? entry.value : [entry.key, entry.value];\n  } return step;\n});\n\n// `URLSearchParams` constructor\n// https://url.spec.whatwg.org/#interface-urlsearchparams\nvar URLSearchParamsConstructor = function URLSearchParams(/* init */) {\n  anInstance(this, URLSearchParamsConstructor, URL_SEARCH_PARAMS);\n  var init = arguments.length > 0 ? arguments[0] : undefined;\n  var that = this;\n  var entries = [];\n  var iteratorMethod, iterator, next, step, entryIterator, entryNext, first, second, key;\n\n  setInternalState(that, {\n    type: URL_SEARCH_PARAMS,\n    entries: entries,\n    updateURL: function () { /* empty */ },\n    updateSearchParams: updateSearchParams\n  });\n\n  if (init !== undefined) {\n    if (isObject(init)) {\n      iteratorMethod = getIteratorMethod(init);\n      if (typeof iteratorMethod === 'function') {\n        iterator = iteratorMethod.call(init);\n        next = iterator.next;\n        while (!(step = next.call(iterator)).done) {\n          entryIterator = getIterator(anObject(step.value));\n          entryNext = entryIterator.next;\n          if (\n            (first = entryNext.call(entryIterator)).done ||\n            (second = entryNext.call(entryIterator)).done ||\n            !entryNext.call(entryIterator).done\n          ) throw TypeError('Expected sequence with length 2');\n          entries.push({ key: first.value + '', value: second.value + '' });\n        }\n      } else for (key in init) if (hasOwn(init, key)) entries.push({ key: key, value: init[key] + '' });\n    } else {\n      parseSearchParams(entries, typeof init === 'string' ? init.charAt(0) === '?' ? init.slice(1) : init : init + '');\n    }\n  }\n};\n\nvar URLSearchParamsPrototype = URLSearchParamsConstructor.prototype;\n\nredefineAll(URLSearchParamsPrototype, {\n  // `URLSearchParams.prototype.appent` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-append\n  append: function append(name, value) {\n    validateArgumentsLength(arguments.length, 2);\n    var state = getInternalParamsState(this);\n    state.entries.push({ key: name + '', value: value + '' });\n    state.updateURL();\n  },\n  // `URLSearchParams.prototype.delete` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-delete\n  'delete': function (name) {\n    validateArgumentsLength(arguments.length, 1);\n    var state = getInternalParamsState(this);\n    var entries = state.entries;\n    var key = name + '';\n    var index = 0;\n    while (index < entries.length) {\n      if (entries[index].key === key) entries.splice(index, 1);\n      else index++;\n    }\n    state.updateURL();\n  },\n  // `URLSearchParams.prototype.get` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-get\n  get: function get(name) {\n    validateArgumentsLength(arguments.length, 1);\n    var entries = getInternalParamsState(this).entries;\n    var key = name + '';\n    var index = 0;\n    for (; index < entries.length; index++) {\n      if (entries[index].key === key) return entries[index].value;\n    }\n    return null;\n  },\n  // `URLSearchParams.prototype.getAll` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-getall\n  getAll: function getAll(name) {\n    validateArgumentsLength(arguments.length, 1);\n    var entries = getInternalParamsState(this).entries;\n    var key = name + '';\n    var result = [];\n    var index = 0;\n    for (; index < entries.length; index++) {\n      if (entries[index].key === key) result.push(entries[index].value);\n    }\n    return result;\n  },\n  // `URLSearchParams.prototype.has` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-has\n  has: function has(name) {\n    validateArgumentsLength(arguments.length, 1);\n    var entries = getInternalParamsState(this).entries;\n    var key = name + '';\n    var index = 0;\n    while (index < entries.length) {\n      if (entries[index++].key === key) return true;\n    }\n    return false;\n  },\n  // `URLSearchParams.prototype.set` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-set\n  set: function set(name, value) {\n    validateArgumentsLength(arguments.length, 1);\n    var state = getInternalParamsState(this);\n    var entries = state.entries;\n    var found = false;\n    var key = name + '';\n    var val = value + '';\n    var index = 0;\n    var entry;\n    for (; index < entries.length; index++) {\n      entry = entries[index];\n      if (entry.key === key) {\n        if (found) entries.splice(index--, 1);\n        else {\n          found = true;\n          entry.value = val;\n        }\n      }\n    }\n    if (!found) entries.push({ key: key, value: val });\n    state.updateURL();\n  },\n  // `URLSearchParams.prototype.sort` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-sort\n  sort: function sort() {\n    var state = getInternalParamsState(this);\n    var entries = state.entries;\n    // Array#sort is not stable in some engines\n    var slice = entries.slice();\n    var entry, entriesIndex, sliceIndex;\n    entries.length = 0;\n    for (sliceIndex = 0; sliceIndex < slice.length; sliceIndex++) {\n      entry = slice[sliceIndex];\n      for (entriesIndex = 0; entriesIndex < sliceIndex; entriesIndex++) {\n        if (entries[entriesIndex].key > entry.key) {\n          entries.splice(entriesIndex, 0, entry);\n          break;\n        }\n      }\n      if (entriesIndex === sliceIndex) entries.push(entry);\n    }\n    state.updateURL();\n  },\n  // `URLSearchParams.prototype.forEach` method\n  forEach: function forEach(callback /* , thisArg */) {\n    var entries = getInternalParamsState(this).entries;\n    var boundFunction = bind(callback, arguments.length > 1 ? arguments[1] : undefined, 3);\n    var index = 0;\n    var entry;\n    while (index < entries.length) {\n      entry = entries[index++];\n      boundFunction(entry.value, entry.key, this);\n    }\n  },\n  // `URLSearchParams.prototype.keys` method\n  keys: function keys() {\n    return new URLSearchParamsIterator(this, 'keys');\n  },\n  // `URLSearchParams.prototype.values` method\n  values: function values() {\n    return new URLSearchParamsIterator(this, 'values');\n  },\n  // `URLSearchParams.prototype.entries` method\n  entries: function entries() {\n    return new URLSearchParamsIterator(this, 'entries');\n  }\n}, { enumerable: true });\n\n// `URLSearchParams.prototype[@@iterator]` method\nredefine(URLSearchParamsPrototype, ITERATOR, URLSearchParamsPrototype.entries);\n\n// `URLSearchParams.prototype.toString` method\n// https://url.spec.whatwg.org/#urlsearchparams-stringification-behavior\nredefine(URLSearchParamsPrototype, 'toString', function toString() {\n  var entries = getInternalParamsState(this).entries;\n  var result = [];\n  var index = 0;\n  var entry;\n  while (index < entries.length) {\n    entry = entries[index++];\n    result.push(serialize(entry.key) + '=' + serialize(entry.value));\n  } return result.join('&');\n}, { enumerable: true });\n\nsetToStringTag(URLSearchParamsConstructor, URL_SEARCH_PARAMS);\n\n$({ global: true, forced: !USE_NATIVE_URL }, {\n  URLSearchParams: URLSearchParamsConstructor\n});\n\n// Wrap `fetch` for correct work with polyfilled `URLSearchParams`\n// https://github.com/zloirock/core-js/issues/674\nif (!USE_NATIVE_URL && typeof $fetch == 'function' && typeof Headers == 'function') {\n  $({ global: true, enumerable: true, forced: true }, {\n    fetch: function fetch(input /* , init */) {\n      var args = [input];\n      var init, body, headers;\n      if (arguments.length > 1) {\n        init = arguments[1];\n        if (isObject(init)) {\n          body = init.body;\n          if (classof(body) === URL_SEARCH_PARAMS) {\n            headers = init.headers ? new Headers(init.headers) : new Headers();\n            if (!headers.has('content-type')) {\n              headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n            }\n            init = create(init, {\n              body: createPropertyDescriptor(0, String(body)),\n              headers: createPropertyDescriptor(0, headers)\n            });\n          }\n        }\n        args.push(init);\n      } return $fetch.apply(this, args);\n    }\n  });\n}\n\nmodule.exports = {\n  URLSearchParams: URLSearchParamsConstructor,\n  getState: getInternalParamsState\n};\n","var anObject = require('../internals/an-object');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\nmodule.exports = function (it) {\n  var iteratorMethod = getIteratorMethod(it);\n  if (typeof iteratorMethod != 'function') {\n    throw TypeError(String(it) + ' is not iterable');\n  } return anObject(iteratorMethod.call(it));\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('splice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  return Object.isExtensible(Object.preventExtensions({}));\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"editor\"},[_vm._m(0),_c('br'),_c('section',[_c('div',{staticClass:\"form-1\"},[_c('h3',[_vm._v(\"标题/简介/作者\")]),_c('br'),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.submit.title),expression:\"submit.title\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入您的文章标题\",\"name\":\"title\"},domProps:{\"value\":(_vm.submit.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.submit, \"title\", $event.target.value)}}}),_c('br'),_c('br'),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.submit.brief),expression:\"submit.brief\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入您的简介(仅在列表页显示)\",\"name\":\"brief\"},domProps:{\"value\":(_vm.submit.brief)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.submit, \"brief\", $event.target.value)}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.submit.name),expression:\"submit.name\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入您的名字\",\"name\":\"author\"},domProps:{\"value\":(_vm.submit.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.submit, \"name\", $event.target.value)}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.submit.imgurl),expression:\"submit.imgurl\"}],attrs:{\"type\":\"text\",\"placeholder\":\"网络图片地址或者本地服务器地址\",\"name\":\"imgurl\"},domProps:{\"value\":(_vm.submit.imgurl)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.submit, \"imgurl\", $event.target.value)}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.submit.time),expression:\"submit.time\"}],attrs:{\"type\":\"text\",\"placeholder\":\"手动输入时间,暂时未开放自动功能\",\"name\":\"imgurl\"},domProps:{\"value\":(_vm.submit.time)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.submit, \"time\", $event.target.value)}}})]),_c('br'),_c('div',{staticClass:\"form-2\"},[_c('h3',[_vm._v(\"所属分类\")]),_c('br'),_c('ul',_vm._l((_vm.edidordata.classly),function(item,index){return _c('li',{key:index},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.submit.classly),expression:\"submit.classly\"}],attrs:{\"type\":\"radio\",\"name\":\"classly\",\"id\":item},domProps:{\"value\":item,\"checked\":_vm._q(_vm.submit.classly,item)},on:{\"change\":function($event){return _vm.$set(_vm.submit, \"classly\", item)}}}),_c('label',{attrs:{\"for\":item}},[_vm._v(_vm._s(item))])])}),0)]),_c('br'),_c('div',{staticClass:\"form-3\"},[_c('h3',[_vm._v(\"标签\")]),_c('br'),_c('h4',[_vm._v(\"推荐标签\")]),_c('br'),_c('ul',_vm._l((_vm.edidordata.tgas),function(item,index){return _c('li',{key:index,attrs:{\"data-num\":index},on:{\"!click\":function($event){return _vm.confirmtags(index)}}},[_c('span',[_vm._v(_vm._s(item))]),_c('i',{staticClass:\"iconfont icon-tags\"})])}),0),_c('br'),_c('h4',[_vm._v(\"我的标签\")]),_c('br'),_c('ul',_vm._l((_vm.submit.tgas),function(item,index){return _c('li',{key:index,attrs:{\"data-num\":index}},[_c('span',[_vm._v(_vm._s(item))]),_c('i',{staticClass:\"iconfont icon-tags\",on:{\"click\":function($event){return _vm.deteleFun(item)}}})])}),0),_c('form',{attrs:{\"action\":\"\"}},[_c('input',{attrs:{\"type\":\"text\",\"id\":\"tags\"},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.onkeytags($event)}}}),_c('label',{attrs:{\"for\":\"tags\"}},[_vm._v(\"按下回车创建标签\")])])]),_c('br'),_c('div',{staticClass:\"form-4\"},[_c('h3',[_vm._v(\"图片上传\")]),_c('br'),_c('form',{attrs:{\"action\":\"\"}},[_c('input',{attrs:{\"type\":\"file\",\"accept\":\"image/jpeg, image/jpg, image/png, image/bmp\",\"id\":\"imgfile\"},on:{\"change\":_vm.imgsrcFun}})]),_c('div',[_c('label',{attrs:{\"for\":\"imgfile\"}},[_c('div',[_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.imginput),expression:\"imginput\"}],staticClass:\"iconfont icon-tupian\"}),_c('h4',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.imginput),expression:\"imginput\"}]},[_vm._v(\"请添加专栏头图\")]),_c('img',{attrs:{\"src\":_vm.imgcanvas,\"alt\":\"\"}})])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.imginput === false),expression:\"imginput === false\"}],staticClass:\"modification\"},[_c('div',[_c('i',{staticClass:\"iconfont icon-xiazai\",on:{\"click\":_vm.downloadFun}}),_c('i',{staticClass:\"iconfont icon-tupian\",on:{\"click\":function($event){return _vm.reselectFun('#imgfile')}}}),_c('i',{staticClass:\"iconfont icon-shanchu\",on:{\"click\":function($event){_vm.imgcanvas = ''}}})])])]),_c('br'),_c('aside',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.imgsrc !== ''),expression:\"imgsrc !== ''\"}]},[_vm._m(1),_c('br'),_c('div',{staticClass:\"cutting\"},[_c('div',{staticClass:\"left\"},[_c('h5',[_vm._v(\"截取展示区域\")]),_c('figure',[_c('div',[_c('div',{ref:\"choose\",staticClass:\"choose\"}),_c('img',{ref:\"refimg\",attrs:{\"src\":_vm.imgsrc,\"alt\":\"\"}})])])]),_c('div',{staticClass:\"right\"},[_c('h5',[_vm._v(\"最终效果展示\")]),_c('div',[_c('img',{ref:\"chooseresult\",attrs:{\"src\":_vm.imgsrc,\"alt\":\"\"}})])])]),_c('br'),_c('div',{staticClass:\"reselect\"},[_c('button',{on:{\"click\":function($event){return _vm.reselectFun('#imgfile')}}},[_vm._v(\"重新选择\")])]),_c('br'),_c('div',{staticClass:\"bottom\"},[_c('button',{on:{\"click\":function($event){return _vm.confirmFun()}}},[_vm._v(\"确认\")]),_c('button',{on:{\"click\":_vm.cancleFun}},[_vm._v(\"取消\")])])])]),_c('br'),_c('div',{staticClass:\"form-5\"},[_c('h3',[_vm._v(\"你的创作准备好了吗\")]),_c('br'),_c('ul',[_c('li',[_c('button',{on:{\"click\":_vm.subData}},[_vm._v(\"提交文章\")])]),_vm._m(2),_vm._m(3)])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('article',[_c('div',{attrs:{\"id\":\"editor-1\"}}),_c('br'),_c('div',{attrs:{\"id\":\"editor-2\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h4',[_c('span',[_vm._v(\"设置专栏头图\")]),_c('i',{staticClass:\"iconfont icon-guanbi\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_c('button',[_vm._v(\"PC端预览\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_c('button',[_vm._v(\"手机端预览\")])])}]\n\nexport { render, staticRenderFns }","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default class Apidata{\r\n\teditorApi(){\r\n\t\tlet obj = import(\"../../../public/data/editor.json\");\r\n\t\treturn obj;\r\n\t}\r\n}\r\n","<script src=\"../components/apidata/api.js\"></script>\r\n<template>\r\n  <div class=\"editor\">\r\n    <article>\r\n      <div id=\"editor-1\"></div>\r\n      <br />\r\n      <div id=\"editor-2\"></div>\r\n    </article>\r\n    <br />\r\n    <section>\r\n      <div class=\"form-1\">\r\n        <h3>标题/简介/作者</h3>\r\n        <br />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"请输入您的文章标题\"\r\n          name=\"title\"\r\n          v-model=\"submit.title\"\r\n        />\r\n        <br />\r\n        <br />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"请输入您的简介(仅在列表页显示)\"\r\n          name=\"brief\"\r\n          v-model=\"submit.brief\"\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"请输入您的名字\"\r\n          name=\"author\"\r\n          v-model=\"submit.name\"\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"网络图片地址或者本地服务器地址\"\r\n          name=\"imgurl\"\r\n          v-model=\"submit.imgurl\"\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"手动输入时间,暂时未开放自动功能\"\r\n          name=\"imgurl\"\r\n          v-model=\"submit.time\"\r\n        />\r\n      </div>\r\n      <br />\r\n      <div class=\"form-2\">\r\n        <h3>所属分类</h3>\r\n        <br />\r\n        <ul>\r\n          <li v-for=\"(item, index) in edidordata.classly\" :key=\"index\">\r\n            <input\r\n              type=\"radio\"\r\n              name=\"classly\"\r\n              :id=\"item\"\r\n              :value=\"item\"\r\n              v-model=\"submit.classly\"\r\n            />\r\n            <label :for=\"item\">{{ item }}</label>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <br />\r\n      <div class=\"form-3\">\r\n        <h3>标签</h3>\r\n        <br />\r\n        <h4>推荐标签</h4>\r\n        <br />\r\n        <ul>\r\n          <li\r\n            v-for=\"(item, index) in edidordata.tgas\"\r\n            :key=\"index\"\r\n            @click.capture=\"confirmtags(index)\"\r\n            :data-num=\"index\"\r\n          >\r\n            <span>{{ item }}</span>\r\n            <i class=\"iconfont icon-tags\"></i>\r\n          </li>\r\n        </ul>\r\n        <br />\r\n\r\n        <h4>我的标签</h4>\r\n        <br />\r\n        <ul>\r\n          <li\r\n            v-for=\"(item, index) in submit.tgas\"\r\n            :key=\"index\"\r\n            :data-num=\"index\"\r\n          >\r\n            <span>{{ item }}</span>\r\n            <i class=\"iconfont icon-tags\" @click=\"deteleFun(item)\"></i>\r\n          </li>\r\n        </ul>\r\n        <form action=\"\">\r\n          <input type=\"text\" id=\"tags\" @keydown.enter=\"onkeytags($event)\" />\r\n          <label for=\"tags\">按下回车创建标签</label>\r\n        </form>\r\n      </div>\r\n      <br />\r\n      <div class=\"form-4\">\r\n        <h3>图片上传</h3>\r\n        <br />\r\n        <form action=\"\">\r\n          <input\r\n            type=\"file\"\r\n            accept=\"image/jpeg, image/jpg, image/png, image/bmp\"\r\n            id=\"imgfile\"\r\n            @change=\"imgsrcFun\"\r\n          />\r\n        </form>\r\n        <div>\r\n          <label for=\"imgfile\">\r\n            <div>\r\n              <i v-show=\"imginput\" class=\"iconfont icon-tupian\"></i>\r\n              <h4 v-show=\"imginput\">请添加专栏头图</h4>\r\n              <img :src=\"imgcanvas\" alt=\"\" />\r\n            </div>\r\n          </label>\r\n          <div class=\"modification\" v-show=\"imginput === false\">\r\n            <div>\r\n              <i class=\"iconfont icon-xiazai\" @click=\"downloadFun\"></i>\r\n              <i\r\n                class=\"iconfont icon-tupian\"\r\n                @click=\"reselectFun('#imgfile')\"\r\n              ></i>\r\n              <i class=\"iconfont icon-shanchu\" @click=\"imgcanvas = ''\"></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <br />\r\n        <aside v-show=\"imgsrc !== ''\">\r\n          <h4>\r\n            <span>设置专栏头图</span>\r\n            <i class=\"iconfont icon-guanbi\"></i>\r\n          </h4>\r\n          <br />\r\n          <div class=\"cutting\">\r\n            <div class=\"left\">\r\n              <h5>截取展示区域</h5>\r\n              <figure>\r\n                <div>\r\n                  <div class=\"choose\" ref=\"choose\"></div>\r\n                  <img :src=\"imgsrc\" alt=\"\" ref=\"refimg\" />\r\n                </div>\r\n              </figure>\r\n            </div>\r\n            <div class=\"right\">\r\n              <h5>最终效果展示</h5>\r\n              <div><img :src=\"imgsrc\" alt=\"\" ref=\"chooseresult\" /></div>\r\n            </div>\r\n          </div>\r\n          <br />\r\n          <div class=\"reselect\">\r\n            <button @click=\"reselectFun('#imgfile')\">重新选择</button>\r\n          </div>\r\n          <br />\r\n          <div class=\"bottom\">\r\n            <button @click=\"confirmFun()\">确认</button>\r\n            <button @click=\"cancleFun\">取消</button>\r\n          </div>\r\n        </aside>\r\n      </div>\r\n      <br />\r\n      <div class=\"form-5\">\r\n        <h3>你的创作准备好了吗</h3>\r\n        <br />\r\n        <ul>\r\n          <li><button @click=\"subData\">提交文章</button></li>\r\n          <li><button>PC端预览</button></li>\r\n          <li><button>手机端预览</button></li>\r\n        </ul>\r\n      </div>\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport WangEditor from \"wangeditor\";\r\nimport apidata from \"@/components/apidata/api\";\r\nexport default {\r\n  name: \"Editor\",\r\n  data() {\r\n    return {\r\n      edidordata: {\r\n        //默认数据,用于读取初始数组和增加删除\r\n        classly: \"\",\r\n        tgas: \"\"\r\n      },\r\n      subeditor: [],\r\n      imgsrc: \"\",\r\n      imgcanvas: \"\",\r\n      imginput: true,\r\n      submit: {\r\n        content: \"\",\r\n        title: \"\",\r\n        brief: \"\",\r\n        name: \"\",\r\n        imgurl: \"\",\r\n        classly: \"HTML\",\r\n        tgas: Array,\r\n        time: \"\"\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    confirmtags: function(item) {\r\n      // 增加\r\n      // console.log(item)\r\n      // this.submit.tgas.push(this.edidordata.tgas[item]);\r\n      if(Array.isArray(this.submit.tgas)){\r\n        this.submit.tgas.push(this.edidordata.tgas[item]);\r\n      }else{\r\n        this.submit.tgas = Array.of(this.edidordata.tgas[item])\r\n      }\r\n    },\r\n    imgsrcFun: function(e) {\r\n      if (e.target.files.item(0) !== null) {\r\n        let url = window.URL.createObjectURL(e.target.files.item(0));\r\n        this.imgsrc = url;\r\n        setTimeout(() => {\r\n          this.picture();\r\n        }, 40);\r\n      }\r\n    },\r\n    picture: async function() {\r\n      let _w = await this.$refs.refimg.offsetWidth;\r\n      let _c = await this.$refs.choose;\r\n      let _res = await this.$refs.chooseresult;\r\n      _c.style = `width:100%;height:${(_w / 16) * 9}px;top:0`;\r\n      this._drag(_c.parentElement, _c, _res);\r\n    },\r\n    _drag: function(father, son, chooseresult) {\r\n      son.onmousedown = function(e) {\r\n        let divX = e.clientX - this.offsetLeft;\r\n        let divY = e.clientY - this.offsetTop;\r\n        let res;\r\n        if (son.setCapture) {\r\n          son.setCapture(); // 修复低版本 IE bug\r\n        }\r\n        father.onmousemove = function(e) {\r\n          let disX = e.clientX - divX;\r\n          let disY = e.clientY - divY;\r\n          if (disX < 0) {\r\n            disX = 0;\r\n          } else if (disX > father.clientWidth - son.offsetWidth) {\r\n            disX = father.clientWidth - son.offsetWidth;\r\n          }\r\n          if (disY < 0) {\r\n            disY = 0;\r\n          } else if (disY > father.clientHeight - son.offsetHeight) {\r\n            disY = father.clientHeight - son.offsetHeight;\r\n          }\r\n          res = `-${disY * (chooseresult.clientHeight / 300)}`;\r\n          son.style.top = disY + \"px\";\r\n          son.style.left = disX + \"px\";\r\n          chooseresult.style.top = `${res}px`;\r\n          chooseresult.style.left = -disX + \"px\";\r\n          document.onmouseup = function() {\r\n            father.onmousedown = father.onmousemove = null;\r\n            if (son.releaseCapture) {\r\n              son.releaseCapture(); // 修复低版本 IE bug\r\n            }\r\n          };\r\n        };\r\n      };\r\n    },\r\n    _canvas: function() {\r\n      let images = new Image();\r\n      let canvas = document.createElement(\"canvas\");\r\n      let ctx = canvas.getContext(\"2d\");\r\n      let img = this.$refs.refimg;\r\n      let choiceboxtop =\r\n        (this.$refs.chooseresult.naturalHeight /\r\n          this.$refs.chooseresult.clientHeight) *\r\n        Math.abs(this.$refs.chooseresult.offsetTop);\r\n      // let choiceboxtop = 640-358;\r\n\r\n      let choiceboxleft = this.$refs.choose.offsetLeft;\r\n      canvas.width = img.naturalWidth;\r\n      canvas.height = (img.naturalWidth / 16) * 9;\r\n      images.src = img.src;\r\n      ctx.drawImage(\r\n        images,\r\n        choiceboxleft,\r\n        choiceboxtop,\r\n        img.naturalWidth,\r\n        canvas.height,\r\n        0,\r\n        0,\r\n        canvas.width,\r\n        canvas.height\r\n      );\r\n      this.imgcanvas = canvas.toDataURL(\"image/jpeg\");\r\n      // window.URL.revokeObjectURL(this.imgsrc);\r\n    },\r\n    reselectFun: function(id) {\r\n      document.querySelector(id).click();\r\n    },\r\n    confirmFun: async function() {\r\n      await this._canvas();\r\n      this.imgsrc = \"\";\r\n    },\r\n    cancleFun: function() {\r\n      // alert(\"暂时只用于展示，部分功能未开放\");\r\n      // window.URL.revokeObjectURL(this.imgsrc);\r\n    },\r\n    downloadFun: function() {\r\n      let a = document.createElement(\"a\");\r\n      a.href = this.imgcanvas;\r\n      a.download = \"img.jpeg\";\r\n      a.click();\r\n      a = null;\r\n    },\r\n    editorFun: function(a, b) {\r\n      let x = document.querySelector(a),\r\n        y = document.querySelector(b),\r\n        editor = new WangEditor(x, y);\r\n      editor.create();\r\n      let jsondata = JSON.parse(localStorage.getItem(\"JSONDATA\")) || \"\";\r\n      editor.txt.html(jsondata.content);\r\n      let api = new apidata();\r\n      console.log(api)\r\n      api.editorApi().then(async result => {\r\n        let res = await result.data;\r\n        this.edidordata.classly = res.classly;\r\n        this.edidordata.tgas = res.tgas;\r\n      });\r\n      let timer;\r\n      y.addEventListener(\"keydown\", () => {\r\n        console.log(this.submit.content)\r\n        clearTimeout(timer);\r\n        timer = setTimeout(() => {\r\n          this.submit.content = editor.txt.html();\r\n\r\n        }, 1200);\r\n      });\r\n    },\r\n    onkeytags: function(e) {\r\n      if (e.target.value === \"\") {\r\n        return false;\r\n      }\r\n      console.log(e.target.value)\r\n      console.log(this.submit.tgas);\r\n      this.submit.tgas.push(e.target.value);\r\n      setTimeout(() => {\r\n        e.target.value = \"\";\r\n      }, 40);\r\n    },\r\n    /*****************装饰器和计时器starde***************/\r\n    chacheDecotator: function(func) {\r\n      let cache = new Map();\r\n      return function(x) {\r\n        if (cache.has(x)) {\r\n          return cache.get(x);\r\n        }\r\n        let result = func.call(this, x);\r\n        cache.set(x, result);\r\n        return result;\r\n      };\r\n    },\r\n    /***************装饰器和计时器end*************************/\r\n    ChaceData: function(setget) {\r\n      if (setget === \"set\") {\r\n        localStorage.setItem(\"JSONDATA\", JSON.stringify(this.submit, null, 2));\r\n      } else if (setget === \"get\") {\r\n        let data = JSON.parse(localStorage.getItem(\"JSONDATA\"));\r\n        Object.assign(this.submit, data);\r\n      }\r\n    },\r\n    deteleFun: function(item) {\r\n      console.log(item)\r\n      let index = this.submit.tgas || 0;\r\n      index.splice(index.indexOf(item), 1);\r\n    },\r\n    subData: function() {\r\n      let link = document.createElement(\"a\");\r\n      link.download = \"data.json\";\r\n      let blob = new Blob([JSON.stringify(this.submit, null, 2)], {\r\n        type: \"text/plain\"\r\n      });\r\n      link.href = URL.createObjectURL(blob);\r\n      link.click();\r\n      URL.revokeObjectURL(link.href);\r\n    }\r\n  },\r\n  watch: {\r\n    imgcanvas() {\r\n      if (this.imgcanvas === \"data:,\" || this.imgcanvas === \"\") {\r\n        this.imginput = true;\r\n      } else {\r\n        this.imginput = false;\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.editorFun(\"#editor-1\", \"#editor-2\");\r\n    this.ChaceData(\"get\");\r\n    let timer;\r\n    window.addEventListener(\"keyup\", () => {\r\n      clearTimeout(timer);\r\n      timer = setTimeout(() => {\r\n        this.ChaceData(\"set\");\r\n      }, 1000);\r\n    });\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.editor {\r\n  // 编辑器原生\r\n  max-width: 1000px;\r\n  margin: 2em auto;\r\n\r\n  #editor-2 {\r\n    border: 1px solid #ccc;\r\n    height: 600px;\r\n  }\r\n  .w-e-toolbar {\r\n    flex-wrap: wrap;\r\n    border: 1px solid #ccc;\r\n  }\r\n\r\n  section {\r\n    & > div {\r\n      background-color: #fff;\r\n      border-radius: 5px;\r\n      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\r\n      padding: 1em 1em;\r\n      h3 {\r\n        line-height: 2em;\r\n        border-bottom: 1px solid #ccc;\r\n        font-size: 16px;\r\n      }\r\n    }\r\n    /***************************************/\r\n    .form-1 {\r\n      input {\r\n        line-height: 3em;\r\n        color: #666;\r\n        text-indent: 1em;\r\n      }\r\n      input[name=\"title\"] {\r\n        width: 100%;\r\n      }\r\n      input:not(:nth-of-type(1)) {\r\n        margin: 0 1em 1em 0;\r\n        min-width: 225px;\r\n      }\r\n    }\r\n    /***************************************/\r\n    .form-2 {\r\n      ul {\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n        li {\r\n          display: flex;\r\n          align-items: center;\r\n          margin: 0 1em 0 0;\r\n          input {\r\n            margin-right: 0.2em;\r\n            width: 20px;\r\n            height: 20px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    /***************************************/\r\n    .form-3 {\r\n      ul {\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n        li {\r\n          display: flex;\r\n          align-items: center;\r\n          box-shadow: 0 0 3px 0px #71565a;\r\n          margin-right: 1em;\r\n          transition: all 0.5s;\r\n          cursor: pointer;\r\n          margin-bottom: 1em;\r\n\r\n          span {\r\n            background-color: #ccc;\r\n            padding: 0.5em 1em 0.5em 1em;\r\n            // color: #fff;\r\n            color: var(--themetxt);\r\n            transition: all 0.5s;\r\n          }\r\n          i {\r\n            padding: 0 0.5em;\r\n            opacity: 0;\r\n            // color: #f1c40f;\r\n            color: var(--themetxt);\r\n            transition: all 0.5s;\r\n          }\r\n        }\r\n        li:hover {\r\n          span {\r\n            background-color: #f1c40f;\r\n          }\r\n          i {\r\n            padding: 0 0.5em;\r\n            opacity: 1;\r\n          }\r\n        }\r\n        .li-js {\r\n          span {\r\n            background-color: #3498db !important;\r\n          }\r\n          i {\r\n            padding: 0 0.5em;\r\n            opacity: 1;\r\n          }\r\n        }\r\n      }\r\n      input {\r\n        line-height: 2em;\r\n        text-indent: 1em;\r\n        // color: #666;\r\n        color: var(--themetxt);\r\n      }\r\n      label {\r\n        margin-left: 1em;\r\n      }\r\n    }\r\n    /***************************************/\r\n    .form-4 {\r\n      form {\r\n        display: none;\r\n      }\r\n      /************内部分割************/\r\n      aside {\r\n        width: 100%;\r\n        background-color: #fff;\r\n        h4 {\r\n          border-bottom: 1px solid #e5e9ef;\r\n          display: flex;\r\n          justify-content: space-between;\r\n          padding: 1em 1em;\r\n          span {\r\n            // color: #222;\r\n            color: var(--themetxt);\r\n            font-size: 14px;\r\n            font-weight: 100;\r\n          }\r\n          i {\r\n            cursor: pointer;\r\n          }\r\n        }\r\n        .cutting {\r\n          display: flex;\r\n          justify-content: space-evenly;\r\n          flex-wrap: wrap;\r\n          h5 {\r\n            // color: #99a2aa;\r\n            color: var(--themetxt);\r\n            font-weight: 100;\r\n            line-height: 2em;\r\n          }\r\n          .left {\r\n            width: 480px;\r\n            // height: 300px;\r\n            figure {\r\n              background-color: #000;\r\n              width: 100%;\r\n              height: 300px;\r\n              border-radius: 5px;\r\n              display: flex;\r\n              justify-content: center;\r\n              div {\r\n                height: 100%;\r\n                position: relative;\r\n                display: flex;\r\n                justify-content: center;\r\n                align-items: baseline;\r\n                img {\r\n                  max-width: 100%;\r\n                  // min-width: 320px;\r\n                  max-height: 100%;\r\n                }\r\n                .choose {\r\n                  position: absolute;\r\n                  // border: 1px solid #fff;\r\n                  cursor: pointer;\r\n                  background-color: rgba(0, 0, 0, 0.5);\r\n                  // background-color: var(--themebackground);\r\n                }\r\n              }\r\n            }\r\n          }\r\n          .right {\r\n            width: 240px;\r\n\r\n            div {\r\n              position: relative;\r\n              overflow: hidden;\r\n              height: 135px;\r\n              // box-shadow: 0 0 0px 20px black;\r\n              img {\r\n                width: 240px;\r\n                // max-height: 300px;\r\n                position: absolute;\r\n              }\r\n            }\r\n          }\r\n        }\r\n        .reselect {\r\n          width: 83%;\r\n          margin: 0 auto;\r\n          button {\r\n            border-radius: 16px;\r\n            outline: none;\r\n            border: 0;\r\n            // background-color: #fff;\r\n            background-color: var(--themebackground);\r\n            border: 1px solid #bdc3c7;\r\n            padding: 6px 8px;\r\n            cursor: pointer;\r\n            transition: all 0.5s;\r\n            // color: #6d757a;\r\n            color: var(--themetxt);\r\n            &:hover {\r\n              background-color: #bdc3c7;\r\n            }\r\n          }\r\n        }\r\n        .bottom {\r\n          border-top: 1px solid #e5e9ef;\r\n          margin: 0 auto;\r\n          padding-top: 15px;\r\n          width: 83%;\r\n          button {\r\n            background-color: #37c8f7;\r\n            outline: none;\r\n            border: 0;\r\n            // color: #fff;\r\n            color: var(--themetxt);\r\n            border-radius: 16px;\r\n            height: 32px;\r\n            line-height: 32px;\r\n            padding: 0 15px;\r\n            cursor: pointer;\r\n            margin-right: 1em;\r\n            transition: all 0.5s;\r\n          }\r\n          button:nth-of-type(2) {\r\n            background-color: #e4e2ee;\r\n            // color: #222;\r\n            color: var(--themetxt);\r\n            &:hover {\r\n              // background-color: #6d757a;\r\n              background-color: var(--themebackgroundhover);\r\n              // color: #fff;\r\n              color: var(--themetxthover);\r\n            }\r\n          }\r\n        }\r\n      }\r\n      /************form-4内部分割************/\r\n      & > div {\r\n        width: 100%;\r\n        position: relative;\r\n        label {\r\n          width: 100%;\r\n          & > div {\r\n            position: relative;\r\n            width: 100%;\r\n            min-height: 240px;\r\n            background-color: #fafbfd;\r\n            background-color: var(--themebackground);\r\n            display: flex;\r\n            justify-content: center;\r\n            align-items: center;\r\n            flex-direction: column;\r\n            cursor: pointer;\r\n            transition: all 0.5s;\r\n            h4 {\r\n              font-size: 1.5em;\r\n            }\r\n            i {\r\n              font-size: 3.5em;\r\n            }\r\n            img {\r\n              // position: absolute;\r\n              // filter: brightness(0.5);\r\n              width: 100%;\r\n            }\r\n          }\r\n          & > div:hover {\r\n            // background-color: #f1c40f;\r\n            background-color: var(--themebackgroundhover);\r\n          }\r\n        }\r\n        .modification {\r\n          width: 100%;\r\n          height: 100%;\r\n          position: absolute;\r\n          // background-color: rgba(0,0,0,0.2);\r\n          left: 0;\r\n          top: 0;\r\n          display: flex;\r\n          justify-content: flex-end;\r\n          align-items: flex-end;\r\n          & > div {\r\n            // background-color: rgba(0, 0, 0, 0.8);\r\n            background-color: var(--themebackground);\r\n            display: flex;\r\n            i {\r\n              color: #fff;\r\n              font-size: 30px;\r\n              cursor: pointer;\r\n              padding: 0.8em 0.8em;\r\n              transition: all 0.5s;\r\n            }\r\n            i:hover {\r\n              background-color: #000;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      /************内部分割************/\r\n    }\r\n    /***************************************/\r\n    .form-5 {\r\n      ul {\r\n        display: flex;\r\n        // flex-wrap: wrap;\r\n        li {\r\n          position: relative;\r\n          margin-right: 0.2em;\r\n          button {\r\n            color: #fff;\r\n            text-align: center;\r\n            border-radius: 5px;\r\n            z-index: 5;\r\n            padding: 0 0.5em;\r\n            line-height: 2em;\r\n            animation: sun 8s infinite;\r\n            box-sizing: border-box;\r\n            background: linear-gradient(\r\n              90deg,\r\n              #03a9f4,\r\n              #f441a5,\r\n              #ffeb3b,\r\n              #03a9f3\r\n            );\r\n            cursor: pointer;\r\n            background-size: 200%;\r\n            white-space: nowrap;\r\n            // animation-play-state: paused;\r\n          }\r\n          // button:hover{\r\n          // \tanimation: sun 8s infinite;\r\n          // }\r\n        }\r\n      }\r\n\r\n      @keyframes sun {\r\n        100% {\r\n          background-position: -200% 0;\r\n        }\r\n      }\r\n    }\r\n    /***************************************/\r\n    /***************************************/\r\n  }\r\n}\r\n// @media screen and (max-width:) {\r\n\r\n// }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Resource.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Resource.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Resource.vue?vue&type=template&id=515cf404&scoped=true&\"\nimport script from \"./Resource.vue?vue&type=script&lang=js&\"\nexport * from \"./Resource.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Resource.vue?vue&type=style&index=0&id=515cf404&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"515cf404\",\n  null\n  \n)\n\nexport default component.exports","var hiddenKeys = require('../internals/hidden-keys');\nvar isObject = require('../internals/is-object');\nvar has = require('../internals/has');\nvar defineProperty = require('../internals/object-define-property').f;\nvar uid = require('../internals/uid');\nvar FREEZING = require('../internals/freezing');\n\nvar METADATA = uid('meta');\nvar id = 0;\n\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\n\nvar setMetadata = function (it) {\n  defineProperty(it, METADATA, { value: {\n    objectID: 'O' + ++id, // object ID\n    weakData: {}          // weak collections IDs\n  } });\n};\n\nvar fastKey = function (it, create) {\n  // return a primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMetadata(it);\n  // return object ID\n  } return it[METADATA].objectID;\n};\n\nvar getWeakData = function (it, create) {\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMetadata(it);\n  // return the store of weak collections IDs\n  } return it[METADATA].weakData;\n};\n\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZING && meta.REQUIRED && isExtensible(it) && !has(it, METADATA)) setMetadata(it);\n  return it;\n};\n\nvar meta = module.exports = {\n  REQUIRED: false,\n  fastKey: fastKey,\n  getWeakData: getWeakData,\n  onFreeze: onFreeze\n};\n\nhiddenKeys[METADATA] = true;\n"],"sourceRoot":""}